<!DOCTYPE html>
<html lang="interview" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="机试题库 - 13">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="https://localhost:1313/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%9313/">
  <meta property="og:site_name" content="Interview">
  <meta property="og:title" content="机试题库 - 13">
  <meta property="og:description" content="机试题库 - 13">
  <meta property="og:locale" content="interview">
  <meta property="og:type" content="article">
    <meta property="article:section" content="program-design">
<title>机试题库 - 13 | Interview</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" >
<link rel="canonical" href="https://localhost:1313/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%9313/">
<link rel="stylesheet" href="/book.min.309b7ed028807cdb68d8d61e26d609f48369c098dbf5e4d8c0dcf4cdf49feafc.css" integrity="sha256-MJt&#43;0CiAfNto2NYeJtYJ9INpwJjb9eTYwNz0zfSf6vw=" crossorigin="anonymous">
  <script defer src="/fuse.min.js"></script>
  <script defer src="/interview.search.min.3baa99935d6e12f896a5c804bb4f4423cb3e82ebee08be4f99b9fc089bc7f4e6.js" integrity="sha256-O6qZk11uEviWpcgEu09EI8s&#43;guvuCL5Pmbn8CJvH9OY=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
<link rel="stylesheet" href="/css/common.css" />
<script defer src="/js/common/jquery.min.js"></script>
<script defer src="/js/common.js"></script>



</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>




  
    
  
    
  
    
  



<h2 class="book-brand">
  <div class="flex justify-between">
    <a href="/interview"><span>Interview</span>
    </a>
    <a href="#" onclick="multiContent('https:\/\/localhost:1313\/interview\/program-design\/structure-algorithm\/huawei-od\/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%9313\/')">
      &nbsp;&nbsp;&nbsp;&nbsp;
      <span style="font-size: 1rem;font-weight: bolder;">☰</span>
    </a>
  </div>
  <div id="multi-content-list" class="style-hide" tabindex="0" aria-haspopup="true">
    <ul>
      
        
          
            <li id="doc">
              <a href="https://localhost:1313/" class="flex align-center">
                Document
              </a>
            </li>
          
        
      
        
          
        
      
        
          
            <li id="idata">
              <a href="https://localhost:1313/idata/" class="flex align-center">
                IData
              </a>
            </li>
          
        
      
    </ul>
  </div>
</h2>

<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="" aria-label="" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>



  










  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-d7af54bb6384ef366b268a9438900490" class="toggle"  />
    <label for="section-d7af54bb6384ef366b268a9438900490" class="flex justify-between">
      <a role="button" class="">编程基础</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/program-base/network/" class="">网络</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-base/linux/" class="">Linux</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-d368cfb348ae2c31b67bc0cd97524469" class="toggle" checked />
    <label for="section-d368cfb348ae2c31b67bc0cd97524469" class="flex justify-between">
      <a role="button" class="">程序设计</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-547eb2a955702a10f6a5115390900419" class="toggle" checked />
    <label for="section-547eb2a955702a10f6a5115390900419" class="flex justify-between">
      <a role="button" class="">数据结构与算法</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-e1272beed7905527d0fba42083bdee40" class="toggle" checked />
    <label for="section-e1272beed7905527d0fba42083bdee40" class="flex justify-between">
      <a role="button" class="">华为OD</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E5%BF%85%E4%BC%9A%E9%A2%981/" class="">必会题 - 1</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E5%BF%85%E4%BC%9A%E9%A2%982/" class="">必会题 - 2</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E5%8F%82%E8%80%83%E9%A2%981/" class="">参考题 - 1</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%931/" class="">机试题库 - 1</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%932/" class="">机试题库 - 2</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%933/" class="">机试题库 - 3</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%934/" class="">机试题库 - 4</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%935/" class="">机试题库 - 5</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%9311/" class="">机试题库 - 11</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%9312/" class="">机试题库 - 12</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%9313/" class="active">机试题库 - 13</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%9314/" class="">机试题库 - 14</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E5%8D%8E%E4%B8%BA%E6%9C%BA%E8%AF%95/" class="">华为机试</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%9321/" class="">机试题库 - 21</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%9322/" class="">机试题库 - 22</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E5%85%A8/" class="">索引</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d7784697cbea516c63f36e08f8ea9b7b" class="toggle"  />
    <label for="section-d7784697cbea516c63f36e08f8ea9b7b" class="flex justify-between">
      <a role="button" class="">leetcode</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/leetcode/%E5%93%88%E5%B8%8C/" class="">哈希</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/leetcode/%E5%8F%8C%E6%8C%87%E9%92%88/" class="">双指针</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/leetcode/%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/" class="">滑动窗口</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/leetcode/%E5%AD%90%E4%B8%B2/" class="">子串</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/dir/" class="">目录</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-1d60455ab7836bb2a3a56b8bde54f5b9" class="toggle"  />
    <label for="section-1d60455ab7836bb2a3a56b8bde54f5b9" class="flex justify-between">
      <a role="button" class="">设计模式</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-534b4c3b58152c7a029cbad8bcc9e467" class="toggle"  />
    <label for="section-534b4c3b58152c7a029cbad8bcc9e467" class="flex justify-between">
      <a role="button" class="">分布式</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/distributed/p1/" class="">Part.1</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-4e3a1bbd5ca40b4023e33e48202fe092" class="toggle"  />
    <label for="section-4e3a1bbd5ca40b4023e33e48202fe092" class="flex justify-between">
      <a role="button" class="">开发工具</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/dev-tool/git/" class="">Git</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/dev-tool/maven/" class="">Maven</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/dev-tool/tomcat/" class="">Tomcat</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>—</span>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-b032946e6aac69e7d2bfca696347bd30" class="toggle"  />
    <label for="section-b032946e6aac69e7d2bfca696347bd30" class="flex justify-between">
      <a role="button" class="">程序语言</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-62f00d6c6c4fc42ea6cda66313338d79" class="toggle"  />
    <label for="section-62f00d6c6c4fc42ea6cda66313338d79" class="flex justify-between">
      <a role="button" class="">Java基础</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/program-lang/java-base/p1/" class="">Part.1</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-lang/java-base/p2/" class="">Part.2</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-lang/java-base/p3/" class="">Part.3</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-c0ce084c2514d6bd2b2c3467a1929a3d" class="toggle"  />
    <label for="section-c0ce084c2514d6bd2b2c3467a1929a3d" class="flex justify-between">
      <a role="button" class="">Java虚拟机</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/program-lang/java-jvm/p1/" class="">Part.1</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-lang/java-jvm/p2/" class="">Part.2</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2a42d8e26dc157dad91266007f615424" class="toggle"  />
    <label for="section-2a42d8e26dc157dad91266007f615424" class="flex justify-between">
      <a role="button" class="">Java多线程</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/program-lang/java-thread/p1/" class="">Part.1</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-lang/java-thread/p2/" class="">Part.2</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-fe10a5803fcd991eeb3fa98ee3172a4f" class="toggle"  />
    <label for="section-fe10a5803fcd991eeb3fa98ee3172a4f" class="flex justify-between">
      <a role="button" class="">数据存储</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-5c53985597fa4a4175f4c1a5cffc2e9c" class="toggle"  />
    <label for="section-5c53985597fa4a4175f4c1a5cffc2e9c" class="flex justify-between">
      <a role="button" class="">MySQL</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/database/mysql/p1/" class="">Part.1</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-bfd18413517cb0125b84955ad7966530" class="toggle"  />
    <label for="section-bfd18413517cb0125b84955ad7966530" class="flex justify-between">
      <a role="button" class="">Redis</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/database/redis/p1/" class="">Part.1</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>—</span>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-3cd205a449ba65dd2a21212b6922546d" class="toggle"  />
    <label for="section-3cd205a449ba65dd2a21212b6922546d" class="flex justify-between">
      <a role="button" class="">开源框架</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d32f47fca6b34b56b534735afccc1729" class="toggle"  />
    <label for="section-d32f47fca6b34b56b534735afccc1729" class="flex justify-between">
      <a role="button" class="">MQ</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/framework/mq/mq/" class="">MQ</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f3f420fbf9c98b8554806eb25798e5a2" class="toggle"  />
    <label for="section-f3f420fbf9c98b8554806eb25798e5a2" class="flex justify-between">
      <a role="button" class="">Spring</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/framework/spring/p1/" class="">Part.1</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/framework/spring/p2/" class="">Part.2</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/framework/mybatis/" class="">MyBatis</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-cc51f608bfbc7068b8b058b45385b866" class="toggle"  />
    <label for="section-cc51f608bfbc7068b8b058b45385b866" class="flex justify-between">
      <a role="button" class="">服务治理</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/service-manage/spring-boot/" class="">SpringBoot</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/service-manage/spring-cloud/" class="">SpringCloud</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/service-manage/nginx/" class="">Nginx</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/service-manage/dubbo/" class="">Dubbo</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/service-manage/zookeeper/" class="">Zookeeper</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>机试题库 - 13</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#01-贪吃蛇">01. 贪吃蛇</a></li>
    <li><a href="#02-贪心歌手">02. 贪心歌手</a></li>
    <li><a href="#03-特殊的加密算法">03. 特殊的加密算法</a></li>
    <li><a href="#04-田忌赛马">04. 田忌赛马</a></li>
    <li><a href="#05-跳格子3">05. 跳格子3</a></li>
    <li><a href="#06-跳马">06. 跳马</a></li>
    <li><a href="#07-图像物体的边界">07. 图像物体的边界</a></li>
    <li><a href="#08-推荐多样性">08. 推荐多样性</a></li>
    <li><a href="#09-文本统计分析">09. 文本统计分析</a></li>
    <li><a href="#10-文件缓存系统">10. 文件缓存系统</a></li>
    <li><a href="#11-污染水域">11. 污染水域</a></li>
    <li><a href="#12-项目排期">12. 项目排期</a></li>
    <li><a href="#13-小朋友分组最少调整次数">13. 小朋友分组最少调整次数</a></li>
    <li><a href="#14-信道分配">14. 信道分配</a></li>
    <li><a href="#15-寻找最优的路测线路">15. 寻找最优的路测线路</a></li>
    <li><a href="#16-园区参观路径">16. 园区参观路径</a></li>
    <li><a href="#17-员工派遣">17. 员工派遣</a></li>
    <li><a href="#18-运输时间">18. 运输时间</a></li>
    <li><a href="#19-找城市">19. 找城市</a></li>
    <li><a href="#20-找单词">20. 找单词</a></li>
    <li><a href="#21-找到比自己强的人数">21. 找到比自己强的人数</a></li>
    <li><a href="#22-找数字">22. 找数字</a></li>
    <li><a href="#23-智能驾驶">23. 智能驾驶</a></li>
    <li><a href="#24-中文分词模拟器">24. 中文分词模拟器</a></li>
    <li><a href="#25-转骰子">25. 转骰子</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h2 id="01-贪吃蛇">
  01. 贪吃蛇
  <a class="anchor" href="#01-%e8%b4%aa%e5%90%83%e8%9b%87">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>贪吃蛇是一个经典游戏，蛇的身体由若干方格连接而成，身体随蛇头移动。蛇头触碰到食物时，蛇的长度会增加一格。
</span></span><span style="display:flex;"><span>蛇头和身体的任一方格或者游戏版图边界碰撞时，游戏结束。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>贪吃蛇游戏的模拟：
</span></span><span style="display:flex;"><span>给定一个NM的数组ar，代表NM个方格组成的版图，贪吃蛇每次移动一个方格。
</span></span><span style="display:flex;"><span>若ar[i][j]==&#39;H&#39;，表示该方可为贪吃蛇的起始位置;
</span></span><span style="display:flex;"><span>若ar[i][j]==&#39;F&#39;，表示该方格为食物，
</span></span><span style="display:flex;"><span>若ar[i][j]==&#39;E&#39;，表示该方格为空格。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>贪吃蛇初始长度为1，初始移动方向为向左。
</span></span><span style="display:flex;"><span>输入为给定一系列贪吃蛇的移动操作，返回操作后蛇的长度，如果在操作执行完之前已经游戏结束，返回游戏结束时贪吃蛇的长度。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述: 
</span></span><span style="display:flex;"><span>第1行：为空格分隔的字母，代表贪吃蛇的移动操作。字母取值为 U、D、L、R、G，
</span></span><span style="display:flex;"><span>其中UDLR分别表示贪吃蛇往上下左右转向，转向时贪吃蛇不移动，G表示贪吃蛇按 当前的方向移动一格。用例保证输入的操作正确。
</span></span><span style="display:flex;"><span>第2行：为空格分隔的两个数，指定为 N和 M，为数组的行和列数。
</span></span><span style="display:flex;"><span>余下 N行每行是空格分 隔的 M个字母。字母取值为 H、F和 E，H表示贪吃蛇的起始位置，F表示食物，E表示该 方格为空。
</span></span><span style="display:flex;"><span>用例保证有且只有一个 H，而 F和 E会有多个。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述:
</span></span><span style="display:flex;"><span>输出一个数字为蛇的长度。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：D G G
</span></span><span style="display:flex;"><span>	 3 3
</span></span><span style="display:flex;"><span>     F F F
</span></span><span style="display:flex;"><span>     F F H
</span></span><span style="display:flex;"><span>     E F E
</span></span><span style="display:flex;"><span>输出：1
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>roadArr<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34; &#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>numArr<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34; &#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">parseInt</span>(numArr[0]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>m<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">parseInt</span>(numArr[1]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[][]<span style="color:#bbb"> </span>arr<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>String[n][m];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>String[]<span style="color:#bbb"> </span>tempArr<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34; &#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>m;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>arr[i][j]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>tempArr[j];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>ans<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>solution(roadArr,<span style="color:#bbb"> </span>arr,<span style="color:#bbb"> </span>n,<span style="color:#bbb"> </span>m);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(ans);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#008b45">solution</span>(String[]<span style="color:#bbb"> </span>roadArr,<span style="color:#bbb"> </span>String[][]<span style="color:#bbb"> </span>arr,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>m)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>start<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>{0,<span style="color:#bbb"> </span>0};<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>ArrayDeque&lt;String&gt;<span style="color:#bbb"> </span>body<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>ArrayDeque&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>m;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(<span style="color:#cd5555">&#34;H&#34;</span>.<span style="color:#658b00">equals</span>(arr[i][j]))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>body.<span style="color:#658b00">add</span>(i<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;-&#34;</span><span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>j);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>start[0]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>i;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>start[1]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>j;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>curDir<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;L&#34;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>roadArr.<span style="color:#658b00">length</span>;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>String<span style="color:#bbb"> </span>str<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>roadArr[i];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(<span style="color:#cd5555">&#34;U&#34;</span>.<span style="color:#658b00">equals</span>(str)<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;D&#34;</span>.<span style="color:#658b00">equals</span>(str)<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;L&#34;</span>.<span style="color:#658b00">equals</span>(str)<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;R&#34;</span>.<span style="color:#658b00">equals</span>(str))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>curDir<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>str;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(<span style="color:#cd5555">&#34;G&#34;</span>.<span style="color:#658b00">equals</span>(str))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(<span style="color:#cd5555">&#34;U&#34;</span>.<span style="color:#658b00">equals</span>(curDir))<span style="color:#bbb"> </span>start<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[]{start[0]<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>start[1]};<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(<span style="color:#cd5555">&#34;D&#34;</span>.<span style="color:#658b00">equals</span>(curDir))<span style="color:#bbb"> </span>start<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[]{start[0]<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>start[1]};<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(<span style="color:#cd5555">&#34;L&#34;</span>.<span style="color:#658b00">equals</span>(curDir))<span style="color:#bbb"> </span>start<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[]{start[0],<span style="color:#bbb"> </span>start[1]<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1};<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(<span style="color:#cd5555">&#34;R&#34;</span>.<span style="color:#658b00">equals</span>(curDir))<span style="color:#bbb"> </span>start<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[]{start[0],<span style="color:#bbb"> </span>start[1]<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1};<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(start[0]<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>start[1]<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>start[0]<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>start[1]<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>m<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>||<span style="color:#bbb"> </span>body.<span style="color:#658b00">contains</span>(start[0]<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;-&#34;</span><span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>start[1]))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>body.<span style="color:#658b00">size</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(<span style="color:#cd5555">&#34;E&#34;</span>.<span style="color:#658b00">equals</span>(arr[start[0]][start[1]]))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>body.<span style="color:#658b00">addFirst</span>(start[0]<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;-&#34;</span><span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>start[1]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>body.<span style="color:#658b00">removeLast</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(<span style="color:#cd5555">&#34;F&#34;</span>.<span style="color:#658b00">equals</span>(arr[start[0]][start[1]]))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>body.<span style="color:#658b00">addFirst</span>(start[0]<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;-&#34;</span><span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>start[1]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>body.<span style="color:#658b00">size</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="02-贪心歌手">
  02. 贪心歌手
  <a class="anchor" href="#02-%e8%b4%aa%e5%bf%83%e6%ad%8c%e6%89%8b">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>一个歌手准备从A城去B城参加演出。问贪心的歌手最多可以赚多少钱？
</span></span><span style="display:flex;"><span>1. 按照合同，他必须在 T 天内赶到
</span></span><span style="display:flex;"><span>2. 歌手途经 N 座城市
</span></span><span style="display:flex;"><span>3. 歌手不能往回走
</span></span><span style="display:flex;"><span>4. 每两座城市之间需要的天数都可以提前获知。
</span></span><span style="display:flex;"><span>5. 歌手在每座城市都可以在路边卖唱赚钱。
</span></span><span style="display:flex;"><span>   经过调研，歌手提前获知了每座城市卖唱的收入预期：
</span></span><span style="display:flex;"><span>   如果在一座城市第一天卖唱可以赚M，后续每天的收入会减少D（第二天赚的钱是 M - D，第三天是 M - 2D ...）。
</span></span><span style="display:flex;"><span>   如果收入减少到 0 就不会再少了。
</span></span><span style="display:flex;"><span>6. 歌手到达后的第二天才能开始卖唱。如果今天卖过唱，第二天才能出发。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一行两个数字 T 和 N，中间用空格隔开。T 代表总天数，0 ＜ T ＜ 1000；N 代表路上经过 N 座城市，0 ＜ N ＜ 100
</span></span><span style="display:flex;"><span>第二行 N+1 个数字，中间用空格隔开。代表每两座城市之间耗费的时间。其总和 ≤ T。
</span></span><span style="display:flex;"><span>接下来 N 行，每行两个数字 M 和 D，中间用空格隔开。代表每个城市的输入预期。0 ＜ M ＜ 1000，0 ＜ D ＜ 100
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>一个数字。代表歌手最多可以赚多少钱。以回车结束。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：10 2
</span></span><span style="display:flex;"><span>     1 1 2
</span></span><span style="display:flex;"><span>     120 20
</span></span><span style="display:flex;"><span>     90 10
</span></span><span style="display:flex;"><span>输出：540
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>t;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>roadCost;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>mds;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>t<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// roadCost是A~B城市必需的路程时间</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>roadCost<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>roadCost<span style="color:#bbb"> </span>+=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>mds<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[n][2];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>mds[i][0]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>mds[i][1]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(getResult());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>()<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// remain是刨去必要的路程时间后，剩余可以用于赚钱的时间</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>remain<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>t<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>roadCost;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 如果没有剩余时间可以用，则赚不到钱</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(remain<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 优先队列（小顶堆）记录赚到的钱, 即堆顶是某天赚的最少的钱</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>PriorityQueue&lt;Integer&gt;<span style="color:#bbb"> </span>pq<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>PriorityQueue&lt;&gt;((a,<span style="color:#bbb"> </span>b)<span style="color:#bbb"> </span>-&gt;<span style="color:#bbb"> </span>a<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>b);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>md<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>mds)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 第一天卖唱可以赚m，后续每天的收入会减少d</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>m<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>md[0];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>d<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>md[1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 只要在当前城市还有钱赚，那么就继续待</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(m<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 只有remain天可以赚钱，超出的时间不能赚钱，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 因此需要比较超出的时间赚的钱m，和前面时间中赚的最少的钱pq.peek</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(pq.<span style="color:#658b00">size</span>()<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>remain)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// pq.peek只可能是某座城市停留的最后一天的赚的钱，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 因为每座城市都是停留的最后一天赚的钱最少</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(m<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>pq.<span style="color:#658b00">peek</span>())<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#228b22">// 如果当前城市当天赚的钱m，比前面天里面赚的最少的pq.peek多，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#228b22">// 那么就赚pq.peek钱的那天时间节约下来，给当天用</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>pq.<span style="color:#658b00">poll</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#228b22">// 如果当前城市当天赚的钱m，比前面天里面赚的最少的pq.peek还少，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#228b22">// 则当前城市继续待下去赚的钱只会更少，因此没必要呆下去了</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#8b008b;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 如果所有城市停留时间没有超出remain天，或者当天是超出的时间，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 但是比前面赚的最少的一天的赚的更多，则赚m更优</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>pq.<span style="color:#658b00">add</span>(m);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">//  每天收入减少d</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>m<span style="color:#bbb"> </span>-=<span style="color:#bbb"> </span>d;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>pq.<span style="color:#658b00">stream</span>().<span style="color:#658b00">reduce</span>(Integer::sum).<span style="color:#658b00">orElse</span>(0);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="03-特殊的加密算法">
  03. 特殊的加密算法
  <a class="anchor" href="#03-%e7%89%b9%e6%ae%8a%e7%9a%84%e5%8a%a0%e5%af%86%e7%ae%97%e6%b3%95">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>有一种特殊的加密算法，明文为一段数字串，经过密码本查找转换，生成另一段密文数字串。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>规则如下：
</span></span><span style="display:flex;"><span>1. 明文为一段数字串由 0~9 组成
</span></span><span style="display:flex;"><span>2. 密码本为数字 0~9 组成的二维数组
</span></span><span style="display:flex;"><span>3. 需要按明文串的数字顺序在密码本里找到同样的数字串，密码本里的数字串是由相邻的单元格数字组成，
</span></span><span style="display:flex;"><span>   上下和左右是相邻的，注意：对角线不相邻，同一个单元格的数字不能重复使用。
</span></span><span style="display:flex;"><span>4. 每一位明文对应密文即为密码本中找到的单元格所在的行和列序号（序号从0开始）组成的两个数宇。
</span></span><span style="display:flex;"><span>   如明文第 i 位 Data[i] 对应密码本单元格为 Book[x][y]，则明文第 i 位对应的密文为X Y，X和Y之间用空格隔开。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>如果有多条密文，返回字符序最小的密文。
</span></span><span style="display:flex;"><span>如果密码本无法匹配，返回&#34;error&#34;。
</span></span><span style="display:flex;"><span>请你设计这个加密程序。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一行输入 1 个正整数 N，代表明文的长度（1 ≤ N ≤ 200）
</span></span><span style="display:flex;"><span>第二行输入 N 个明文组成的序列 Data[i]（0 ≤ Data[i] ≤ 9）
</span></span><span style="display:flex;"><span>第三行输入 1 个正整数 M，代表密文的长度
</span></span><span style="display:flex;"><span>接下来 M 行，每行 M 个数，代表密文矩阵
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>输出字典序最小密文，如果无法匹配，输出&#34;error&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：2
</span></span><span style="display:flex;"><span>     0 3
</span></span><span style="display:flex;"><span>     3
</span></span><span style="display:flex;"><span>     0 0 2
</span></span><span style="display:flex;"><span>     1 3 4
</span></span><span style="display:flex;"><span>     6 6 4 
</span></span><span style="display:flex;"><span>输出：0 1 1 1
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#228b22">// 明文数字个数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">// 明文</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>datas;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">// 密码本矩阵大小</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>m;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">// 密码本</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>secrets;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>offsets<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>{{-1,<span style="color:#bbb"> </span>0},<span style="color:#bbb"> </span>{0,<span style="color:#bbb"> </span>-1},<span style="color:#bbb"> </span>{0,<span style="color:#bbb"> </span>1},<span style="color:#bbb"> </span>{1,<span style="color:#bbb"> </span>0}};<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>datas<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[n];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>datas[i]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 记录密码本中元素值等于“明文第一个数字”的所有元素的位置</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>ArrayList&lt;Integer&gt;<span style="color:#bbb"> </span>starts<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>ArrayList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>m<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>secrets<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[m][m];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>m;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>m;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>secrets[i][j]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 如果密码本(i,j)位置元素指等于明文第一个数字值，则记录(i,j)作为一个出发位置</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(datas[0]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>secrets[i][j])<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>starts.<span style="color:#658b00">add</span>(i<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>m<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>j);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(getResult(starts));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span>String<span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>(ArrayList&lt;Integer&gt;<span style="color:#bbb"> </span>starts)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>start<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>starts)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 出发位置</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>start<span style="color:#bbb"> </span>/<span style="color:#bbb"> </span>m;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>y<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>start<span style="color:#bbb"> </span>%<span style="color:#bbb"> </span>m;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// used[i][j]用于记录密码本(i,j)元素是否已使用</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">boolean</span>[][]<span style="color:#bbb"> </span>used<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">boolean</span>[m][m];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 出发点位置元素已使用</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>used[x][y]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">true</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 记录结果路径各节点位置</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>LinkedList&lt;String&gt;<span style="color:#bbb"> </span>path<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>LinkedList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 出发点位置记录</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>path.<span style="color:#658b00">add</span>(x<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span><span style="color:#cd5555">&#34; &#34;</span><span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>y);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 开始深搜</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(dfs(x,<span style="color:#bbb"> </span>y,<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>path,<span style="color:#bbb"> </span>used))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>StringJoiner<span style="color:#bbb"> </span>sj<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>StringJoiner(<span style="color:#cd5555">&#34; &#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(String<span style="color:#bbb"> </span>pos<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>path)<span style="color:#bbb"> </span>sj.<span style="color:#658b00">add</span>(pos);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>sj.<span style="color:#658b00">toString</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#cd5555">&#34;error&#34;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">/**
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @param x     当前位置横坐标
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @param y     当前位置纵坐标
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @param index datas[index]是将要匹配的明文数字
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @param path  路径
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @param used  密码本各元素使用情况
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @return 是否找到符合要求的路径
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">boolean</span><span style="color:#bbb"> </span><span style="color:#008b45">dfs</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>y,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>index,<span style="color:#bbb"> </span>LinkedList&lt;String&gt;<span style="color:#bbb"> </span>path,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">boolean</span>[][]<span style="color:#bbb"> </span>used)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 已找到明文最后一个数字，则找到符合要求的路径</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(index<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>n)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">true</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 否则，进行上、左、右、下四个方向偏移，注意这里的顺序是有影响的，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 即下一步偏移后产生的密文的字符序必然是：上 &lt; 左 &lt; 右 &lt; 下</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>offset<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>offsets)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 新位置</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>newX<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>x<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>offset[0];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>newY<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>y<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>offset[1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 新位置越界，或者新位置已使用，或者新位置不是目标值，则跳过</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(newX<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>0<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>||<span style="color:#bbb"> </span>newX<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>m<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>||<span style="color:#bbb"> </span>newY<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>0<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>||<span style="color:#bbb"> </span>newY<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>m<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>||<span style="color:#bbb"> </span>used[newX][newY]<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>||<span style="color:#bbb"> </span>secrets[newX][newY]<span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span>datas[index])<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">continue</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 递归进入新位置</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>path.<span style="color:#658b00">add</span>(newX<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span><span style="color:#cd5555">&#34; &#34;</span><span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>newY);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>used[newX][newY]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">true</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果当前分支可以找到符合要求的路径，则返回</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(dfs(newX,<span style="color:#bbb"> </span>newY,<span style="color:#bbb"> </span>index<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>path,<span style="color:#bbb"> </span>used))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">true</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 否则，回溯</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>used[newX][newY]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">false</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>path.<span style="color:#658b00">removeLast</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">false</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="04-田忌赛马">
  04. 田忌赛马
  <a class="anchor" href="#04-%e7%94%b0%e5%bf%8c%e8%b5%9b%e9%a9%ac">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>给定两个只包含数字的数组a，b，调整数组 a 里面的数字的顺序，使得尽可能多的a[i] &gt; b[i]。
</span></span><span style="display:flex;"><span>数组a和b中的数字各不相同。
</span></span><span style="display:flex;"><span>输出所有可以达到最优结果的a数组的结果。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>输入的第一行是数组 a 中的数字，其中只包含数字，每两个数字之间相隔一个空格，a数组大小不超过10。
</span></span><span style="display:flex;"><span>输入的第二行是数组 b 中的数字，其中只包含数字，每两个数字之间相隔一个空格，b数组大小不超过10。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>输出所有可以达到最优结果的 a 数组的数量。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：11 8 20
</span></span><span style="display:flex;"><span>     10 13 7
</span></span><span style="display:flex;"><span>输出：1
</span></span><span style="display:flex;"><span>说明：最优结果只有一个，a = [11, 20, 8]，故输出1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：11 12 20
</span></span><span style="display:flex;"><span>     10 13 7
</span></span><span style="display:flex;"><span>输出：2
</span></span><span style="display:flex;"><span>说明：有两个a数组的排列可以达到最优结果，[12, 20, 11] 和 [11, 20, 12]，故输出2
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：1 2 3
</span></span><span style="display:flex;"><span>     4 5 6
</span></span><span style="display:flex;"><span>输出：6
</span></span><span style="display:flex;"><span>说明：a无论如何都会全输，故a任意排列都行，输出所有a数组的排列，6种排法。
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>a;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>b;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>maxBiggerCount<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>ans<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>a<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34; &#34;</span>)).<span style="color:#658b00">mapToInt</span>(Integer::parseInt).<span style="color:#658b00">toArray</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>b<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34; &#34;</span>)).<span style="color:#658b00">mapToInt</span>(Integer::parseInt).<span style="color:#658b00">toArray</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 求解a的全排列</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>dfs(0,<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">boolean</span>[a.<span style="color:#658b00">length</span>],<span style="color:#bbb"> </span>0);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(ans);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">dfs</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>level,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">boolean</span>[]<span style="color:#bbb"> </span>used,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>biggerCount)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(level<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>a.<span style="color:#658b00">length</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(biggerCount<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>maxBiggerCount)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>maxBiggerCount<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>biggerCount;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>ans<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(biggerCount<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>maxBiggerCount)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>ans++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>a.<span style="color:#658b00">length</span>;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(used[i])<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">continue</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>used[i]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">true</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// biggerCount记录当前全排列中a[level] &gt; b[level]的位置的数量, 此时a[level] == a[i]</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>dfs(level<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>used,<span style="color:#bbb"> </span>biggerCount<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>(a[i]<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>b[level]<span style="color:#bbb"> </span>?<span style="color:#bbb"> </span>1<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>0));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>used[i]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">false</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="05-跳格子3">
  05. 跳格子3
  <a class="anchor" href="#05-%e8%b7%b3%e6%a0%bc%e5%ad%903">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>小明和朋友们一起玩跳格子游戏，每个格子上有特定的分数 score = [1, -1, -6, 7, -17, 7]，
</span></span><span style="display:flex;"><span>从起点score[0]开始，每次最大的步长为k，请你返回小明跳到终点 score[n-1] 时，能得到的最大得分。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一行输入总的格子数量 n
</span></span><span style="display:flex;"><span>第二行输入每个格子的分数 score[i]
</span></span><span style="display:flex;"><span>第三行输入最大跳的步长 k
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>输出最大得分
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：6
</span></span><span style="display:flex;"><span>     1 -1 -6 7 -17 7
</span></span><span style="display:flex;"><span>     2
</span></span><span style="display:flex;"><span>输出：14
</span></span><span style="display:flex;"><span>说明：输出最大得分数，小明从起点score[0]开始跳，第一次跳score[1],第二次跳到score[3],第三次跳到score[5]，
</span></span><span style="display:flex;"><span>因此得到的最大的得分是score[0] + score[1] + score[3] + score[5] = 14
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">parseInt</span>(sc.<span style="color:#658b00">nextLine</span>());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>split<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34; &#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>scores<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(split).<span style="color:#658b00">mapToInt</span>(Integer::parseInt).<span style="color:#658b00">toArray</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>k<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">parseInt</span>(sc.<span style="color:#658b00">nextLine</span>());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(getResult(n,<span style="color:#bbb"> </span>scores,<span style="color:#bbb"> </span>k));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>scores,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>k)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 第i个格子，可以从第i-k个格子~第i-1个格子调过来，因此本题滑窗的长度相当于k+1</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>k++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// dp[i]表示跳到第i个格子能得到的最大分数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>dp<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[n];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>dp[0]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>scores[0];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 单调队列（单调递减，队首是滑窗最大值）</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>LinkedList&lt;Integer&gt;<span style="color:#bbb"> </span>queue<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>LinkedList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>queue.<span style="color:#658b00">addLast</span>(dp[0]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 初始滑窗的形成过程（即只有新增尾部元素的过程）</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 注意当k &gt; n时, 需要取n, 此时只有滑窗形成过程，没有滑窗移动过程</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>1;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>Math.<span style="color:#658b00">min</span>(k,<span style="color:#bbb"> </span>n);<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// dp[i] = max(dp[0]~dp[i-1]) + scores[i]</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 即单调队列队首保存的是max(dp[0]~dp[i-1])</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>dp[i]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>queue.<span style="color:#658b00">getFirst</span>()<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>scores[i];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 保持单调队列的单调递减性，即如果后入队的dp[i] 大于 队尾元素，则队尾元素出队</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(!queue.<span style="color:#658b00">isEmpty</span>()<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>dp[i]<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>queue.<span style="color:#658b00">getLast</span>())<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>queue.<span style="color:#658b00">removeLast</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 当队尾没有比dp[i]更小的元素后，dp[i]才能入队</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>queue.<span style="color:#658b00">addLast</span>(dp[i]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 滑窗的右移过程（即相较于老滑窗失去一个首元素，新增一个尾元素）</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>k;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果滑窗失去的元素dp[i - k]，和单调队列的队首元素queue[0]相同，则单调队列需要弹出头部元素</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(dp[i<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>k]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>queue.<span style="color:#658b00">getFirst</span>())<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>queue.<span style="color:#658b00">removeFirst</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 下面逻辑同之前</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>dp[i]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>queue.<span style="color:#658b00">getFirst</span>()<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>scores[i];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(!queue.<span style="color:#658b00">isEmpty</span>()<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>dp[i]<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>queue.<span style="color:#658b00">getLast</span>())<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>queue.<span style="color:#658b00">removeLast</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>queue.<span style="color:#658b00">addLast</span>(dp[i]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>dp[n<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="06-跳马">
  06. 跳马
  <a class="anchor" href="#06-%e8%b7%b3%e9%a9%ac">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>马是象棋（包括中国象棋和国际象棋）中的棋子，走法是每步直一格再斜一格，即先横着或者直者走一格，然后再斜着走一个对角线，可进可退，可越过河界，俗称&#34;马走日&#34;字。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>给定 m 行 n 列的棋盘（网格图），棋盘上只有棋子象棋中的棋子“马”，并且每个棋子有等级之分，等级为 k 的马可以跳 1~k 步（走的方式与象棋中“马”的规则一样，不可以超出棋盘位置），问是否能将所有马跳到同一位置，如果存在，输出最少需要的总步数（每匹马的步数相加），不存在则输出-1。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>注：允许不同的马在跳的过程中跳到同一位置，坐标为（x,y）的马跳一次可以跳到的坐标为：(x+1, y+2)，(x+1, y-2)，(x+2, y+1)，(x+2, y-1)，(x-1, y+2)，(x-1, y-2)，(x-2, y+1)，(x-2, y-1)，的格点上，但是不可以超出棋盘范围。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一行输入m，n，代表 m 行 n 列的网格图棋盘（1 ≤ m, n ≤ 25）
</span></span><span style="display:flex;"><span>接下来输入 m 行 n 列的网格图棋盘，如果第 i 行，第 j 列的元素为 &#34;.&#34; ，代表此格点没有棋子，如果为数字 k（1 ≤ k ≤ 9），代表此格点存在等级为 k 的“马”
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>输出最少需要的总步数（每匹马的步数相加），不存在则输出-1。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：3 5
</span></span><span style="display:flex;"><span>     47.48
</span></span><span style="display:flex;"><span>     4744.
</span></span><span style="display:flex;"><span>     7....
</span></span><span style="display:flex;"><span>输出：17
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#228b22">// 棋盘行数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>m;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">// 棋盘列数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">// 棋盘矩阵</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">char</span>[][]<span style="color:#bbb"> </span>map;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">// 最小步数和矩阵，stepMap[i][j]记录各个马走到棋盘(i,j)位置的最小步数之和</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>stepMap;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">// 记录所有马都可达的公共位置坐标</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span>HashSet&lt;Integer&gt;<span style="color:#bbb"> </span>reach;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">// 马走日的偏移量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>offsets<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>{{1,<span style="color:#bbb"> </span>2},<span style="color:#bbb"> </span>{1,<span style="color:#bbb"> </span>-2},<span style="color:#bbb"> </span>{2,<span style="color:#bbb"> </span>1},<span style="color:#bbb"> </span>{2,<span style="color:#bbb"> </span>-1},<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{-1,<span style="color:#bbb"> </span>2},<span style="color:#bbb"> </span>{-1,<span style="color:#bbb"> </span>-2},<span style="color:#bbb"> </span>{-2,<span style="color:#bbb"> </span>1},<span style="color:#bbb"> </span>{-2,<span style="color:#bbb"> </span>-1}};<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>m<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>map<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">char</span>[m][n];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>stepMap<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[m][n];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>reach<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>HashSet&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>m;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>map[i]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">next</span>().<span style="color:#658b00">toCharArray</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 初始时假设所有位置都是各个马可达的</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>reach.<span style="color:#658b00">add</span>(i<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>j);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(getResult());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>()<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 遍历棋盘</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>m;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 如果棋盘(i,j)位置是马</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(map[i][j]<span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;.&#39;</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 马的等级</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>k<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>map[i][j]<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;0&#39;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 对该马进行BFS走日</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>bfs(i,<span style="color:#bbb"> </span>j,<span style="color:#bbb"> </span>k);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 如果所有马走完，发现没有公共可达位置</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(reach.<span style="color:#658b00">size</span>()<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>-1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 记录所有马都可达位置的最小步数和</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>minStep<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">MAX_VALUE</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>pos<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>reach)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>pos<span style="color:#bbb"> </span>/<span style="color:#bbb"> </span>n;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>y<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>pos<span style="color:#bbb"> </span>%<span style="color:#bbb"> </span>n;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// (x,y)是所有马都可达的位置，stepMap[x][y]记录所有马到达此位置的步数和</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>minStep<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Math.<span style="color:#658b00">min</span>(minStep,<span style="color:#bbb"> </span>stepMap[x][y]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>minStep;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">// 广搜</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">bfs</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>sx,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>sy,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>k)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 广搜队列</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>LinkedList&lt;<span style="color:#00688b;font-weight:bold">int</span>[]&gt;<span style="color:#bbb"> </span>queue<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>LinkedList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// (sx,sy)为马所在初始位置，马到达初始位置需要0步</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>queue.<span style="color:#658b00">add</span>(<span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[]{sx,<span style="color:#bbb"> </span>sy,<span style="color:#bbb"> </span>0});<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 记录该马可以访问(sx,sy)位置</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>HashSet&lt;Integer&gt;<span style="color:#bbb"> </span>vis<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>HashSet&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>vis.<span style="color:#658b00">add</span>(sx<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>sy);<span style="color:#bbb"> </span><span style="color:#228b22">// 二维坐标一维化</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// k记录该马剩余可走步数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(queue.<span style="color:#658b00">size</span>()<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>k<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// newQueue记录该马花费相同步数的可达的位置（即BFS按层遍历的层）</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>LinkedList&lt;<span style="color:#00688b;font-weight:bold">int</span>[]&gt;<span style="color:#bbb"> </span>newQueue<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>LinkedList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 按层BFS</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>tmp<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>queue)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 当前马所在位置(x,y)，以及马到达该位置的步数step</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>tmp[0];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>y<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>tmp[1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>step<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>tmp[2];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>offset<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>offsets)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 马走日到达的新位置</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>newX<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>x<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>offset[0];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>newY<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>y<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>offset[1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>pos<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>newX<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>newY;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 如果新位置越界或者已访问过，则不能访问</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(newX<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>newX<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>m<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>newY<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>newY<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>n<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                        </span>||<span style="color:#bbb"> </span>vis.<span style="color:#658b00">contains</span>(pos))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#8b008b;font-weight:bold">continue</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 将新位置加入新层</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>newQueue.<span style="color:#658b00">add</span>(<span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[]{newX,<span style="color:#bbb"> </span>newY,<span style="color:#bbb"> </span>step<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1});<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 该马到达(newX, newY)位置最小步数为step+1, </span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 由于该马首次到达(newX, newY)位置，因此step+1就是最小步数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>stepMap[newX][newY]<span style="color:#bbb"> </span>+=<span style="color:#bbb"> </span>step<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 记录该马访问过该位置，后续如果该马再次访问该位置，则不是最小步数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>vis.<span style="color:#658b00">add</span>(pos);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>queue<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>newQueue;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>k--;<span style="color:#bbb"> </span><span style="color:#228b22">// 剩余步数减1</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// BFS完后，将公共可达位置reach和当前马可达位置取交集，交集部分就是新的公共可达位置</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>reach.<span style="color:#658b00">retainAll</span>(vis);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="07-图像物体的边界">
  07. 图像物体的边界
  <a class="anchor" href="#07-%e5%9b%be%e5%83%8f%e7%89%a9%e4%bd%93%e7%9a%84%e8%be%b9%e7%95%8c">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>给定一个二维数组M行N列，二维数组里的数字代表图片的像素，
</span></span><span style="display:flex;"><span>为了简化问题，仅包含像素1和5两种像素，每种像素代表一个物体，2个物体相邻的格子为边界，求像素1代表的物体的边界个数。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>像素1代表的物体的边界指与像素5相邻的像素1的格子，边界相邻的属于同一个边界，
</span></span><span style="display:flex;"><span>相邻需要考虑8个方向(上，下，左，右，左上，左下，右上，右下)。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一行包含两个正整数 M 和 N，表示二维数组的行数和列数。
</span></span><span style="display:flex;"><span>接下来的 M 行，每行包含 N 个数字，表示二维数组的像素。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>输出像素1代表的物体的边界数目。如果没有边界，输出0（例如只存在像素1，或者只存在像素5）。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：
</span></span><span style="display:flex;"><span>6 6
</span></span><span style="display:flex;"><span>1 1 1 1 1 1
</span></span><span style="display:flex;"><span>1 5 1 1 1 1
</span></span><span style="display:flex;"><span>1 1 1 1 1 1
</span></span><span style="display:flex;"><span>1 1 1 1 1 1
</span></span><span style="display:flex;"><span>1 1 1 1 5 1
</span></span><span style="display:flex;"><span>1 1 1 1 1 1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出：1
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">private</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>m;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">private</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">private</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>dx<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>{0,<span style="color:#bbb"> </span>0,<span style="color:#bbb"> </span>-1,<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>-1,<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>-1,<span style="color:#bbb"> </span>1};<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">private</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>dy<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>{-1,<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>0,<span style="color:#bbb"> </span>0,<span style="color:#bbb"> </span>-1,<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>-1};<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>m<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>grid<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[m][n];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>m;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>grid[i][j]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>sc.<span style="color:#658b00">close</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 标记边界</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>border<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[m][n];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>m;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(grid[i][j]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>5)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>k<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>k<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>8;<span style="color:#bbb"> </span>k++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>newI<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>dx[k];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>newJ<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>dy[k];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(0<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span>newI<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>newI<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>m<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span>newJ<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>newJ<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>grid[newI][newJ]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                        </span>border[newI][newJ]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 计算边界数量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>count<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">boolean</span>[][]<span style="color:#bbb"> </span>visited<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">boolean</span>[m][n];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>m;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(border[i][j]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>1<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>!visited[i][j])<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>count++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>dfs(i,<span style="color:#bbb"> </span>j,<span style="color:#bbb"> </span>border,<span style="color:#bbb"> </span>visited);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(count);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">dfs</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>y,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>border,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">boolean</span>[][]<span style="color:#bbb"> </span>visited)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(x<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>x<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>y<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>y<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>m<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>border[x][y]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>visited[x][y])<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>visited[x][y]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">true</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>8;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>dfs(x<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>dx[i],<span style="color:#bbb"> </span>y<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>dy[i],<span style="color:#bbb"> </span>border,<span style="color:#bbb"> </span>visited);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="08-推荐多样性">
  08. 推荐多样性
  <a class="anchor" href="#08-%e6%8e%a8%e8%8d%90%e5%a4%9a%e6%a0%b7%e6%80%a7">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>推荐多样性需要从多个列表中选择元素，一次性要返回 N 屏数据（窗口数量），每屏展示 K 个元素（窗口大小），选择策略：
</span></span><span style="display:flex;"><span>1. 各个列表元素需要做穿插处理，即先从第一个列表中为每屏选择一个元素，再从第二个列表中为每屏选择一个元素，依次类推
</span></span><span style="display:flex;"><span>2. 每个列表的元素尽量均分为 N 份，如果不够 N 个，也要全部分配完，参考样例图：
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一行输入为 N，表示需要输出的窗口数量，取值范围 [1, 10]
</span></span><span style="display:flex;"><span>第二行输入为 K，表示每个窗口需要的元素数量，取值范围 [1, 100]
</span></span><span style="display:flex;"><span>之后的行数不定（行数取值范围 [1, 10]），表示每个列表输出的元素列表。元素之间以空格隔开，已经过排序处理，每个列表输出的元素数量取值范围 [1, 100]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>输出元素列表，元素数量 = 窗口数量 * 窗口大小，元素之间以空格分隔，多个窗口合并为一个列表输出，参考样例：
</span></span><span style="display:flex;"><span>先输出窗口1的元素列表，再输出窗口2的元素列表，再输出窗口3的元素列表，最后输出窗口4的元素列表
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>备注
</span></span><span style="display:flex;"><span>1. 每个列表会保证元素数量满足窗口要求，不需要考虑元素不足情况
</span></span><span style="display:flex;"><span>2. 每个列表的元素已去重，不需要考虑元素重复情况
</span></span><span style="display:flex;"><span>3. 每个列表的元素列表均不为空，不需要考虑列表为空的情况
</span></span><span style="display:flex;"><span>4. 每个列表的元素列表已经过排序处理，输出结果要保证不改变同一个列表的元素顺序
</span></span><span style="display:flex;"><span>5. 每个列表的元素数量可能是不同的
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">parseInt</span>(sc.<span style="color:#658b00">nextLine</span>());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>k<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">parseInt</span>(sc.<span style="color:#658b00">nextLine</span>());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>ArrayList&lt;LinkedList&lt;Integer&gt;&gt;<span style="color:#bbb"> </span>lists<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>ArrayList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(sc.<span style="color:#658b00">hasNextLine</span>())<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>String<span style="color:#bbb"> </span>line<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 本地测试，以空行作为输入截止条件</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(line.<span style="color:#658b00">length</span>()<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>String[]<span style="color:#bbb"> </span>split<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>line.<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34; &#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>Integer[]<span style="color:#bbb"> </span>nums<span style="color:#bbb"> </span>=Arrays.<span style="color:#658b00">stream</span>(split).<span style="color:#658b00">map</span>(Integer::parseInt).<span style="color:#658b00">toArray</span>(Integer[]::<span style="color:#8b008b;font-weight:bold">new</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>lists.<span style="color:#658b00">add</span>(<span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>LinkedList&lt;&gt;(Arrays.<span style="color:#658b00">asList</span>(nums)));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 窗口矩阵，k行n列，每一列对应一个窗口，这里将二维矩阵一维化，方便后面赋值</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>windows<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[k<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>n];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 窗口矩阵中正在赋值的索引位置</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>idx<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 正在从第level个列表中取值</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>level<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 当窗口矩阵填满后，结束循环</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(idx<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>windows.<span style="color:#658b00">length</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 当前轮次是否发生了&#34;借&#34;动作</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">boolean</span><span style="color:#bbb"> </span>flag<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">false</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 从第level个列表中取前n个元素</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>windows[idx++]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>lists.<span style="color:#658b00">get</span>(level).<span style="color:#658b00">removeFirst</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 如果第level个列表没有元素了，则继续切到下一个列表中&#34;借&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(lists.<span style="color:#658b00">get</span>(level).<span style="color:#658b00">size</span>()<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>lists.<span style="color:#658b00">size</span>()<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>lists.<span style="color:#658b00">remove</span>(level);<span style="color:#bbb"> </span><span style="color:#228b22">// 删除空列表</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>level<span style="color:#bbb"> </span>%=<span style="color:#bbb"> </span>lists.<span style="color:#658b00">size</span>();<span style="color:#bbb"> </span><span style="color:#228b22">// 防止越界</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>flag<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">true</span>;<span style="color:#bbb"> </span><span style="color:#228b22">// 发生了&#34;借&#34;动作</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果没有发生&#34;借&#34;动作，则需要切到下一行</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(!flag)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>level<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>(level<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span>%<span style="color:#bbb"> </span>lists.<span style="color:#658b00">size</span>();<span style="color:#bbb"> </span><span style="color:#228b22">// 防止越界</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>StringJoiner<span style="color:#bbb"> </span>sj<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>StringJoiner(<span style="color:#cd5555">&#34; &#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 遍历窗口矩阵的每一列</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb"> </span><span style="color:#228b22">// 遍历列号</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>k;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb"> </span><span style="color:#228b22">// 遍历行号</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>sj.<span style="color:#658b00">add</span>(windows[i<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>j]<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;&#34;</span>);<span style="color:#bbb"> </span><span style="color:#228b22">// 将每一列的元素进行拼接</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(sj);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="09-文本统计分析">
  09. 文本统计分析
  <a class="anchor" href="#09-%e6%96%87%e6%9c%ac%e7%bb%9f%e8%ae%a1%e5%88%86%e6%9e%90">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>有一个文件，包含以一定规则写作的文本，请统计文件中包含的文本数量。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>规则如下：
</span></span><span style="display:flex;"><span>1. 文本以”;”分隔，最后一条可以没有”;”，但空文本不能算语句，
</span></span><span style="display:flex;"><span>   比如”COMMAND A; ;”只能算一条语句。注意，无字符/空白字符/制表符都算作”空”文本；
</span></span><span style="display:flex;"><span>2. 文本可以跨行，比如下面，是一条文本，而不是三条
</span></span><span style="display:flex;"><span>   COMMAND A \nAND \n\nCOMMAND B;
</span></span><span style="display:flex;"><span>3. 文本支持字符串，字符串为成对的单引号(&#39;)或者成对的双引号(&#34;)，
</span></span><span style="display:flex;"><span>   字符串可能出现用转义字符(\)处理的单双引号(&#34;your input is\&#34;&#34;)和转义字符本身，比如
</span></span><span style="display:flex;"><span>   COMMAND A &#34;Say \&#34;hello\&#34;&#34;;
</span></span><span style="display:flex;"><span>4. 支持注释，可以出现在字符串之外的任意位置注释以”-“开头，到换行结束，比如：
</span></span><span style="display:flex;"><span>   COMMAND A; -this is comment
</span></span><span style="display:flex;"><span>   COMMAND -comment
</span></span><span style="display:flex;"><span>   A AND COMMAND B;
</span></span><span style="display:flex;"><span>   注意字符串内的”-“，不是注释。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：文本文件
</span></span><span style="display:flex;"><span>输出描述：包含的文本数量
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：COMMAND TABLE IF EXISTS &#34;UNITED STATE&#34;;
</span></span><span style="display:flex;"><span>     COMMAND A GREAT (
</span></span><span style="display:flex;"><span>     ID ADSAB,
</span></span><span style="display:flex;"><span>     download_length INTE-GER, -- test
</span></span><span style="display:flex;"><span>     file_name TEXT,
</span></span><span style="display:flex;"><span>     guid TEXT,
</span></span><span style="display:flex;"><span>     mime_type TEXT,
</span></span><span style="display:flex;"><span>     notifica-tionid INTEGER,
</span></span><span style="display:flex;"><span>     original_file_name TEXT,
</span></span><span style="display:flex;"><span>     pause_reason_type INTEGER,
</span></span><span style="display:flex;"><span>     resumable_flag INTEGER,
</span></span><span style="display:flex;"><span>     start_time INTEGER,
</span></span><span style="display:flex;"><span>     state INTEGER,
</span></span><span style="display:flex;"><span>     folder TEXT,
</span></span><span style="display:flex;"><span>     path TEXT,
</span></span><span style="display:flex;"><span>     total_length INTE-GER,
</span></span><span style="display:flex;"><span>     url TEXT
</span></span><span style="display:flex;"><span>     );
</span></span><span style="display:flex;"><span>输出：2
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>LinkedList&lt;String&gt;<span style="color:#bbb"> </span>lines<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>LinkedList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(sc.<span style="color:#658b00">hasNextLine</span>())<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>String<span style="color:#bbb"> </span>line<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(<span style="color:#cd5555">&#34;&#34;</span>.<span style="color:#658b00">equals</span>(line))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(getResult(lines));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>sc.<span style="color:#658b00">close</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>lines.<span style="color:#658b00">add</span>(line);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">// 算法入口</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>(LinkedList&lt;String&gt;<span style="color:#bbb"> </span>lines)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>StringBuilder<span style="color:#bbb"> </span>sb<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>StringBuilder();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(String<span style="color:#bbb"> </span>line<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>lines)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>line<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>line.<span style="color:#658b00">replaceAll</span>(<span style="color:#cd5555">&#34;\\\\[\&#34;&#39;]&#34;</span>,<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;&#34;</span>)<span style="color:#bbb"> </span><span style="color:#228b22">// 替换\&#34;和\&#39;为空串</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>.<span style="color:#658b00">replaceAll</span>(<span style="color:#cd5555">&#34;\&#34;.*?\&#34;&#34;</span>,<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;a&#34;</span>)<span style="color:#bbb"> </span><span style="color:#228b22">// 将成对双引号及其中内容替换为空串</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>.<span style="color:#658b00">replaceAll</span>(<span style="color:#cd5555">&#34;&#39;.*?&#39;&#34;</span>,<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;a&#34;</span>)<span style="color:#bbb"> </span><span style="color:#228b22">// 将成对单引号及其中内容替换为空串</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>.<span style="color:#658b00">replaceAll</span>(<span style="color:#cd5555">&#34;-.+&#34;</span>,<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;&#34;</span>)<span style="color:#bbb"> </span><span style="color:#228b22">// 将-往后的注释替换为空串</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>.<span style="color:#658b00">replaceAll</span>(<span style="color:#cd5555">&#34;\\s+&#34;</span>,<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;&#34;</span>)<span style="color:#bbb"> </span><span style="color:#228b22">// 将空白字符替换为空串</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>.<span style="color:#658b00">replaceAll</span>(<span style="color:#cd5555">&#34;;+&#34;</span>,<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;;&#34;</span>);<span style="color:#bbb"> </span><span style="color:#228b22">// 将连续分号替换为单个分号</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>sb.<span style="color:#658b00">append</span>(line);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 题目描述说：文本以”;”分隔，最后一条可以没有”;”</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 为了避免复杂处理，这里无论最后一条文本有没有分号，都加一个</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>sb.<span style="color:#658b00">append</span>(<span style="color:#cd5555">&#34;;&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 下面处理主要是为了处理跨行文本</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">/***
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     * 比如
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     * aaaa;
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     * ;aaaa
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     *
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     * 比如
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     * ;aaaa
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     * ;aaaa
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>s<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sb.<span style="color:#658b00">toString</span>().<span style="color:#658b00">replaceAll</span>(<span style="color:#cd5555">&#34;;+&#34;</span>,<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;;&#34;</span>).<span style="color:#658b00">replaceAll</span>(<span style="color:#cd5555">&#34;^;&#34;</span>,<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 记录文本条数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>count<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>s.<span style="color:#658b00">length</span>();<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(s.<span style="color:#658b00">charAt</span>(i)<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;;&#39;</span>)<span style="color:#bbb"> </span>count++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>count;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="10-文件缓存系统">
  10. 文件缓存系统
  <a class="anchor" href="#10-%e6%96%87%e4%bb%b6%e7%bc%93%e5%ad%98%e7%b3%bb%e7%bb%9f">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>请设计一个文件缓存系统，该文件缓存系统可以指定缓存的最大值（单位为字节）。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>文件缓存系统有两种操作：存储文件（put），读取文件（get）
</span></span><span style="display:flex;"><span>操作命令为：put fileName fileSize，get fileName
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>存储文件是把文件放入文件缓存系统中；
</span></span><span style="display:flex;"><span>读取文件是从文件缓存系统中访问已存在，如果文件不存在，则不作任何操作。
</span></span><span style="display:flex;"><span>当缓存空间不足以存放新的文件时，根据规则删除文件，直到剩余空间满足新的文件大小位置，再存放新文件。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>具体的删除规则为：
</span></span><span style="display:flex;"><span>文件访问过后，会更新文件的最近访问时间和总的访问次数，当缓存不够时，
</span></span><span style="display:flex;"><span>按照第一优先顺序为访问次数从少到多，第二顺序为时间从老到新的方式来删除文件。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一行为缓存最大值 m（整数，取值范围为 0 ＜ m ≤ 52428800）
</span></span><span style="display:flex;"><span>第二行为文件操作序列个数 n（0 ≤ n ≤ 300000）
</span></span><span style="display:flex;"><span>从第三行起为文件操作序列，每个序列单独一行，文件操作定义为：op  file_name  file_size
</span></span><span style="display:flex;"><span>file_name 是文件名，file_size 是文件大小
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>输出当前文件缓存中的文件名列表，文件名用英文逗号分隔，按字典顺序排序，如：a,c
</span></span><span style="display:flex;"><span>如果文件缓存中没有文件，则输出NONE
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>备注：
</span></span><span style="display:flex;"><span>1. 如果新文件的文件名和文件缓存中已有的文件名相同，则不会放在缓存中
</span></span><span style="display:flex;"><span>2. 新的文件第一次存入到文件缓存中时，文件的总访问次数不会变化，文件的最近访问时间会更新到最新时间
</span></span><span style="display:flex;"><span>3. 每次文件访问后，总访问次数加1，最近访问时间更新到最新时间
</span></span><span style="display:flex;"><span>4. 任何两个文件的最近访问时间不会重复
</span></span><span style="display:flex;"><span>5. 文件名不会为空，均为小写字母，最大长度为10
</span></span><span style="display:flex;"><span>6. 缓存空间不足时，不能存放新文件
</span></span><span style="display:flex;"><span>7. 每个文件大小都是大于 0 的整数
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：50
</span></span><span style="display:flex;"><span>     6
</span></span><span style="display:flex;"><span>     put a 10
</span></span><span style="display:flex;"><span>     put b 20
</span></span><span style="display:flex;"><span>     get a
</span></span><span style="display:flex;"><span>     get a
</span></span><span style="display:flex;"><span>     get b
</span></span><span style="display:flex;"><span>     put c 30
</span></span><span style="display:flex;"><span>输出：a,c
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#228b22">/** 双向链表节点 */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">Node</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">/** 记录本题的文件名 */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>key;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">/** 记录本题的文件大小 */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>val;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">/** 记录该文件的访问次数 */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>freq;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">/** 当前节点的前一个节点 */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Node<span style="color:#bbb"> </span>prev;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">/** 当前节点的后一个节点 */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Node<span style="color:#bbb"> </span>next;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#008b45">Node</span>(String<span style="color:#bbb"> </span>key,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>val,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>freq)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">key</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>key;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">val</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>val;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">freq</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>freq;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">prev</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">null</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">next</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">null</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">/** 双向链表 */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">Link</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">/** 链表节点数 */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>size;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">/** 链表头节点 */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Node<span style="color:#bbb"> </span>head;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">/** 链表尾节点 */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Node<span style="color:#bbb"> </span>tail;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">/**
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     * 尾插
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     *
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     * @param node 要插入的节点
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">addLast</span>(Node<span style="color:#bbb"> </span>node)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(<span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">size</span><span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">head</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>node;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">tail</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>node;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">tail</span>.<span style="color:#658b00">next</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>node;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>node.<span style="color:#658b00">prev</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">tail</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">tail</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>node;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">size</span>++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">/**
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     * 删除指定节点
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     *
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     * @param node 指定删除的节点
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">remove</span>(Node<span style="color:#bbb"> </span>node)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果是空链表，则没法删除</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(<span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">size</span><span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">return</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(<span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">size</span><span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 如果是单节点链表，则删除完，链表为空</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">head</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">null</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">tail</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">null</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(node<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">head</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 被删除节点是链表头节点</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">head</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">head</span>.<span style="color:#658b00">next</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">head</span>.<span style="color:#658b00">prev</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">null</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(node<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">tail</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 被删除节点是链表尾节点</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">tail</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">tail</span>.<span style="color:#658b00">prev</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">tail</span>.<span style="color:#658b00">next</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">null</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 被删除节点是链表中间节点</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>node.<span style="color:#658b00">prev</span>.<span style="color:#658b00">next</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>node.<span style="color:#658b00">next</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>node.<span style="color:#658b00">next</span>.<span style="color:#658b00">prev</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>node.<span style="color:#658b00">prev</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">size</span>--;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">LFUCache</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">/** key是文件名，value是文件信息
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     * （key.value本质是freqMap.value对应的链表中节点Node的对象地址） 
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>HashMap&lt;String,<span style="color:#bbb"> </span>Node&gt;<span style="color:#bbb"> </span>keyMap;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">/** key是访问次数，value是访问次数位key的文件（Node）组成的链表（Link） */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>HashMap&lt;Integer,<span style="color:#bbb"> </span>Link&gt;<span style="color:#bbb"> </span>freqMap;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">/** 文件系统总容量 */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>capacity;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">/** 最少访问次数（记录自各个文件访问次数中最少的那个） */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>minFreq;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#008b45">LFUCache</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>capacity)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">capacity</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>capacity;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">minFreq</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">keyMap</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>HashMap&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">freqMap</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>HashMap&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">/**
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     * @param key 对应本题的文件名
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">get</span>(String<span style="color:#bbb"> </span>key)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果文件不存在，则不作任何操作。</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(!<span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">keyMap</span>.<span style="color:#658b00">containsKey</span>(key))<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">return</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>Node<span style="color:#bbb"> </span>node<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">keyMap</span>.<span style="color:#658b00">get</span>(key);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 每次文件访问后，总访问次数加1，最近访问时间更新到最新时间</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>incNodeFreq(node);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">/**
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     * @param key 对应本题的文件名
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     * @param val 对应本题的文件大小
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">     */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">put</span>(String<span style="color:#bbb"> </span>key,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>val)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果新文件的文件名和文件缓存中已有的文件名相同，则不会放在缓存中</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(<span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">keyMap</span>.<span style="color:#658b00">containsKey</span>(key))<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">return</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 当缓存空间不足以存放新的文件时，根据规则删除文件，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 直到剩余空间满足新的文件大小位置，再存放新文件。</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(<span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">capacity</span><span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>val)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(<span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">minFreq</span><span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 文件系统空了，也放不下该文件，则不放入</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">return</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 找出最少访问次数对应的链表</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>Link<span style="color:#bbb"> </span>minFreqLink<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">freqMap</span>.<span style="color:#658b00">get</span>(<span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">minFreq</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 链表头部节点是最少访问次数中，最远访问的文件，我们需要删除它</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>Node<span style="color:#bbb"> </span>removeNode<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>minFreqLink.<span style="color:#658b00">head</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 删除对应文件后，文件系统容量新增</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">capacity</span><span style="color:#bbb"> </span>+=<span style="color:#bbb"> </span>removeNode.<span style="color:#658b00">val</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 执行删除操作，freqMap和keyMap都要删除掉对应文件的记录</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>minFreqLink.<span style="color:#658b00">remove</span>(removeNode);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">keyMap</span>.<span style="color:#658b00">remove</span>(removeNode.<span style="color:#658b00">key</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 如果删除后，最少访问次数的链表空了，则需要找到下一个最少访问次数的链表</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(minFreqLink.<span style="color:#658b00">size</span><span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 最少访问次数没有对应文件（链表为空），则删除最少访问次数的记录（freqMap的key）</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">freqMap</span>.<span style="color:#658b00">remove</span>(<span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">minFreq</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(<span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">freqMap</span>.<span style="color:#658b00">size</span>()<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">minFreq</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">freqMap</span>.<span style="color:#658b00">keySet</span>().<span style="color:#658b00">stream</span>().<span style="color:#658b00">min</span>((a,<span style="color:#bbb"> </span>b)<span style="color:#bbb"> </span>-&gt;<span style="color:#bbb"> </span>a<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>b).<span style="color:#658b00">get</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#228b22">// 文件系统没有缓存文件了，则最少次数为0，表示文件系统空了</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">minFreq</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 新增文件，则文件系统容量减少</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">capacity</span><span style="color:#bbb"> </span>-=<span style="color:#bbb"> </span>val;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 新增文件的访问次数为1，因此最少访问次数变为了1</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">minFreq</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>Node<span style="color:#bbb"> </span>node<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Node(key,<span style="color:#bbb"> </span>val,<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">minFreq</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 执行新增操作，freqMap和keyMap都要新增对应文件的记录</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">freqMap</span>.<span style="color:#658b00">putIfAbsent</span>(<span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">minFreq</span>,<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Link());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">freqMap</span>.<span style="color:#658b00">get</span>(<span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">minFreq</span>).<span style="color:#658b00">addLast</span>(node);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">keyMap</span>.<span style="color:#658b00">put</span>(key,<span style="color:#bbb"> </span>node);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">incNodeFreq</span>(Node<span style="color:#bbb"> </span>node)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>Link<span style="color:#bbb"> </span>link<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">freqMap</span>.<span style="color:#658b00">get</span>(node.<span style="color:#658b00">freq</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 由于要更新文件的访问次数，因此需要将node从当前访问次数的链表中删除</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>link.<span style="color:#658b00">remove</span>(node);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果当前访问次数链表只有当前node，则继续看当前链表对应的访问次数是否位最少访问次数，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 若是，则说明删除当前节点后，最少访问次数对应的文件没了</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(link.<span style="color:#658b00">size</span><span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 当前访问次数没有对应文件（链表为空），则删除当前访问次数的记录（freqMap的key）</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">freqMap</span>.<span style="color:#658b00">remove</span>(node.<span style="color:#658b00">freq</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(node.<span style="color:#658b00">freq</span><span style="color:#bbb"> </span>==<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">minFreq</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 此时我们应该更新最少访问次数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">minFreq</span>++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>node.<span style="color:#658b00">freq</span>++;<span style="color:#bbb"> </span><span style="color:#228b22">// 总访问次数加1</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">freqMap</span>.<span style="color:#658b00">putIfAbsent</span>(node.<span style="color:#658b00">freq</span>,<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Link());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 将node插入到对应freq的链表中</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 尾插 是为了实现：最近访问时间更新到最新时间，即这里认为：链表尾部是最近的，链表头部是最远的</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">freqMap</span>.<span style="color:#658b00">get</span>(node.<span style="color:#658b00">freq</span>).<span style="color:#658b00">addLast</span>(node);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>m<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">parseInt</span>(sc.<span style="color:#658b00">nextLine</span>());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>LFUCache<span style="color:#bbb"> </span>lfuCache<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>LFUCache(m);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">parseInt</span>(sc.<span style="color:#658b00">nextLine</span>());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>String[]<span style="color:#bbb"> </span>operation<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34; &#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>String<span style="color:#bbb"> </span>op<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>operation[0];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>String<span style="color:#bbb"> </span>fileName<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>operation[1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(<span style="color:#cd5555">&#34;put&#34;</span>.<span style="color:#658b00">equals</span>(op))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>fileSize<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">parseInt</span>(operation[2]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>lfuCache.<span style="color:#658b00">put</span>(fileName,<span style="color:#bbb"> </span>fileSize);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>lfuCache.<span style="color:#658b00">get</span>(fileName);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(lfuCache.<span style="color:#658b00">capacity</span><span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>m)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果文件系统容量没有减少，则没有文件被缓存</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(<span style="color:#cd5555">&#34;NONE&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 否则取出文件系统中的文件名，按照字典序输出</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>StringJoiner<span style="color:#bbb"> </span>sj<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>StringJoiner(<span style="color:#cd5555">&#34;,&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>lfuCache.<span style="color:#658b00">keyMap</span>.<span style="color:#658b00">keySet</span>().<span style="color:#658b00">stream</span>().<span style="color:#658b00">sorted</span>().<span style="color:#658b00">forEach</span>(sj::add);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(sj);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="11-污染水域">
  11. 污染水域
  <a class="anchor" href="#11-%e6%b1%a1%e6%9f%93%e6%b0%b4%e5%9f%9f">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>输入一行字符串，字符串可转换为N*N的数组，数组可认为是一个水域，判断多少天后，水域被全部污染。
</span></span><span style="display:flex;"><span>数组中只有0和1，0表示纯净，1表示污染，每天只可污染上下左右的水域，如果开始全部被污染，或永远无法污染，则返回-1。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：1,0,1,0,0,0,1,0,1
</span></span><span style="display:flex;"><span>输出：2
</span></span><span style="display:flex;"><span>说明：
</span></span><span style="display:flex;"><span>输入转化为数组为：
</span></span><span style="display:flex;"><span>1 0 1
</span></span><span style="display:flex;"><span>0 0 0
</span></span><span style="display:flex;"><span>1 0 1
</span></span><span style="display:flex;"><span>第一天后水域变为
</span></span><span style="display:flex;"><span>1 1 1
</span></span><span style="display:flex;"><span>1 0 1
</span></span><span style="display:flex;"><span>1 1 1
</span></span><span style="display:flex;"><span>第二天全部被污染
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>split<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34;,&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>nums<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(split).<span style="color:#658b00">mapToInt</span>(Integer::parseInt).<span style="color:#658b00">toArray</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(getResult(nums));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>(<span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>nums)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span>)<span style="color:#bbb"> </span>Math.<span style="color:#658b00">sqrt</span>(nums.<span style="color:#658b00">length</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>LinkedList&lt;<span style="color:#00688b;font-weight:bold">int</span>[]&gt;<span style="color:#bbb"> </span>queue<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>LinkedList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>matrix<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[n][n];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>total<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>nums.<span style="color:#658b00">length</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>matrix[i][j]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>nums[i<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>j];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(matrix[i][j]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>queue.<span style="color:#658b00">add</span>(<span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>{i,<span style="color:#bbb"> </span>j});<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>total--;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(queue.<span style="color:#658b00">size</span>()<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>queue.<span style="color:#658b00">size</span>()<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>nums.<span style="color:#658b00">length</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>-1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>day<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>offsets<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>{{-1,<span style="color:#bbb"> </span>0},<span style="color:#bbb"> </span>{1,<span style="color:#bbb"> </span>0},<span style="color:#bbb"> </span>{0,<span style="color:#bbb"> </span>-1},<span style="color:#bbb"> </span>{0,<span style="color:#bbb"> </span>1}};<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(queue.<span style="color:#658b00">size</span>()<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>total<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>LinkedList&lt;<span style="color:#00688b;font-weight:bold">int</span>[]&gt;<span style="color:#bbb"> </span>newQueue<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>LinkedList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>pos<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>queue)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>pos[0];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>pos[1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>offset<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>offsets)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>newI<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>offset[0];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>newJ<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>offset[1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(newI<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>newI<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>newJ<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>newJ<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                        </span>&amp;&amp;<span style="color:#bbb"> </span>matrix[newI][newJ]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>matrix[newI][newJ]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>newQueue.<span style="color:#658b00">add</span>(<span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>{newI,<span style="color:#bbb"> </span>newJ});<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>total--;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>queue<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>newQueue;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>day++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>day;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="12-项目排期">
  12. 项目排期
  <a class="anchor" href="#12-%e9%a1%b9%e7%9b%ae%e6%8e%92%e6%9c%9f">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>项目组共有 N 个开发人员，项目经理接到了 M 个独立的需求，
</span></span><span style="display:flex;"><span>每个需求的工作量不同，且每个需求只能由一个开发人员独立完成，不能多人合作。
</span></span><span style="display:flex;"><span>假定各个需求直接无任何先后依赖关系，请设计算法帮助项目经理进行工作安排，使整个项目能用最少的时间交付。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一行输入为 M 个需求的工作量，单位为天，用逗号隔开。
</span></span><span style="display:flex;"><span>例如：X1 X2 X3 ... Xm
</span></span><span style="display:flex;"><span>其中：0 ＜ M ＜ 30，0 ＜ Xm ＜ 200
</span></span><span style="display:flex;"><span>第二行输入为项目组人员数量N，
</span></span><span style="display:flex;"><span>其中：0 ＜ N ＜ 10
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>最快完成所有工作的天数
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：6 2 7 7 9 3 2 1 3 11 4
</span></span><span style="display:flex;"><span>     2
</span></span><span style="display:flex;"><span>输出：28
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span>Integer[]<span style="color:#bbb"> </span>balls;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>split<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34; &#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>balls<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(split).<span style="color:#658b00">map</span>(Integer::parseInt).<span style="color:#658b00">toArray</span>(Integer[]::<span style="color:#8b008b;font-weight:bold">new</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">parseInt</span>(sc.<span style="color:#658b00">nextLine</span>());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(getResult());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>()<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 这里对balls降序，有利于降低后面回溯操作的复杂度</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Arrays.<span style="color:#658b00">sort</span>(balls,<span style="color:#bbb"> </span>(a,<span style="color:#bbb"> </span>b)<span style="color:#bbb"> </span>-&gt;<span style="color:#bbb"> </span>b<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>a);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 二分范围：即每个桶的容量最小，最大值</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>min<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>balls[0];<span style="color:#bbb"> </span><span style="color:#228b22">// 桶至少要有max(balls)的容量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 当只有一个桶时，此时该桶容量要装下所有balls</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>max<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(balls).<span style="color:#658b00">reduce</span>(Integer::sum).<span style="color:#658b00">get</span>();<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 记录题解</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>ans<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>max;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 二分找中间值作为桶容量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(min<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span>max)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>mid<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>(min<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>max)<span style="color:#bbb"> </span>&gt;&gt;<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(check(0,<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[n],<span style="color:#bbb"> </span>mid))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 如果k个mid容量的桶，可以装完所有balls，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 那么mid容量就是一个可能解，但不一定是最优解，我们应该尝试更小的桶容量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>ans<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>mid;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>max<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>mid<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 如果k个mid容量的桶，无法装完所有balls，那么说明桶容量取小了，我们应该尝试更大的桶容量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>min<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>mid<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>ans;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">/**
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @param index 当前轮次要被装入的球的索引（balls数组索引）
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @param buckets 桶数组，buckets[i]记录的是第 i 个桶已使用的容量
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @param limit 每个桶的最大可使用容量
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @return k个桶（每个桶容量limit）是否可以装下balls中所有球
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">boolean</span><span style="color:#bbb"> </span><span style="color:#008b45">check</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>index,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>buckets,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>limit)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 如果balls已经取完，则说明k个limit容量的桶，可以装完所有balls</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(index<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>balls.<span style="color:#658b00">length</span>)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">true</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// select是当前要装的球</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>selected<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>balls[index];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 遍历桶</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>buckets.<span style="color:#658b00">length</span>;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 剪枝优化</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(i<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>buckets[i]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>buckets[i<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1])<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">continue</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果当前桶装了当前选择的球后不超过容量限制，则可以装入</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(selected<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>buckets[i]<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span>limit)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>buckets[i]<span style="color:#bbb"> </span>+=<span style="color:#bbb"> </span>selected;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 递归装下一个球</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(check(index<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>buckets,<span style="color:#bbb"> </span>limit))<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">true</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 如果这种策略无法装完所有球，则回溯</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>buckets[i]<span style="color:#bbb"> </span>-=<span style="color:#bbb"> </span>selected;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">false</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="13-小朋友分组最少调整次数">
  13. 小朋友分组最少调整次数
  <a class="anchor" href="#13-%e5%b0%8f%e6%9c%8b%e5%8f%8b%e5%88%86%e7%bb%84%e6%9c%80%e5%b0%91%e8%b0%83%e6%95%b4%e6%ac%a1%e6%95%b0">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>n 个学生排成一排，学生编号分别是 1 到 n，n 为 3 的整倍数。
</span></span><span style="display:flex;"><span>老师随机抽签决定将所有学生分成 m 个 3 人的小组（n == 3 * m） ，
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>为了便于同组学生交流，老师决定将小组成员安排到一起，也就是同组成员彼此相连，同组任意两个成员之间无其它组的成员。
</span></span><span style="display:flex;"><span>因此老师决定调整队伍，老师每次可以调整任何一名学生到队伍的任意位置，计为调整了一次， 请计算最少调整多少次可以达到目标。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>注意：对于小组之间没有顺序要求，同组学生之间没有顺序要求。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一行输入初始排队顺序序列
</span></span><span style="display:flex;"><span>第二行输入分组排队顺序序列
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>最少调整多少次数
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：4 2 8 5 3 6 1 9 7
</span></span><span style="display:flex;"><span>     6 3 1 2 4 8 7 9 5
</span></span><span style="display:flex;"><span>输出：1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：7 9 8 5 6 4 2 1 3
</span></span><span style="display:flex;"><span>     7 8 9 4 2 1 3 5 6
</span></span><span style="display:flex;"><span>输出：1
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#228b22">// 分块（即连续的相同组的小朋友）</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">NumCount</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>num;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>count;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#008b45">NumCount</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>num,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>count)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">num</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>num;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">count</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>count;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 初始小朋友（序号）排队顺序</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>split<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34; &#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>nums<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(split).<span style="color:#658b00">mapToInt</span>(Integer::parseInt).<span style="color:#658b00">toArray</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>nums.<span style="color:#658b00">length</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 序号-&gt;组号 映射关系</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>map<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[n<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>num<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>map[num]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>/<span style="color:#bbb"> </span>3;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 初始小朋友（组号）排队顺序</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>nums<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(nums).<span style="color:#658b00">map</span>(num<span style="color:#bbb"> </span>-&gt;<span style="color:#bbb"> </span>map[num]).<span style="color:#658b00">toArray</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// key是组号，val是对应组号的小朋友分块</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>HashMap&lt;Integer,<span style="color:#bbb"> </span>ArrayList&lt;NumCount&gt;&gt;<span style="color:#bbb"> </span>blocks<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>HashMap&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 相邻相同组号合并为块</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>LinkedList&lt;NumCount&gt;<span style="color:#bbb"> </span>queue<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>LinkedList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>num<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>nums)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(queue.<span style="color:#658b00">isEmpty</span>()<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>queue.<span style="color:#658b00">getLast</span>().<span style="color:#658b00">num</span><span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span>num)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>queue.<span style="color:#658b00">addLast</span>(<span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>NumCount(num,<span style="color:#bbb"> </span>1));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 记录相同组号的各个分块</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>blocks.<span style="color:#658b00">putIfAbsent</span>(num,<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>ArrayList&lt;&gt;());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>blocks.<span style="color:#658b00">get</span>(num).<span style="color:#658b00">add</span>(queue.<span style="color:#658b00">getLast</span>());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>queue.<span style="color:#658b00">getLast</span>().<span style="color:#658b00">count</span>++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 记录调整位置次数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>moved_count<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(queue.<span style="color:#658b00">size</span>()<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>NumCount<span style="color:#bbb"> </span>first<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>queue.<span style="color:#658b00">removeFirst</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果开头块是空的，或者开头块已经包含3个小朋友，那么不需要调整位置</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(first.<span style="color:#658b00">count</span><span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>first.<span style="color:#658b00">count</span><span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>3)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">continue</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(queue.<span style="color:#658b00">size</span>()<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 第二块</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>NumCount<span style="color:#bbb"> </span>second<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>queue.<span style="color:#658b00">getFirst</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(second.<span style="color:#658b00">count</span><span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>queue.<span style="color:#658b00">removeFirst</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>second<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>queue.<span style="color:#658b00">getFirst</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果开头块和第二块组号相同，则合并（前面并入后面）</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(first.<span style="color:#658b00">num</span><span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>second.<span style="color:#658b00">num</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>second.<span style="color:#658b00">count</span><span style="color:#bbb"> </span>+=<span style="color:#bbb"> </span>first.<span style="color:#658b00">count</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">continue</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">/* 如果开头块和第二块组号不同，则进入具体情况分析 */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(first.<span style="color:#658b00">count</span><span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>2)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 开头块有2个小朋友，则情况如下组号1例子，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 此时需要将后面的单独1，并入开头两个1中，即调整一次</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 1 1 x 1</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>moved_count<span style="color:#bbb"> </span>+=<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 后面单独1所在块的小朋友数量清空</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>blocks.<span style="color:#658b00">get</span>(first.<span style="color:#658b00">num</span>).<span style="color:#658b00">forEach</span>(block<span style="color:#bbb"> </span>-&gt;<span style="color:#bbb"> </span>block.<span style="color:#658b00">count</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">continue</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(first.<span style="color:#658b00">count</span><span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 开头块只有1个小朋友，则有两种情况</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(blocks.<span style="color:#658b00">get</span>(first.<span style="color:#658b00">num</span>).<span style="color:#658b00">size</span>()<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>3)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 对于组号的分块有三个，即如下组号1例子</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 1 x 1 y 1 z</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 此时需要将后面两个单独1，并入到开头1中，即调整两次</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>moved_count<span style="color:#bbb"> </span>+=<span style="color:#bbb"> </span>2;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 后面两个单独1所在块的小朋友数量清空</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>blocks.<span style="color:#658b00">get</span>(first.<span style="color:#658b00">num</span>).<span style="color:#658b00">forEach</span>(block<span style="color:#bbb"> </span>-&gt;<span style="color:#bbb"> </span>block.<span style="color:#658b00">count</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 对于组号的分块有两个，则如下组号1例子</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 1 x 1 1</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 此时需要将开头单独1并入到后面两个1中，即调整一次</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>moved_count<span style="color:#bbb"> </span>+=<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 后面两个1所在块的小朋友数量变为3个</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>blocks.<span style="color:#658b00">get</span>(first.<span style="color:#658b00">num</span>).<span style="color:#658b00">forEach</span>(block<span style="color:#bbb"> </span>-&gt;<span style="color:#bbb"> </span>block.<span style="color:#658b00">count</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>3);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(moved_count);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="14-信道分配">
  14. 信道分配
  <a class="anchor" href="#14-%e4%bf%a1%e9%81%93%e5%88%86%e9%85%8d">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>算法工程师小明面对着这样一个问题 ，需要将通信用的信道分配给尽量多的用户:
</span></span><span style="display:flex;"><span>给出一组信道资源，最多可以为多少用户传输数据?
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>信道的条件及分配规则如下:
</span></span><span style="display:flex;"><span>1. 所有信道都有属性:”阶”。阶为 r的信道的容量为 2^r比特;
</span></span><span style="display:flex;"><span>2. 所有用户需要传输的数据量都一样:D比特;
</span></span><span style="display:flex;"><span>3. 一个用户可以分配多个信道，但每个信道只能分配给一个用户;
</span></span><span style="display:flex;"><span>4. 只有当分配给一个用户的所有信道的容量和&gt;=D，用户才能传输数据;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一行，一个数字 R。R为最大阶数。0≤R＜20
</span></span><span style="display:flex;"><span>第二行，R+1个数字，用空格隔开。代表每种信道的数量 Ni。按照阶的值从小到大排列。0≤i≤R，0≤Ni＜1000.
</span></span><span style="display:flex;"><span>第三行，一个数字 D。D为单个用户需要传输的数据量。0＜D＜1000000
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>一个数字（代表最多可以供多少用户传输数据）
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：5
</span></span><span style="display:flex;"><span>     10 5 0 1 3 2
</span></span><span style="display:flex;"><span>     30
</span></span><span style="display:flex;"><span>输出：4
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>R<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>N<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[R<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span>R;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>N[i]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>D<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(getResult(R,<span style="color:#bbb"> </span>N,<span style="color:#bbb"> </span>D));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>R,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>N,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>D)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 将D值转化为二进制形式，并且为了和N[]的阶位进行对应，这里将D的二进制进行了反转</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>split<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>StringBuilder(Integer.<span style="color:#658b00">toBinaryString</span>(D))<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>.<span style="color:#658b00">reverse</span>().<span style="color:#658b00">toString</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34;&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>subtrahend<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(split)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>.<span style="color:#658b00">mapToInt</span>(Integer::parseInt)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>.<span style="color:#658b00">toArray</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// count记录N能承载几个D</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>count<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// N中高阶信道的单个信道就能满足D，因此这些高阶信道有几个，即能承载几个D</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>R;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>subtrahend.<span style="color:#658b00">length</span>;<span style="color:#bbb"> </span>i--)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// R ~ subtrahend.length 阶的单个信道就能承载一个D，因此这些信道有几个，就能承载几个D</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>count<span style="color:#bbb"> </span>+=<span style="color:#bbb"> </span>N[i];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 0 ~ subtrahend.length - 1 阶的单个信道无法承载一个D，因此这些阶需要组合起来才能承载一个D</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>minuend<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">copyOfRange</span>(N,<span style="color:#bbb"> </span>0,<span style="color:#bbb"> </span>subtrahend.<span style="color:#658b00">length</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 进行二进制减法</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(binary_sub(minuend,<span style="color:#bbb"> </span>subtrahend))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>count++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>count;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">/**
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * 二进制减法
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> *
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @param minuend    被减数
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @param subtrahend 减数
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @return 被减数是否为正数
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">boolean</span><span style="color:#bbb"> </span><span style="color:#008b45">binary_sub</span>(<span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>minuend,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>subtrahend)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 进行减法运算逻辑, 从高位开始</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>minuend.<span style="color:#658b00">length</span><span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i--)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(minuend[i]<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>subtrahend[i])<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 如果对应位的信道数足够，则直接相减</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>minuend[i]<span style="color:#bbb"> </span>-=<span style="color:#bbb"> </span>subtrahend[i];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 如果对应位的信道数不足，此时有两种策略，一是向低位借，一是向高位借</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 具体向哪里借，需要看 minuend 的 [0,i] 低位部分是否能够承载 subtrahend[0, i] 低位部分</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(calc_bin(Arrays.<span style="color:#658b00">copyOfRange</span>(minuend,<span style="color:#bbb"> </span>0,<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1))<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>&lt;<span style="color:#bbb"> </span>calc_bin(Arrays.<span style="color:#658b00">copyOfRange</span>(subtrahend,<span style="color:#bbb"> </span>0,<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1)))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 如果minuend 的 [0,i]不能承载，则向高位借，即从j=i+1位开始借</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>minuend.<span style="color:#658b00">length</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(minuend[j]<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                        </span><span style="color:#228b22">// 如果高位 j 有信道可借，则借</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                        </span>minuend[j]<span style="color:#bbb"> </span>-=<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">true</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                        </span><span style="color:#228b22">// 否则继续向更高位探索</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                        </span>j<span style="color:#bbb"> </span>+=<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 如果所有高位都没有富余信道数，则说明减法结果为负数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">false</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 如果minuend 的 [0,i]可以承载，则向低位借(向低位借，可以避免浪费)</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 此时minuend[i]为负数，表示欠债</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>minuend[i]<span style="color:#bbb"> </span>-=<span style="color:#bbb"> </span>subtrahend[i];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 将当前阶位的欠债，转移到前面的低阶位上，注意转移时，欠债x2</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>minuend[i<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1]<span style="color:#bbb"> </span>+=<span style="color:#bbb"> </span>minuend[i]<span style="color:#bbb"> </span>&lt;&lt;<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 转移后，当前阶位的欠债变为0</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>minuend[i]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">true</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#008b45">calc_bin</span>(<span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>bin)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>ans<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>bin.<span style="color:#658b00">length</span>;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>ans<span style="color:#bbb"> </span>+=<span style="color:#bbb"> </span>bin[i]<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>(1<span style="color:#bbb"> </span>&lt;&lt;<span style="color:#bbb"> </span>i);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>ans;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="15-寻找最优的路测线路">
  15. 寻找最优的路测线路
  <a class="anchor" href="#15-%e5%af%bb%e6%89%be%e6%9c%80%e4%bc%98%e7%9a%84%e8%b7%af%e6%b5%8b%e7%ba%bf%e8%b7%af">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>评估一个网络的信号质量，其中一个做法是将网络划分为栅格，然后对每个栅格的信号质量计算。
</span></span><span style="display:flex;"><span>路测的时候，希望选择一条信号最好的路线（彼此相连的栅格集合）进行演示。
</span></span><span style="display:flex;"><span>现给出 R 行 C 列的整数数组 Cov，每个单元格的数值 S 即为该栅格的信号质量（已归一化，无单位，值越大信号越好）。
</span></span><span style="display:flex;"><span>要求从 [0, 0] 到 [R-1, C-1]设计一条最优路测路线。返回该路线得分。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>规则：
</span></span><span style="display:flex;"><span>路测路线可以上下左右四个方向，不能对角
</span></span><span style="display:flex;"><span>路线的评分是以路线上信号最差的栅格为准的，例如路径 8→4→5→9 的值为4，该线路评分为4。线路最优表示该条线路的评分最高。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一行表示栅格的行数 R
</span></span><span style="display:flex;"><span>第二行表示栅格的列数 C
</span></span><span style="display:flex;"><span>第三行开始，每一行表示栅格地图一行的信号值，如5 4 5
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>最优路线的得分
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>备注：
</span></span><span style="display:flex;"><span>1 ≤ R，C ≤ 20
</span></span><span style="display:flex;"><span>0 ≤ S ≤ 65535
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：3
</span></span><span style="display:flex;"><span>     3
</span></span><span style="display:flex;"><span>     5 4 5
</span></span><span style="display:flex;"><span>     1 2 6
</span></span><span style="display:flex;"><span>     7 4 6
</span></span><span style="display:flex;"><span>输出：4
</span></span><span style="display:flex;"><span>说明：路线为：5→4→5→6→6
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>r<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>c<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>matrix<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[r][c];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>r;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>c;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>matrix[i][j]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// dist[i]记录的 起点0 到 终点i 的所有路径中“最大的”最小权值节点的权值</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 其中 i 是将二维坐标一维化后的值，比如(x,y)坐标一维化后为 x * c + y; (c是列数)</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// dist[i] 记录的 “最大的”最小权值节点的权值，因此需要初始化为一个 &#34;最小的&#34; 最小权值节点的权值，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 方便后面被更大者取代，由于本题节点的最小权值&gt;=0，因此这里可以初始化为0</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>dist<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[r<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>c];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 起点0 到 终点0 路径的最小权值节点就是自身，即matrix[0][0]点的权重</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>dist[0]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>matrix[0][0];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 优先队列记录路径（终点），并且路径中的最小权值节点的权值越大，优先级越高</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>PriorityQueue&lt;Integer&gt;<span style="color:#bbb"> </span>pq<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>PriorityQueue&lt;&gt;((a,<span style="color:#bbb"> </span>b)<span style="color:#bbb"> </span>-&gt;<span style="color:#bbb"> </span>dist[b]<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>dist[a]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 初始时将(0,0)入队</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>pq.<span style="color:#658b00">add</span>(0);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 上下左右的方向偏移量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>offsets<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>{{1,<span style="color:#bbb"> </span>0},<span style="color:#bbb"> </span>{0,<span style="color:#bbb"> </span>1},<span style="color:#bbb"> </span>{-1,<span style="color:#bbb"> </span>0},<span style="color:#bbb"> </span>{0,<span style="color:#bbb"> </span>-1}};<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(pq.<span style="color:#658b00">size</span>()<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 取出优先队列中优先级最大的路径（终点）</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>u<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>pq.<span style="color:#658b00">poll</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 将一维化坐标u，解析为二维坐标(x,y)</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>u<span style="color:#bbb"> </span>/<span style="color:#bbb"> </span>c;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>y<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>u<span style="color:#bbb"> </span>%<span style="color:#bbb"> </span>c;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 已找到dist[r-1][c-1]最优解，则可以提前结束</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(x<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>r<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>y<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>c<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 向上下左右四个方向探索</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>offset<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>offsets)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 新位置坐标</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>newX<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>x<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>offset[0];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>newY<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>y<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>offset[1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 新位置越界则无法访问</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(newX<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>newX<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>r<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>newY<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>newY<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>c)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">continue</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 新位置的一维化坐标</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>v<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>newX<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>c<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>newY;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 当前路径（终点u）的最小权值节点的权值为dist[u]</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 要加入当前路径的新位置的点的权值 matrix[newX][newY]</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 那么形成的新路径的最小权值节点的权值即为 w = min(dist[u], matrix[newX][newY])</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>w<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Math.<span style="color:#658b00">min</span>(dist[u],<span style="color:#bbb"> </span>matrix[newX][newY]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 形成的新路径的终点为 v（即新位置一维化坐标）</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 而dist[v]记录的是起点到点v的所有路径中“最大的”最小权值节点</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(dist[v]<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>w)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 因此如果dist[v] &lt; w的话，则更新dist[v]</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>dist[v]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>w;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 并将新路径加入优先队列，参与下一轮比较</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>pq.<span style="color:#658b00">add</span>(v);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 返回起点（0，0）到终点(r-1, c-1)的所有路径中&#34;最大的&#34;最小权值节点的权值</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(dist[r<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>c<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="16-园区参观路径">
  16. 园区参观路径
  <a class="anchor" href="#16-%e5%9b%ad%e5%8c%ba%e5%8f%82%e8%a7%82%e8%b7%af%e5%be%84">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>园区某部门举办了Family Day，邀请员工及其家属参加；
</span></span><span style="display:flex;"><span>将公司园区视为一个矩形，起始园区设置在左上角，终点园区设置在右下角；
</span></span><span style="display:flex;"><span>家属参观园区时，只能向右和向下园区前进，求从起始园区到终点园区会有多少条不同的参观路径。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一行为园区的长和宽；
</span></span><span style="display:flex;"><span>后面每一行表示该园区是否可以参观，0表示可以参观，1表示不能参观
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>输出为不同的路径数量
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：3 3
</span></span><span style="display:flex;"><span>     0 0 0
</span></span><span style="display:flex;"><span>     0 1 0
</span></span><span style="display:flex;"><span>     0 0 0
</span></span><span style="display:flex;"><span>输出：2
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>m;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>matrix;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>offsets<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>{{1,<span style="color:#bbb"> </span>0},<span style="color:#bbb"> </span>{0,<span style="color:#bbb"> </span>1}};<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>ans<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb"> </span><span style="color:#228b22">// 长 -&gt; 行数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>m<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb"> </span><span style="color:#228b22">// 宽 -&gt; 列数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>matrix<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[n][m];<span style="color:#bbb"> </span><span style="color:#228b22">// 地图矩阵</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>m;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>matrix[i][j]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 从(0,0)位置开始深搜，深搜对应的每条分支都对应一条路径</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(matrix[0][0]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>dfs(0,<span style="color:#bbb"> </span>0);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(ans);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">dfs</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>y)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(x<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>y<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>m<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果当前分支可以走到终点，则对应分支路径可行</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>ans++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 从当前位置(x, y)向下或者向右走</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>offset<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>offsets)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 新位置(newX, newY)</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>newX<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>x<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>offset[0];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>newY<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>y<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>offset[1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果新位置越界了，或者新位置不能参观，则无法进入</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(newX<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>newX<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>newY<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>newY<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>m<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>||<span style="color:#bbb"> </span>matrix[newX][newY]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">continue</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 否则进入新位置，继续深搜</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>dfs(newX,<span style="color:#bbb"> </span>newY);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="17-员工派遣">
  17. 员工派遣
  <a class="anchor" href="#17-%e5%91%98%e5%b7%a5%e6%b4%be%e9%81%a3">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>某公司部门需要派遣员工去国外做项目。
</span></span><span style="display:flex;"><span>现在，代号为 x 的国家和代号为 y 的国家分别需要 cntx 名和 cnty 名员工。
</span></span><span style="display:flex;"><span>部门每个员工有一个员工号（1,2,3,......），工号连续，从1开始。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>部长派遣员工的规则：
</span></span><span style="display:flex;"><span>规则1：从 [1, k] 中选择员工派遣出去
</span></span><span style="display:flex;"><span>规则2：编号为 x 的倍数的员工不能去 x 国，编号为 y 的倍数的员工不能去 y 国。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>问题：
</span></span><span style="display:flex;"><span>找到最小的 k，使得可以将编号在 [1, k] 中的员工分配给 x 国和 y 国，且满足 x 国和 y 国的需求。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>四个整数 x，y，cntx，cnty。
</span></span><span style="display:flex;"><span>2 ≤ x ＜ y ≤ 30000
</span></span><span style="display:flex;"><span>x 和 y 一定是质数
</span></span><span style="display:flex;"><span>1 ≤ cntx, cnty ＜ 10^9
</span></span><span style="display:flex;"><span>cntx + cnty ≤ 10^9
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>满足条件的最小的k
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：2 3 3 1
</span></span><span style="display:flex;"><span>输出：5
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span>x;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span>y;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span>cntx;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span>cnty;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>x<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>y<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>cntx<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>cnty<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span>min<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>cntx<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>cnty;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">//    long max = Long.MAX_VALUE;  // 使用此上限，实际通过率55%</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span>max<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>1000000000L;<span style="color:#bbb"> </span><span style="color:#228b22">// 使用此上限，实际通过率可以100%</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(min<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span>max)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span>mid<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>min<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>(max<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>min)<span style="color:#bbb"> </span>/<span style="color:#bbb"> </span>2;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(check(mid))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>max<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>mid<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>min<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>mid<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(min);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">boolean</span><span style="color:#bbb"> </span><span style="color:#008b45">check</span>(<span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span>k)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span>A<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>k<span style="color:#bbb"> </span>/<span style="color:#bbb"> </span>x;<span style="color:#bbb"> </span><span style="color:#228b22">// 1~k范围内x倍数的数量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span>B<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>k<span style="color:#bbb"> </span>/<span style="color:#bbb"> </span>y;<span style="color:#bbb"> </span><span style="color:#228b22">// 1~k范围内y倍数的数量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span>C<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>k<span style="color:#bbb"> </span>/<span style="color:#bbb"> </span>(x<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>y);<span style="color:#bbb"> </span><span style="color:#228b22">// 1~k范围内x*y倍数的数量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>Math.<span style="color:#658b00">max</span>(0,<span style="color:#bbb"> </span>cntx<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>(B<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>C))<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>Math.<span style="color:#658b00">max</span>(0,<span style="color:#bbb"> </span>cnty<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>(A<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>C))<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span>k<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>A<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>B<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>C;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="18-运输时间">
  18. 运输时间
  <a class="anchor" href="#18-%e8%bf%90%e8%be%93%e6%97%b6%e9%97%b4">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>M（1 ≤ M ≤ 20）辆车需要在一条不能超车的单行道到达终点，起点到终点的距离为 N（1 ≤ N ≤ 400）。
</span></span><span style="display:flex;"><span>速度快的车追上前车后，只能以前车的速度继续行驶，求最后一辆车到达目的地花费的时间。
</span></span><span style="display:flex;"><span>注：每辆车固定间隔 1 小时出发，比如第一辆车 0 时出发，第二辆车 1 时出发，依次类推
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一行两个数字：M N，分别代表车辆数和到终点的距离，以空格分隔
</span></span><span style="display:flex;"><span>接下来 M 行，每行一个数字 S，代表每辆车的速度。0 ＜ S ＜ 30
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>最后一辆车到达目的地花费的时间
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：2 11
</span></span><span style="display:flex;"><span>     3
</span></span><span style="display:flex;"><span>     2
</span></span><span style="display:flex;"><span>输出：5.5
</span></span><span style="display:flex;"><span>说明：2辆车，距离11，0时出发的车速度快，1时出发的车，到达目的地花费5.5
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>m<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 记录前车到达终点的时刻，本题后车不可能比前车更早到达，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 因此如果后车到达时刻 &lt; 前车到达时刻arrived，则后车也是按照前车arrived时刻达到</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">double</span><span style="color:#bbb"> </span>arrived<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>m;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 当前车的速度</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">double</span><span style="color:#bbb"> </span>speed<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextDouble</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 当前车到达终点的时刻</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// * 当前车如果比前车更早到达，则被前车阻碍，按前车到达时间算</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// * 当前车如果比前车更晚到达，则不被前车阻碍，按后车到达时间算</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// n*1.0/speed是行驶花费时间； i是第i辆车的出发时间</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>arrived<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Math.<span style="color:#658b00">max</span>(arrived,<span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>/<span style="color:#bbb"> </span>speed<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>i);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 到达时刻 - 出发时刻 = 路上花费的时间</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">double</span><span style="color:#bbb"> </span>cost<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>arrived<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>(m<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 格式化打印小数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>NumberFormat<span style="color:#bbb"> </span>nf<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>NumberFormat.<span style="color:#658b00">getInstance</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>nf.<span style="color:#658b00">setMinimumFractionDigits</span>(0);<span style="color:#bbb"> </span><span style="color:#228b22">// 没有小数位则不保留</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>nf.<span style="color:#658b00">setMaximumFractionDigits</span>(3);<span style="color:#bbb"> </span><span style="color:#228b22">// 有小数位则至多保留3位</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(nf.<span style="color:#658b00">format</span>(cost));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="19-找城市">
  19. 找城市
  <a class="anchor" href="#19-%e6%89%be%e5%9f%8e%e5%b8%82">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>一张地图上有n个城市，城市和城市之间有且只有一条道路相连：
</span></span><span style="display:flex;"><span>要么直接相连，要么通过其它城市中转相连（可中转一次或多次）。城市与城市之间的道路都不会成环。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>当切断通往某个城市 i 的所有道路后，地图上将分为多个连通的城市群，
</span></span><span style="display:flex;"><span>设该城市i的聚集度为DPi，DPi = max（城市群1的城市个数，城市群2的城市个数，…城市群m 的城市个数）。
</span></span><span style="display:flex;"><span>请找出地图上DP值最小的城市（即找到城市j，使得DPj = min(DP1,DP2 … DPn))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>提示：如果有多个城市都满足条件，这些城市都要找出来（可能存在多个解）
</span></span><span style="display:flex;"><span>提示：DPi的计算，可以理解为已知一棵树，删除某个节点后；生成的多个子树，求解多个子数节点数的问题。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>每个样例：第一行有一个整数N，表示有N个节点。1 ≤ N ≤ 1000。
</span></span><span style="display:flex;"><span>接下来的N-1行每行有两个整数x，y，表示城市x与城市y连接。1 ≤ x,  y ≤ N
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>输出城市的编号。如果有多个，按照编号升序输出。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：5
</span></span><span style="display:flex;"><span>     1 2
</span></span><span style="display:flex;"><span>     2 3
</span></span><span style="display:flex;"><span>     3 4
</span></span><span style="display:flex;"><span>     4 5
</span></span><span style="display:flex;"><span>输出：3
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>relations<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[n<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1][2];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>relations[i][0]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>relations[i][1]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(getResult(n,<span style="color:#bbb"> </span>relations));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span>String<span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>relations)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 记录最小dpi</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>minDp<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">MAX_VALUE</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 记录最小dpi对应的切断城市</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>ArrayList&lt;Integer&gt;<span style="color:#bbb"> </span>city<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>ArrayList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// i 是被切断城市</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>1;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 利用并查集对城市进行关联</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>UnionFindSet<span style="color:#bbb"> </span>ufs<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>UnionFindSet(n<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>relation<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>relations)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>relation[0];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>y<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>relation[1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 如果x或y是被切断城市，则对应连接关系不成立</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(x<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>y<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>i)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">continue</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 否则连接x和y</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>ufs.<span style="color:#658b00">union</span>(x,<span style="color:#bbb"> </span>y);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>cnts<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[n<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>1;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 对j=1~n每个城市找根fa</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>fa<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>ufs.<span style="color:#658b00">find</span>(j);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 根fa下的子城市个数++</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>cnts[fa]++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// cnts的最大值即最大城市群大小</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>dp<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(cnts).<span style="color:#658b00">max</span>().<span style="color:#658b00">orElse</span>(0);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 和minDp比较，保留最小值</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(dp<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>minDp)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>minDp<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>dp;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>city<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>ArrayList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>city.<span style="color:#658b00">add</span>(i);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(dp<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>minDp)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>city.<span style="color:#658b00">add</span>(i);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 如果有多个，按照编号升序输出。</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>city.<span style="color:#658b00">sort</span>((a,<span style="color:#bbb"> </span>b)<span style="color:#bbb"> </span>-&gt;<span style="color:#bbb"> </span>a<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>b);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>StringJoiner<span style="color:#bbb"> </span>sj<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>StringJoiner(<span style="color:#cd5555">&#34; &#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(Integer<span style="color:#bbb"> </span>c<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>city)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>sj.<span style="color:#658b00">add</span>(c<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>sj.<span style="color:#658b00">toString</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">// 并查集实现</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">UnionFindSet</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>fa;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#008b45">UnionFindSet</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">fa</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[n];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>fa[i]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>i;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#008b45">find</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(<span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">fa</span>[x]<span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span>x)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">fa</span>[x]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">find</span>(<span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">fa</span>[x]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>x;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">union</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>y)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x_fa<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">find</span>(x);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>y_fa<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">find</span>(y);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(x_fa<span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span>y_fa)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">fa</span>[y_fa]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>x_fa;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="20-找单词">
  20. 找单词
  <a class="anchor" href="#20-%e6%89%be%e5%8d%95%e8%af%8d">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>给一个字符串和一个二维字符数组，如果该字符串存在于该数组中，
</span></span><span style="display:flex;"><span>则按字符串的字符顺序输出字符串每个字符所在单元格的位置下标字符串，如果找不到返回字符串“N”。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>1.需要按照字符串的字符组成顺序搜索，且搜索到的位置必须是相邻单元格，其中“相邻单元格”是指那些水平相邻或垂直相邻的单元格。
</span></span><span style="display:flex;"><span>2.同一个单元格内的字母不允许被重复使用。
</span></span><span style="display:flex;"><span>3.假定在数组中最多只存在一个可能的匹配。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第1行为一个数字N指示二维数组在后续输入所占的行数。
</span></span><span style="display:flex;"><span>第2行到第N+1行输入为一个二维大写字符数组，每行字符用半角,分割。
</span></span><span style="display:flex;"><span>第N+2行为待查找的字符串，由大写字符组成。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>二维数组的大小为N*N，0＜N≤100。
</span></span><span style="display:flex;"><span>单词长度K，0＜K＜1000。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>输出一个位置下标字符串，拼接格式为：第1个字符行下标+”,”+第1个字符列下标+”,”
</span></span><span style="display:flex;"><span>+第2个字符行下标+”,”+第2个字符列下标… +”,”
</span></span><span style="display:flex;"><span>+第N个字符行下标+”,”+第N个字符列下标。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：4
</span></span><span style="display:flex;"><span>      A,C,C,F
</span></span><span style="display:flex;"><span>      C,D,E,D
</span></span><span style="display:flex;"><span>      B,E,S,S
</span></span><span style="display:flex;"><span>      F,E,C,A
</span></span><span style="display:flex;"><span>      ACCESS
</span></span><span style="display:flex;"><span>输出：0,0,0,1,0,2,1,2,2,2,2,3
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span>String[][]<span style="color:#bbb"> </span>matrix;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span>String<span style="color:#bbb"> </span>tar;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 将输入分隔符改为“,”和换行</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>).<span style="color:#658b00">useDelimiter</span>(<span style="color:#cd5555">&#34;[,\n]&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>matrix<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>String[n][n];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>matrix[i][j]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">next</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>tar<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">next</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(getResult());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span>String<span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>()<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>LinkedList&lt;Integer[]&gt;<span style="color:#bbb"> </span>path<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>LinkedList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(dfs(i,<span style="color:#bbb"> </span>j,<span style="color:#bbb"> </span>0,<span style="color:#bbb"> </span>path))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>StringJoiner<span style="color:#bbb"> </span>sj<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>StringJoiner(<span style="color:#cd5555">&#34;,&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(Integer[]<span style="color:#bbb"> </span>pos<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>path)<span style="color:#bbb"> </span>sj.<span style="color:#658b00">add</span>(pos[0]<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;,&#34;</span><span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>pos[1]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>sj.<span style="color:#658b00">toString</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#cd5555">&#34;N&#34;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">boolean</span><span style="color:#bbb"> </span><span style="color:#008b45">dfs</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>k,<span style="color:#bbb"> </span>LinkedList&lt;Integer[]&gt;<span style="color:#bbb"> </span>path)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>n<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>||<span style="color:#bbb"> </span>!tar.<span style="color:#658b00">substring</span>(k,<span style="color:#bbb"> </span>k<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1).<span style="color:#658b00">equals</span>(matrix[i][j]))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">false</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>path.<span style="color:#658b00">add</span>(<span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Integer[]<span style="color:#bbb"> </span>{i,<span style="color:#bbb"> </span>j});<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(path.<span style="color:#658b00">size</span>()<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>tar.<span style="color:#658b00">length</span>())<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">true</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>tmp<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>matrix[i][j];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>matrix[i][j]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">null</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">boolean</span><span style="color:#bbb"> </span>res<span style="color:#bbb"> </span>=<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>dfs(i<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>j,<span style="color:#bbb"> </span>k<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>path)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>||<span style="color:#bbb"> </span>dfs(i<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>j,<span style="color:#bbb"> </span>k<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>path)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>||<span style="color:#bbb"> </span>dfs(i,<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>k<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>path)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>||<span style="color:#bbb"> </span>dfs(i,<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>k<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>path);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(!res)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>matrix[i][j]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>tmp;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>path.<span style="color:#658b00">removeLast</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>res;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="21-找到比自己强的人数">
  21. 找到比自己强的人数
  <a class="anchor" href="#21-%e6%89%be%e5%88%b0%e6%af%94%e8%87%aa%e5%b7%b1%e5%bc%ba%e7%9a%84%e4%ba%ba%e6%95%b0">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>给定数组[[2,1],[3 2]]，每组表示师徒关系，第一个元素是第二个元素的老师，数字代表排名，现在找出比自己强的徒弟。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：[[2,1],[3,2]]
</span></span><span style="display:flex;"><span>输出：[0,1,2]
</span></span><span style="display:flex;"><span>说明	
</span></span><span style="display:flex;"><span>输入：
</span></span><span style="display:flex;"><span>第一行数据[2,1]表示排名第 2 的员工是排名第 1 员工的导师，后面的数据以此类推。
</span></span><span style="display:flex;"><span>输出：
</span></span><span style="display:flex;"><span>第一个元素 0 表示成绩排名第一的导师，没有徒弟考试超过他；
</span></span><span style="display:flex;"><span>第二个元素 1 表示成绩排名第二的导师，有 1 个徒弟成绩超过他
</span></span><span style="display:flex;"><span>第三个元素 2 表示成绩排名第三的导师，有 2 个徒弟成绩超过他
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>str<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 正则：(?&lt;=\]),(?=\[)  的含义是，找这样一个“,“,它的前面跟着&#34;]&#34;，后面跟着&#34;[&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>split<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>str.<span style="color:#658b00">substring</span>(1,<span style="color:#bbb"> </span>str.<span style="color:#658b00">length</span>()<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1).<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34;(?&lt;=\\]),(?=\\[)&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Integer[][]<span style="color:#bbb"> </span>relations<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(split)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>.<span style="color:#658b00">map</span>(s<span style="color:#bbb"> </span>-&gt;<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(s.<span style="color:#658b00">substring</span>(1,<span style="color:#bbb"> </span>s.<span style="color:#658b00">length</span>()<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1).<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34;,&#34;</span>))<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>.<span style="color:#658b00">map</span>(Integer::parseInt).<span style="color:#658b00">toArray</span>(Integer[]::<span style="color:#8b008b;font-weight:bold">new</span>)).<span style="color:#658b00">toArray</span>(Integer[][]::<span style="color:#8b008b;font-weight:bold">new</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(getResult(relations));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span>String<span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>(Integer[][]<span style="color:#bbb"> </span>relations)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// fa用于统计每个师傅名下的直接徒弟的排名，fa对象的属性是师傅排名，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 属性值是一个数组，里面元素是直接徒弟的排名</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>HashMap&lt;Integer,<span style="color:#bbb"> </span>ArrayList&lt;Integer&gt;&gt;<span style="color:#bbb"> </span>fa<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>HashMap&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(Integer[]<span style="color:#bbb"> </span>relation<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>relations)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>f<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>relation[0];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>c<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>relation[1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>fa.<span style="color:#658b00">putIfAbsent</span>(f,<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>ArrayList&lt;&gt;());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>fa.<span style="color:#658b00">putIfAbsent</span>(c,<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>ArrayList&lt;&gt;());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>fa.<span style="color:#658b00">get</span>(f).<span style="color:#658b00">add</span>(c);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>ArrayList&lt;Integer[]&gt;<span style="color:#bbb"> </span>ans<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>ArrayList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 输出结果要求依次统计：排名第一的师傅的高于自己的徒弟的个数，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 排名第二的师傅的高于自己的徒弟的个数，......</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(Integer<span style="color:#bbb"> </span>f<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>fa.<span style="color:#658b00">keySet</span>())<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>ans.<span style="color:#658b00">add</span>(<span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Integer[]<span style="color:#bbb"> </span>{f,<span style="color:#bbb"> </span>getHighC(f,<span style="color:#bbb"> </span>f,<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>HashSet&lt;&gt;(),<span style="color:#bbb"> </span>fa)});<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 按照师傅排名升序后，输出高于师傅排名的徒弟的个数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>ans.<span style="color:#658b00">sort</span>((a,<span style="color:#bbb"> </span>b)<span style="color:#bbb"> </span>-&gt;<span style="color:#bbb"> </span>a[0]<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>b[0]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">toString</span>(ans.<span style="color:#658b00">stream</span>().<span style="color:#658b00">map</span>(arr<span style="color:#bbb"> </span>-&gt;<span style="color:#bbb"> </span>arr[1]).<span style="color:#658b00">toArray</span>(Integer[]::<span style="color:#8b008b;font-weight:bold">new</span>));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">/**
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @param f 当前的师傅，初始时为源头祖师
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @param src 源头祖师
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @param highC 比源头祖师排名的高的徒弟的排名集合
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @param fa fa对象的属性是师傅排名，属性值是一个数组，里面元素是直接徒弟的排名
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @return 比源头祖师排名的高的徒弟的个数，即highC.size
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#008b45">getHighC</span>(<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>f,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>src,<span style="color:#bbb"> </span>HashSet&lt;Integer&gt;<span style="color:#bbb"> </span>highC,<span style="color:#bbb"> </span>HashMap&lt;Integer,<span style="color:#bbb"> </span>ArrayList&lt;Integer&gt;&gt;<span style="color:#bbb"> </span>fa)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(f<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span><span style="color:#228b22">// 如果当前师傅是第一名，那么肯定没有徒弟超过它，因此直接返回0</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 遍历当前师傅的所有徒弟</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>c<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>fa.<span style="color:#658b00">get</span>(f))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// flag标记是否需要统计间接徒弟，默认需要</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">boolean</span><span style="color:#bbb"> </span>flag<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">true</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果徒弟的排名高于源头祖师（排名越高，值越小），则应该统计到highC集合中</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(c<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>src)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(!highC.<span style="color:#658b00">contains</span>(c))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 如果highC集合没有这个徒弟，则统计，并需要统计这个徒弟的徒弟（即间接徒弟）的排名情况</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>highC.<span style="color:#658b00">add</span>(c);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 如果highC中已经有了当前的徒弟，则说明当前徒弟已经统计过了，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 不需要再统计，且当前徒弟的徒弟也不需要再统计了</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>flag<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">false</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(c<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>src)<span style="color:#bbb"> </span>{<span style="color:#bbb"> </span><span style="color:#228b22">// 形成环，需要打断</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 统计间接徒弟</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(flag)<span style="color:#bbb"> </span>getHighC(c,<span style="color:#bbb"> </span>src,<span style="color:#bbb"> </span>highC,<span style="color:#bbb"> </span>fa);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>highC.<span style="color:#658b00">size</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="22-找数字">
  22. 找数字
  <a class="anchor" href="#22-%e6%89%be%e6%95%b0%e5%ad%97">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>小扇和小船今天又玩起来了数字游戏，小船给小扇一个正整数 n（1 ≤ n ≤ 1e9），小扇需要找到一个比 n 大的数字 m，
</span></span><span style="display:flex;"><span>使得 m 和 n 对应的二进制中 1 的个数要相同，现在求 m 的最小值。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：输入一个正整数 n（1 ≤ n ≤ 1e9）
</span></span><span style="display:flex;"><span>输出描述：输出一个正整数 m
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：2
</span></span><span style="display:flex;"><span>输出：4
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：7
</span></span><span style="display:flex;"><span>输出：11
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 将整数n转为二进制字符串</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>nBinStr<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;0&#34;</span><span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">toBinaryString</span>(n);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">char</span>[]<span style="color:#bbb"> </span>mBinCharArr<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>nBinStr.<span style="color:#658b00">toCharArray</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>countOne<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>mBinCharArr.<span style="color:#658b00">length</span><span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>2;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i--)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(mBinCharArr[i]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;0&#39;</span><span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>mBinCharArr[i<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;1&#39;</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 从右向左找到了第一组&#34;01&#34;子串，则替换为&#34;10&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>mBinCharArr[i]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;1&#39;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>mBinCharArr[i<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;0&#39;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 如果第一组&#34;01&#34;子串右边存在1</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(countOne<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 则将第一组&#34;01&#34;子串的右边部分的&#39;1&#39;要全部集中到尾部</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>2;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>mBinCharArr.<span style="color:#658b00">length</span>;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>mBinCharArr.<span style="color:#658b00">length</span><span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>countOne)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                        </span>mBinCharArr[j]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;0&#39;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                        </span>mBinCharArr[j]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;1&#39;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(mBinCharArr[i<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;1&#39;</span>)<span style="color:#bbb"> </span>countOne++;<span style="color:#bbb"> </span><span style="color:#228b22">// 记录第一组&#34;01&#34;子串右边1的个数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>m<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">parseInt</span>(<span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>String(mBinCharArr),<span style="color:#bbb"> </span>2);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(m);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="23-智能驾驶">
  23. 智能驾驶
  <a class="anchor" href="#23-%e6%99%ba%e8%83%bd%e9%a9%be%e9%a9%b6">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>有一辆汽车需要从 m * n 的地图左上角（起点）开往地图的右下角（终点），
</span></span><span style="display:flex;"><span>去往每一个地区都需要消耗一定的油量，加油站可进行加油。请你计算汽车确保从从起点到达终点时所需的最少初始油量。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>说明：
</span></span><span style="display:flex;"><span>1. 智能汽车可以上下左右四个方向移动
</span></span><span style="display:flex;"><span>2. 地图上的数字取值是 0 或 -1 或 正整数：
</span></span><span style="display:flex;"><span>   -1 ：表示加油站，可以加满油，汽车的油箱容量最大为100；
</span></span><span style="display:flex;"><span>   0 ：表示这个地区是障碍物，汽车不能通过
</span></span><span style="display:flex;"><span>   正整数：表示汽车走过这个地区的耗油量
</span></span><span style="display:flex;"><span>3. 如果汽车无论如何都无法到达终点，则返回 -1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一行为两个数字，M，N，表示地图的大小为 M * N，0 ＜ M,N ≤ 200，
</span></span><span style="display:flex;"><span>后面一个 M * N 的矩阵，其中的值是 0 或 -1 或正整数，加油站的总数不超过 200 个
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>如果汽车无论如何都无法到达终点，则返回 -1
</span></span><span style="display:flex;"><span>如果汽车可以到达终点，则返回最少的初始油量
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：2,2
</span></span><span style="display:flex;"><span>     10,20
</span></span><span style="display:flex;"><span>     30,40
</span></span><span style="display:flex;"><span>输出：70
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>m;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>matrix;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>).<span style="color:#658b00">useDelimiter</span>(<span style="color:#cd5555">&#34;[,\n]&#34;</span>);<span style="color:#bbb"> </span><span style="color:#228b22">// 将逗号和换行符作为一次读取的截止符</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>m<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>matrix<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[m][n];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>m;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>matrix[i][j]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(bfs());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">// 上下左右四个方向对应的偏移量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>offsets<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>{{-1,<span style="color:#bbb"> </span>0},<span style="color:#bbb"> </span>{1,<span style="color:#bbb"> </span>0},<span style="color:#bbb"> </span>{0,<span style="color:#bbb"> </span>-1},<span style="color:#bbb"> </span>{0,<span style="color:#bbb"> </span>1}};<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">// 记录路径中位置的几个状态</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">Node</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x;<span style="color:#bbb"> </span><span style="color:#228b22">// 位置横坐标</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>y;<span style="color:#bbb"> </span><span style="color:#228b22">// 位置纵坐标</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>init;<span style="color:#bbb"> </span><span style="color:#228b22">// 到达此位置所需的最少初始油量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>remain;<span style="color:#bbb"> </span><span style="color:#228b22">// 到达此位置时剩余可用油量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">boolean</span><span style="color:#bbb"> </span>flag;<span style="color:#bbb"> </span><span style="color:#228b22">// 到达此位置前有没有加过油</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#008b45">Node</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>y)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">x</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>x;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">y</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>y;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#008b45">bfs</span>()<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 如果左上角和右下角不可达，则直接返回-1</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(matrix[0][0]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>matrix[m<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1][n<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>-1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 广搜队列</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>LinkedList&lt;Node&gt;<span style="color:#bbb"> </span>queue<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>LinkedList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 起始位置</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Node<span style="color:#bbb"> </span>src<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Node(0,<span style="color:#bbb"> </span>0);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(matrix[0][0]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>-1)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果起始位置就是加油站，则到达(0,0)位置所需初始油量为0，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 且剩余可用油量为100，且需要标记已加油</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>src.<span style="color:#658b00">init</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>src.<span style="color:#658b00">remain</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>100;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>src.<span style="color:#658b00">flag</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">true</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果起始位置不是加油站，则到达(0,0)位置所需的初始油量至少为matrix[0][0], </span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 剩余可用油量为0，未加油状态</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>src.<span style="color:#658b00">init</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>matrix[0][0];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>src.<span style="color:#658b00">remain</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>src.<span style="color:#658b00">flag</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">false</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>queue.<span style="color:#658b00">add</span>(src);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// dist_init[x][y] 用于记录起点 (0, 0) 到达 (x, y) 的所有可达路径中最优路径</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// （即初始油量需求最少的路径）的初始油量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>dist_init<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[m][n];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>m;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 由于需要记录每个位置的最少需要的初始油量，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 因此每个位置所需的初始油量初始化为一个较大值</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>dist_init[i][j]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">MAX_VALUE</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// dist_remain 用于记录起点 (0,0) 到达 (x,y) 的所有可达路径中最优路径</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// （即初始油量需求最少的路径）的最大剩余可用油量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 即如果存在多条最优路径，我们应该选这些路径中到达此位置剩余油量最多的</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>dist_remain<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[m][n];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 起点（0,0）到达自身位置（0,0）所需的最少初始油量和最多剩余油量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>dist_init[0][0]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>src.<span style="color:#658b00">init</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>dist_remain[0][0]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>src.<span style="color:#658b00">remain</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 广搜</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(queue.<span style="color:#658b00">size</span>()<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>Node<span style="color:#bbb"> </span>cur<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>queue.<span style="color:#658b00">removeFirst</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 从当前位置cur开始向上下左右四个方向探路</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>offset<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>offsets)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 新位置</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>newX<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>cur.<span style="color:#658b00">x</span><span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>offset[0];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>newY<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>cur.<span style="color:#658b00">y</span><span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>offset[1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 新位置越界 或者 新位置是障碍，则新位置不可达，继续探索其他方向</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(newX<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>newX<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>m<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>newY<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>newY<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>n<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>||<span style="color:#bbb"> </span>matrix[newX][newY]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">continue</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 如果新位置可达，则计算到达新位置的三个状态数据</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>init<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>cur.<span style="color:#658b00">init</span>;<span style="color:#bbb"> </span><span style="color:#228b22">// 到达新位置所需的最少初始油量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>remain<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>cur.<span style="color:#658b00">remain</span>;<span style="color:#bbb"> </span><span style="color:#228b22">// 到达新位置时还剩余的最多可用油量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">boolean</span><span style="color:#bbb"> </span>flag<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>cur.<span style="color:#658b00">flag</span>;<span style="color:#bbb"> </span><span style="color:#228b22">// 是否加油了</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(matrix[newX][newY]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>-1)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 如果新位置是加油站，则加满油</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>remain<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>100;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 标记加过油了</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>flag<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">true</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 如果新位置不是加油站，则需要消耗matrix[newX][newY]个油</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>remain<span style="color:#bbb"> </span>-=<span style="color:#bbb"> </span>matrix[newX][newY];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 如果到达新位置后，剩余油量为负数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(remain<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(flag)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#228b22">// 如果之前已经加过油了，则说明到达此路径前是满油状态，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#228b22">// 因此我们无法从初始油量里面&#34;借&#34;油</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#8b008b;font-weight:bold">continue</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#228b22">// 如果之前没有加过油，则超出的油量（-remain），可以从初始油量里面&#34;借&#34;，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#228b22">// 即需要初始油量 init + (-remain) 才能到达新位置</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>init<span style="color:#bbb"> </span>-=<span style="color:#bbb"> </span>remain;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#228b22">// 由于初始油量 init + (-remain) 刚好只能支持汽车到达新位置，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#228b22">// 因此汽车到达新位置后剩余可用油量为0</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>remain<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 如果到达新位置所需的初始油量超过了满油100，则无法到达新位置</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(init<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>100)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">continue</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 如果可达新位置，则继续检查当前路径策略到达新位置(newX, newY)</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 所需的初始油量init是否比其他路径策略更少</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(init<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>dist_init[newX][newY])<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 如果不是，则无需探索新位置(newX, newY)</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">continue</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 当前路径策略到达新位置(newX,newY)所需初始油量init更少，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 或者，init和前面路径策略相同，但是当前路径策略剩余可用油量remain更多</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(init<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>dist_init[newX][newY]<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>remain<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>dist_remain[newX][newY])<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 则当前路径策略更优，记录更优路径的状态</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>dist_init[newX][newY]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>init;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>dist_remain[newX][newY]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>remain;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 将当前新位置加入BFS队列</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>Node<span style="color:#bbb"> </span>next<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Node(newX,<span style="color:#bbb"> </span>newY);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>next.<span style="color:#658b00">init</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>init;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>next.<span style="color:#658b00">remain</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>remain;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>next.<span style="color:#658b00">flag</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>flag;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>queue.<span style="color:#658b00">add</span>(next);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// dist_init[m - 1][n - 1] 记录的是到达右下角终点位置所需的最少初始油量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>dist_init[m<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1][n<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">MAX_VALUE</span><span style="color:#bbb"> </span>?<span style="color:#bbb"> </span>-1<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>dist_init[m<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1][n<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="24-中文分词模拟器">
  24. 中文分词模拟器
  <a class="anchor" href="#24-%e4%b8%ad%e6%96%87%e5%88%86%e8%af%8d%e6%a8%a1%e6%8b%9f%e5%99%a8">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>给定一个连续不包含空格的字符串，该字符串仅包含英文小写字母及英文标点符号（逗号、分号、句号），
</span></span><span style="display:flex;"><span>同时给定词库，对该字符串进行精确分词。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>说明：
</span></span><span style="display:flex;"><span>1. 精确分词：字符串分词后，不会出现重叠。即&#34;ilovechina&#34;，
</span></span><span style="display:flex;"><span>   不同词库可分割为&#34;i,love,china&#34;，&#34;ilove,china&#34;，不能分割出现重叠的&#34;i,ilove,china&#34;，i 出现重叠
</span></span><span style="display:flex;"><span>2. 标点符号不成词，仅用于断句
</span></span><span style="display:flex;"><span>3. 词库：根据外部知识库统计出来的常用词汇例：dictionary = [&#34;i&#34;, &#34;love&#34;, &#34;china&#34;, &#34;lovechina&#34;, &#34;ilove&#34;]
</span></span><span style="display:flex;"><span>4. 分词原则：采用分词顺序优先且最长匹配原则
</span></span><span style="display:flex;"><span>   &#34;ilovechina&#34;，假设分词结果 [i,ilove,lo,love,ch,china,lovechina]，则输出 [ilove,china]
</span></span><span style="display:flex;"><span>   错误输出：[i,lovechina]，原因：&#34;ilove&#34; &gt; 优先于 &#34;lovechina&#34; 成词
</span></span><span style="display:flex;"><span>   错误输出：[i,love,china]，原因：&#34;ilove&#34; &gt; &#34;i&#34;遵循最长匹配原则
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一行输入待分词语句 &#34;ilovechina&#34;
</span></span><span style="display:flex;"><span>字符串长度限制：0 ＜ length ＜ 256
</span></span><span style="display:flex;"><span>第二行输入中文词库 &#34;i,love,china,ch,na,ve,lo,this,is,this,word&#34;
</span></span><span style="display:flex;"><span>词库长度限制：1 ＜ length ＜ 100000
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>按顺序输出分词结果 &#34;i,love,china&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：iat
</span></span><span style="display:flex;"><span>     i,love,china,ch,na,ve,lo,this,is,the,word,beauti,tiful,ful
</span></span><span style="display:flex;"><span>输出：i,a,t
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>sentences<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34;[,.;]&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>words<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34;[,.;]&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(getResult(sentences,<span style="color:#bbb"> </span>words));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span>String<span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>(String[]<span style="color:#bbb"> </span>sentences,<span style="color:#bbb"> </span>String[]<span style="color:#bbb"> </span>words)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// wordSet 记录词库词汇</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>HashSet&lt;String&gt;<span style="color:#bbb"> </span>wordSet<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>HashSet&lt;&gt;(Arrays.<span style="color:#658b00">asList</span>(words));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// queue记录待分词语句</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>LinkedList&lt;String&gt;<span style="color:#bbb"> </span>queue<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>LinkedList&lt;&gt;(Arrays.<span style="color:#658b00">asList</span>(sentences));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// ans记录最终分词结果</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>LinkedList&lt;String&gt;<span style="color:#bbb"> </span>ans<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>LinkedList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(queue.<span style="color:#658b00">size</span>()<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 待分词的句子</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>String<span style="color:#bbb"> </span>sentence<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>queue.<span style="color:#658b00">removeFirst</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>r<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sentence.<span style="color:#658b00">length</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(;<span style="color:#bbb"> </span>r<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>r--)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 截取句子 [0,r) 范围子串词汇, 这样的就能实现优先最长匹配，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 并且由于是必须从0索引开始截取，因此满足了分词顺序优先</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>String<span style="color:#bbb"> </span>fragment<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sentence.<span style="color:#658b00">substring</span>(0,<span style="color:#bbb"> </span>r);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 若词库中是否存在该子串词汇</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(wordSet.<span style="color:#658b00">contains</span>(fragment))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 则将对应子串词汇纳入结果</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>ans.<span style="color:#658b00">addLast</span>(fragment);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 我理解词库中每个词汇只能使用一次，因此这里将词库中使用过的词汇移除</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>wordSet.<span style="color:#658b00">remove</span>(fragment);<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 若子串词汇只是句子部分，则句子剩余部分还要继续去词库中查找</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(r<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>sentence.<span style="color:#658b00">length</span>())<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>queue.<span style="color:#658b00">addFirst</span>(sentence.<span style="color:#658b00">substring</span>(r));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 没有在词库中找到对应子串词汇，则输出单个字母</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(r<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 注意，这里只放一个字母到结果中，句子剩余部分继续去词库中查找</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>ans.<span style="color:#658b00">add</span>(sentence.<span style="color:#658b00">charAt</span>(0)<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(sentence.<span style="color:#658b00">length</span>()<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>queue.<span style="color:#658b00">addFirst</span>(sentence.<span style="color:#658b00">substring</span>(1));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>StringJoiner<span style="color:#bbb"> </span>sj<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>StringJoiner(<span style="color:#cd5555">&#34;,&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>ans.<span style="color:#658b00">forEach</span>(sj::add);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>sj.<span style="color:#658b00">toString</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="25-转骰子">
  25. 转骰子
  <a class="anchor" href="#25-%e8%bd%ac%e9%aa%b0%e5%ad%90">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>骰子是一个立方体，每个面一个数字，初始为左1，右2，前3(观察者方向)，后4，上5，下6，用123456表示这个状态，放置在平面上，
</span></span><span style="display:flex;"><span>1. 可以向左翻转(用L表示向左翻转1次)，
</span></span><span style="display:flex;"><span>2. 可以向右翻转(用R表示向右翻转1次)，
</span></span><span style="display:flex;"><span>3. 可以向前翻转(用F表示向前翻转1次)，
</span></span><span style="display:flex;"><span>4. 可以向后翻转(用B表示向后翻转1次)，
</span></span><span style="display:flex;"><span>5. 可以逆时针旋转(用A表示逆时针旋转90度)，
</span></span><span style="display:flex;"><span>6. 可以顺时针旋转(用C表示顺时针旋转90度)，
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>现从123456这个初始状态开始，根据输入的动作序列，计算得到最终的状态。
</span></span><span style="display:flex;"><span>骰子的初始状态和初始状态转动后的状态如图所示。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>输入一行，为只包含LRFBAC的字母序列，最大长度为50，字母可重复。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>输出最终状态
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：L R
</span></span><span style="display:flex;"><span>输出：123456
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：F C R
</span></span><span style="display:flex;"><span>输出：342156
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>directives<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34; &#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>turnDice(directives);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">turnDice</span>(String[]<span style="color:#bbb"> </span>directives)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Dice<span style="color:#bbb"> </span>dice<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Dice();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(String<span style="color:#bbb"> </span>directive<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>directives)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">switch</span><span style="color:#bbb"> </span>(directive)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">case</span><span style="color:#bbb"> </span><span style="color:#cd5555">&#34;L&#34;</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>dice.<span style="color:#658b00">turnL</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">case</span><span style="color:#bbb"> </span><span style="color:#cd5555">&#34;R&#34;</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>dice.<span style="color:#658b00">turnR</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">case</span><span style="color:#bbb"> </span><span style="color:#cd5555">&#34;F&#34;</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>dice.<span style="color:#658b00">turnF</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">case</span><span style="color:#bbb"> </span><span style="color:#cd5555">&#34;B&#34;</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>dice.<span style="color:#658b00">turnB</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">case</span><span style="color:#bbb"> </span><span style="color:#cd5555">&#34;A&#34;</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>dice.<span style="color:#658b00">turnA</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">case</span><span style="color:#bbb"> </span><span style="color:#cd5555">&#34;C&#34;</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>dice.<span style="color:#658b00">turnC</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>dice.<span style="color:#658b00">print</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">Dice</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>left<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>right<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>2;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>front<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>3;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>back<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>4;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>top<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>5;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>bottom<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>6;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">turnL</span>()<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 前后不变，上变左，左变下，下变右，右变上</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>tmp<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">right</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">right</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">bottom</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">bottom</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">left</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">left</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">top</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">top</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>tmp;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">turnR</span>()<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 前后不变，上变右，右变下，下变左，左变上</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>tmp<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">left</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">left</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">bottom</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">bottom</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">right</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">right</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">top</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">top</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>tmp;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">turnF</span>()<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 左右不变，上变前，前变下，下变后，后变上</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>tmp<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">front</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">front</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">top</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">top</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">back</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">back</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">bottom</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">bottom</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>tmp;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">turnB</span>()<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 左右不变，前变上，上变后，后变下，下边前</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>tmp<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">top</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">top</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">front</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">front</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">bottom</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">bottom</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">back</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">back</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>tmp;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">turnA</span>()<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 上下不变， 前变右，右变后，后变左，左变前</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>tmp<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">right</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">right</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">front</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">front</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">left</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">left</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">back</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">back</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>tmp;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">turnC</span>()<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 上下不变， 右变前，前变左，左变后，后变右</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>tmp<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">front</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">front</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">right</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">right</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">back</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">back</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">left</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">left</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>tmp;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">print</span>()<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>String<span style="color:#bbb"> </span>sb<span style="color:#bbb"> </span>=<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>String.<span style="color:#658b00">valueOf</span>(<span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">left</span>)<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">right</span><span style="color:#bbb"> </span>+<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">front</span><span style="color:#bbb"> </span>+<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">back</span><span style="color:#bbb"> </span>+<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">top</span><span style="color:#bbb"> </span>+<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">bottom</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(sb);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        


<div class="flex flex-wrap justify-center">
  
  <div class="copyright">
    <a class="copyright" href="mailto:jianda1024@163.com" target="_blank" title='EmailTo: jianda1024@163.com'>
      Copyright © 2024-2025
    </a>
    <br/>
    <a class="copyright" href="#" onclick="showIData()" title='Jianda'>
      <strong>Jianda</strong>
    </a>
  </div>
</div>
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#01-贪吃蛇">01. 贪吃蛇</a></li>
    <li><a href="#02-贪心歌手">02. 贪心歌手</a></li>
    <li><a href="#03-特殊的加密算法">03. 特殊的加密算法</a></li>
    <li><a href="#04-田忌赛马">04. 田忌赛马</a></li>
    <li><a href="#05-跳格子3">05. 跳格子3</a></li>
    <li><a href="#06-跳马">06. 跳马</a></li>
    <li><a href="#07-图像物体的边界">07. 图像物体的边界</a></li>
    <li><a href="#08-推荐多样性">08. 推荐多样性</a></li>
    <li><a href="#09-文本统计分析">09. 文本统计分析</a></li>
    <li><a href="#10-文件缓存系统">10. 文件缓存系统</a></li>
    <li><a href="#11-污染水域">11. 污染水域</a></li>
    <li><a href="#12-项目排期">12. 项目排期</a></li>
    <li><a href="#13-小朋友分组最少调整次数">13. 小朋友分组最少调整次数</a></li>
    <li><a href="#14-信道分配">14. 信道分配</a></li>
    <li><a href="#15-寻找最优的路测线路">15. 寻找最优的路测线路</a></li>
    <li><a href="#16-园区参观路径">16. 园区参观路径</a></li>
    <li><a href="#17-员工派遣">17. 员工派遣</a></li>
    <li><a href="#18-运输时间">18. 运输时间</a></li>
    <li><a href="#19-找城市">19. 找城市</a></li>
    <li><a href="#20-找单词">20. 找单词</a></li>
    <li><a href="#21-找到比自己强的人数">21. 找到比自己强的人数</a></li>
    <li><a href="#22-找数字">22. 找数字</a></li>
    <li><a href="#23-智能驾驶">23. 智能驾驶</a></li>
    <li><a href="#24-中文分词模拟器">24. 中文分词模拟器</a></li>
    <li><a href="#25-转骰子">25. 转骰子</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  

</body>
</html>












