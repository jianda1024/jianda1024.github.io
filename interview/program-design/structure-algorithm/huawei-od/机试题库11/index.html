<!DOCTYPE html>
<html lang="interview" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="机试题库 - 11">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="https://jianda1024.github.io/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%9311/">
  <meta property="og:site_name" content="Interview">
  <meta property="og:title" content="机试题库 - 11">
  <meta property="og:description" content="机试题库 - 11">
  <meta property="og:locale" content="interview">
  <meta property="og:type" content="article">
    <meta property="article:section" content="program-design">
<title>机试题库 - 11 | Interview</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" >
<link rel="canonical" href="https://jianda1024.github.io/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%9311/">
<link rel="stylesheet" href="/book.min.309b7ed028807cdb68d8d61e26d609f48369c098dbf5e4d8c0dcf4cdf49feafc.css" integrity="sha256-MJt&#43;0CiAfNto2NYeJtYJ9INpwJjb9eTYwNz0zfSf6vw=" crossorigin="anonymous">
  <script defer src="/fuse.min.js"></script>
  <script defer src="/interview.search.min.3baa99935d6e12f896a5c804bb4f4423cb3e82ebee08be4f99b9fc089bc7f4e6.js" integrity="sha256-O6qZk11uEviWpcgEu09EI8s&#43;guvuCL5Pmbn8CJvH9OY=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
<link rel="stylesheet" href="/css/common.css" />
<script defer src="/js/common/jquery.min.js"></script>
<script defer src="/js/common.js"></script>



</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>




  
    
  
    
  
    
  



<h2 class="book-brand">
  <div class="flex justify-between">
    <a href="/interview"><span>Interview</span>
    </a>
    <a href="#" onclick="multiContent('https:\/\/jianda1024.github.io\/interview\/program-design\/structure-algorithm\/huawei-od\/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%9311\/')">
      &nbsp;&nbsp;&nbsp;&nbsp;
      <span style="font-size: 1rem;font-weight: bolder;">☰</span>
    </a>
  </div>
  <div id="multi-content-list" class="style-hide" tabindex="0" aria-haspopup="true">
    <ul>
      
        
          
            <li id="doc">
              <a href="https://jianda1024.github.io/" class="flex align-center">
                Document
              </a>
            </li>
          
        
      
        
          
        
      
        
          
            <li id="idata">
              <a href="https://jianda1024.github.io/idata/" class="flex align-center">
                IData
              </a>
            </li>
          
        
      
    </ul>
  </div>
</h2>

<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="" aria-label="" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>



  










  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-d7af54bb6384ef366b268a9438900490" class="toggle"  />
    <label for="section-d7af54bb6384ef366b268a9438900490" class="flex justify-between">
      <a role="button" class="">编程基础</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/program-base/network/" class="">网络</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-base/linux/" class="">Linux</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-d368cfb348ae2c31b67bc0cd97524469" class="toggle" checked />
    <label for="section-d368cfb348ae2c31b67bc0cd97524469" class="flex justify-between">
      <a role="button" class="">程序设计</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-547eb2a955702a10f6a5115390900419" class="toggle" checked />
    <label for="section-547eb2a955702a10f6a5115390900419" class="flex justify-between">
      <a role="button" class="">数据结构与算法</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-e1272beed7905527d0fba42083bdee40" class="toggle" checked />
    <label for="section-e1272beed7905527d0fba42083bdee40" class="flex justify-between">
      <a role="button" class="">华为OD</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E5%BF%85%E4%BC%9A%E9%A2%981/" class="">必会题 - 1</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E5%BF%85%E4%BC%9A%E9%A2%982/" class="">必会题 - 2</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E5%8F%82%E8%80%83%E9%A2%981/" class="">参考题 - 1</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%931/" class="">机试题库 - 1</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%932/" class="">机试题库 - 2</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%933/" class="">机试题库 - 3</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%934/" class="">机试题库 - 4</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%935/" class="">机试题库 - 5</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%9311/" class="active">机试题库 - 11</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%9312/" class="">机试题库 - 12</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%9313/" class="">机试题库 - 13</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%9314/" class="">机试题库 - 14</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E5%8D%8E%E4%B8%BA%E6%9C%BA%E8%AF%95/" class="">华为机试</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%9321/" class="">机试题库 - 21</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E6%9C%BA%E8%AF%95%E9%A2%98%E5%BA%9322/" class="">机试题库 - 22</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/huawei-od/%E5%85%A8/" class="">索引</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d7784697cbea516c63f36e08f8ea9b7b" class="toggle"  />
    <label for="section-d7784697cbea516c63f36e08f8ea9b7b" class="flex justify-between">
      <a role="button" class="">leetcode</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/leetcode/%E5%93%88%E5%B8%8C/" class="">哈希</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/leetcode/%E5%8F%8C%E6%8C%87%E9%92%88/" class="">双指针</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/leetcode/%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/" class="">滑动窗口</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/leetcode/%E5%AD%90%E4%B8%B2/" class="">子串</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/structure-algorithm/dir/" class="">目录</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-1d60455ab7836bb2a3a56b8bde54f5b9" class="toggle"  />
    <label for="section-1d60455ab7836bb2a3a56b8bde54f5b9" class="flex justify-between">
      <a role="button" class="">设计模式</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-534b4c3b58152c7a029cbad8bcc9e467" class="toggle"  />
    <label for="section-534b4c3b58152c7a029cbad8bcc9e467" class="flex justify-between">
      <a role="button" class="">分布式</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/program-design/distributed/p1/" class="">Part.1</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-4e3a1bbd5ca40b4023e33e48202fe092" class="toggle"  />
    <label for="section-4e3a1bbd5ca40b4023e33e48202fe092" class="flex justify-between">
      <a role="button" class="">开发工具</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/dev-tool/git/" class="">Git</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/dev-tool/maven/" class="">Maven</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/dev-tool/tomcat/" class="">Tomcat</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>—</span>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-b032946e6aac69e7d2bfca696347bd30" class="toggle"  />
    <label for="section-b032946e6aac69e7d2bfca696347bd30" class="flex justify-between">
      <a role="button" class="">程序语言</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-62f00d6c6c4fc42ea6cda66313338d79" class="toggle"  />
    <label for="section-62f00d6c6c4fc42ea6cda66313338d79" class="flex justify-between">
      <a role="button" class="">Java基础</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/program-lang/java-base/p1/" class="">Part.1</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-lang/java-base/p2/" class="">Part.2</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-lang/java-base/p3/" class="">Part.3</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-c0ce084c2514d6bd2b2c3467a1929a3d" class="toggle"  />
    <label for="section-c0ce084c2514d6bd2b2c3467a1929a3d" class="flex justify-between">
      <a role="button" class="">Java虚拟机</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/program-lang/java-jvm/p1/" class="">Part.1</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-lang/java-jvm/p2/" class="">Part.2</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2a42d8e26dc157dad91266007f615424" class="toggle"  />
    <label for="section-2a42d8e26dc157dad91266007f615424" class="flex justify-between">
      <a role="button" class="">Java多线程</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/program-lang/java-thread/p1/" class="">Part.1</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/program-lang/java-thread/p2/" class="">Part.2</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-fe10a5803fcd991eeb3fa98ee3172a4f" class="toggle"  />
    <label for="section-fe10a5803fcd991eeb3fa98ee3172a4f" class="flex justify-between">
      <a role="button" class="">数据存储</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-5c53985597fa4a4175f4c1a5cffc2e9c" class="toggle"  />
    <label for="section-5c53985597fa4a4175f4c1a5cffc2e9c" class="flex justify-between">
      <a role="button" class="">MySQL</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/database/mysql/p1/" class="">Part.1</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-bfd18413517cb0125b84955ad7966530" class="toggle"  />
    <label for="section-bfd18413517cb0125b84955ad7966530" class="flex justify-between">
      <a role="button" class="">Redis</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/database/redis/p1/" class="">Part.1</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>—</span>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-3cd205a449ba65dd2a21212b6922546d" class="toggle"  />
    <label for="section-3cd205a449ba65dd2a21212b6922546d" class="flex justify-between">
      <a role="button" class="">开源框架</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d32f47fca6b34b56b534735afccc1729" class="toggle"  />
    <label for="section-d32f47fca6b34b56b534735afccc1729" class="flex justify-between">
      <a role="button" class="">MQ</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/framework/mq/mq/" class="">MQ</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f3f420fbf9c98b8554806eb25798e5a2" class="toggle"  />
    <label for="section-f3f420fbf9c98b8554806eb25798e5a2" class="flex justify-between">
      <a role="button" class="">Spring</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/framework/spring/p1/" class="">Part.1</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/framework/spring/p2/" class="">Part.2</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/framework/mybatis/" class="">MyBatis</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-cc51f608bfbc7068b8b058b45385b866" class="toggle"  />
    <label for="section-cc51f608bfbc7068b8b058b45385b866" class="flex justify-between">
      <a role="button" class="">服务治理</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/interview/service-manage/spring-boot/" class="">SpringBoot</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/service-manage/spring-cloud/" class="">SpringCloud</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/service-manage/nginx/" class="">Nginx</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/service-manage/dubbo/" class="">Dubbo</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/interview/service-manage/zookeeper/" class="">Zookeeper</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>机试题库 - 11</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#01-5g网络建设">01. 5G网络建设</a></li>
    <li><a href="#02-n进制减法">02. N进制减法</a></li>
    <li><a href="#03-tlv解析">03. TLV解析</a></li>
    <li><a href="#04-wonderland">04. Wonderland</a></li>
    <li><a href="#05-比较两个版本号的大小">05. 比较两个版本号的大小</a></li>
    <li><a href="#06-猜密码">06. 猜密码</a></li>
    <li><a href="#07-查找一个有向网络的头节点和尾节点">07. 查找一个有向网络的头节点和尾节点</a></li>
    <li><a href="#08-出错的或电路">08. 出错的或电路</a></li>
    <li><a href="#09-打印任务排序">09. 打印任务排序</a></li>
    <li><a href="#10-导师请吃火锅">10. 导师请吃火锅</a></li>
    <li><a href="#11-电脑病毒感染">11. 电脑病毒感染</a></li>
    <li><a href="#12-叠积木">12. 叠积木</a></li>
    <li><a href="#13-二叉树的广度优先遍历">13. 二叉树的广度优先遍历</a></li>
    <li><a href="#14-二叉树计算">14. 二叉树计算</a></li>
    <li><a href="#15-发广播">15. 发广播</a></li>
    <li><a href="#16-伐木工">16. 伐木工</a></li>
    <li><a href="#17-反射计数">17. 反射计数</a></li>
    <li><a href="#18-分月饼">18. 分月饼</a></li>
    <li><a href="#19-符号运算">19. 符号运算</a></li>
    <li><a href="#20-高效的任务规划">20. 高效的任务规划</a></li>
    <li><a href="#21-高效货运">21. 高效货运</a></li>
    <li><a href="#22-根据ip查找城市">22. 根据IP查找城市</a></li>
    <li><a href="#23-欢乐的周末">23. 欢乐的周末</a></li>
    <li><a href="#24-机器人走迷宫">24. 机器人走迷宫</a></li>
    <li><a href="#25-计算疫情扩散时间">25. 计算疫情扩散时间</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h2 id="01-5g网络建设">
  01. 5G网络建设
  <a class="anchor" href="#01-5g%e7%bd%91%e7%bb%9c%e5%bb%ba%e8%ae%be">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>现需要在某城市进行5G网络建设，已经选取N个地点设置5G基站，编号固定为1到N，接下来需要各个基站之间使用光纤进行连接以确保基站能互联互通，不同基站之间假设光纤的成本各不相同，且有些节点之间已经存在光纤相连。
</span></span><span style="display:flex;"><span>请你设计算法，计算出能联通这些基站的最小成本是多少。
</span></span><span style="display:flex;"><span>注意：基站的联通具有传递性，比如基站A与基站B架设了光纤，基站B与基站C也架设了光纤，则基站A与基站C视为可以互相联通。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一行输入表示基站的个数N，其中：0 ＜ N ≤ 20
</span></span><span style="display:flex;"><span>第二行输入表示具备光纤直连条件的基站对的数目M，其中：0 ＜ M ＜ N * (N - 1) / 2
</span></span><span style="display:flex;"><span>从第三行开始连续输入M行数据，格式为X Y Z P，其中：
</span></span><span style="display:flex;"><span>X，Y 表示基站的编号，0 ＜ X ≤ N，0 ＜ Y ≤ N，X ≠ Y，
</span></span><span style="display:flex;"><span>Z 表示在 X、Y之间架设光纤的成本，0 ＜ Z ＜ 100
</span></span><span style="display:flex;"><span>P 表示是否已存在光纤连接，0 表示未连接，1表示已连接
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>如果给定条件，可以建设成功互联互通的5G网络，则输出最小的建设成本
</span></span><span style="display:flex;"><span>如果给定条件，无法建设成功互联互通的5G网络，则输出 -1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：3
</span></span><span style="display:flex;"><span>     3
</span></span><span style="display:flex;"><span>     1 2 3 0
</span></span><span style="display:flex;"><span>     1 3 1 0
</span></span><span style="display:flex;"><span>     2 3 5 0
</span></span><span style="display:flex;"><span>输出：4
</span></span><span style="display:flex;"><span>说明：只需要在1，2以及1，3基站之间铺设光纤，其成本为3+1=4
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#228b22">// 边</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">Edge</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>from;<span style="color:#bbb"> </span><span style="color:#228b22">// 边起点</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>to;<span style="color:#bbb"> </span><span style="color:#228b22">// 边终点</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>weight;<span style="color:#bbb"> </span><span style="color:#228b22">// 边权重</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#008b45">Edge</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>from,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>to,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>weight)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">from</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>from;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">to</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>to;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">weight</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>weight;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb"> </span><span style="color:#228b22">// 基站数量（节点数）</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>m<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb"> </span><span style="color:#228b22">// 基站对数量（边数）</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Edge[]<span style="color:#bbb"> </span>edges<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Edge[m];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>m;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>y<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>z<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>p<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果p==1，则可以认为x-y边权为0</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>edges[i]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Edge(x,<span style="color:#bbb"> </span>y,<span style="color:#bbb"> </span>p<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>?<span style="color:#bbb"> </span>z<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>0);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(kruskal(edges,<span style="color:#bbb"> </span>n));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#008b45">kruskal</span>(Edge[]<span style="color:#bbb"> </span>edges,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>minWeight<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 按照边权升序</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Arrays.<span style="color:#658b00">sort</span>(edges,<span style="color:#bbb"> </span>(a,<span style="color:#bbb"> </span>b)<span style="color:#bbb"> </span>-&gt;<span style="color:#bbb"> </span>a.<span style="color:#658b00">weight</span><span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>b.<span style="color:#658b00">weight</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>UnionFindSet<span style="color:#bbb"> </span>ufs<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>UnionFindSet(n<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 最先遍历出来是边权最小的边</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(Edge<span style="color:#bbb"> </span>edge<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>edges)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果edge.from节点 和 edge.to节点 是同一个连通分量（即都在最小生成树中），则此时会产生环</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 因此只有当edge.from节点 和 edge.to节点不在同一个连通分量时，才能合并（纳入最小生成树）</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(ufs.<span style="color:#658b00">find</span>(edge.<span style="color:#658b00">from</span>)<span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span>ufs.<span style="color:#658b00">find</span>(edge.<span style="color:#658b00">to</span>))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>minWeight<span style="color:#bbb"> </span>+=<span style="color:#bbb"> </span>edge.<span style="color:#658b00">weight</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>ufs.<span style="color:#658b00">union</span>(edge.<span style="color:#658b00">from</span>,<span style="color:#bbb"> </span>edge.<span style="color:#658b00">to</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 需要注意的是，上面初始化并查集的节点数为n+1个，因此并查集底层fa数组的长度就是n+1，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 即索引范围是[0, n]，左闭右闭，其中0索引是无用的，1~n索引对应最小生成树中各个节点，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 如果者n个节点可以变为最小生成树，那么1~n节点会被合并为一个连通分量，而0索引虽然无用，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 但是也会自己形成一个连通分量，因此最终如果能形成最小生成树，则并查集中会有两个连通分量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(ufs.<span style="color:#658b00">count</span><span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>2)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>minWeight;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>-1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">// 并查集</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">UnionFindSet</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>fa;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>count;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#008b45">UnionFindSet</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">fa</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[n];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">count</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>n;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">fa</span>[i]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>i;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#008b45">find</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(x<span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">fa</span>[x])<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>(<span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">fa</span>[x]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">find</span>(<span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">fa</span>[x]));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>x;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">union</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>y)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x_fa<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">find</span>(x);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>y_fa<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">find</span>(y);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(x_fa<span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span>y_fa)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">fa</span>[y_fa]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>x_fa;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">count</span>--;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="02-n进制减法">
  02. N进制减法
  <a class="anchor" href="#02-n%e8%bf%9b%e5%88%b6%e5%87%8f%e6%b3%95">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>主管期望你实现一个基于字符串的N进制的减法。
</span></span><span style="display:flex;"><span>需要对输入的两个字符串按照给定的N进制进行减法操作，输出正负符号和表示结果的字符串。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一个参数是整数形式的进制N值，N值范围为大于等于2、小于等于35。
</span></span><span style="display:flex;"><span>第二个参数为被减数字符串；
</span></span><span style="display:flex;"><span>第三个参数为减数字符串。
</span></span><span style="display:flex;"><span>有效的字符包括0-9以及小写字母a-z，字符串有效字符个数最大为100个字符，另外还有结尾的\0。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>限制：
</span></span><span style="display:flex;"><span>输入的被减数和减数，除了单独的0以外，不能是以0开头的字符串。
</span></span><span style="display:flex;"><span>如果输入有异常或计算过程中有异常，此时应当输出-1表示错误。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：输出有2个。
</span></span><span style="display:flex;"><span>其一为减法计算的结果，-1表示出错，0表示结果为整数，1表示结果为负数。
</span></span><span style="display:flex;"><span>其二为表示结果的字符串。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：8 07 1
</span></span><span style="display:flex;"><span>输出：-1
</span></span><span style="display:flex;"><span>说明：按8进制，检查到减数不符合非0前导的要求，返回结果为-1，没有其他结果内容。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：2 11 1
</span></span><span style="display:flex;"><span>输出：0 10
</span></span><span style="display:flex;"><span>说明：按二进制计算 11 -1 ，计算正常，0表示符号为正数，结果为10
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>split<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34; &#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">parseInt</span>(split[0]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>num<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>split[1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>numSub<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>split[2];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(getResult(n,<span style="color:#bbb"> </span>num,<span style="color:#bbb"> </span>numSub));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span>String<span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n,<span style="color:#bbb"> </span>String<span style="color:#bbb"> </span>num,<span style="color:#bbb"> </span>String<span style="color:#bbb"> </span>numSub)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(n<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>2<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>35<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>!isValid(num,<span style="color:#bbb"> </span>n)<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>!isValid(numSub,<span style="color:#bbb"> </span>n))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#cd5555">&#34;-1&#34;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span>numVal<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Long.<span style="color:#658b00">parseLong</span>(num,<span style="color:#bbb"> </span>n);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span>numSubVal<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Long.<span style="color:#658b00">parseLong</span>(numSub,<span style="color:#bbb"> </span>n);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>diff<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Long.<span style="color:#658b00">toString</span>(Math.<span style="color:#658b00">abs</span>(numVal<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>numSubVal),<span style="color:#bbb"> </span>n);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>sign<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>numVal<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>numSubVal<span style="color:#bbb"> </span>?<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;0&#34;</span><span style="color:#bbb"> </span>:<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;1&#34;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>sign<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span><span style="color:#cd5555">&#34; &#34;</span><span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>diff;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">boolean</span><span style="color:#bbb"> </span><span style="color:#008b45">isValid</span>(String<span style="color:#bbb"> </span>str,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 含前导的0只有0值本身合法</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(str.<span style="color:#658b00">startsWith</span>(<span style="color:#cd5555">&#34;0&#34;</span>))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#cd5555">&#34;0&#34;</span>.<span style="color:#658b00">equals</span>(str);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 被减数，减数只能包含字符0-9，a-z</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Pattern<span style="color:#bbb"> </span>reg<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Pattern.<span style="color:#658b00">compile</span>(<span style="color:#cd5555">&#34;[^a-z0-9]&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(reg.<span style="color:#658b00">matcher</span>(str).<span style="color:#658b00">find</span>())<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">false</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 被减数，减数长度最多100</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(str.<span style="color:#658b00">length</span>()<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>100)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">false</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 被减数，减数的每位不能超过n</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>str.<span style="color:#658b00">length</span>();<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">char</span><span style="color:#bbb"> </span>c<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>str.<span style="color:#658b00">charAt</span>(i);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(c<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;0&#39;</span><span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>c<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;9&#39;</span><span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">parseInt</span>(c<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;&#34;</span>)<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>n)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">false</span>;<span style="color:#bbb"> </span><span style="color:#228b22">// 比如2进制数的每一位不能超过2</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(c<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;a&#39;</span><span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>c<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;z&#39;</span><span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>c<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;a&#39;</span><span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>10<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>n)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">false</span>;<span style="color:#bbb"> </span><span style="color:#228b22">// 比如16进制数每一位不能超过f</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">true</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="03-tlv解析">
  03. TLV解析
  <a class="anchor" href="#03-tlv%e8%a7%a3%e6%9e%90">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>两端通过TLV格式的报文来通信，现在收到对端的一个TLV格式的消息包，要求生成匹配后的(tag, length, valueOffset)列表。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>具体要求如下：
</span></span><span style="display:flex;"><span>(1)消息包中多组tag、length、value紧密排列，其中tag,length各占1字节(uint8_t) , value所占字节数等于length的值
</span></span><span style="display:flex;"><span>(2)结果数组中tag值已知，需要填充每个tag对应数据的length和valueOffset值
</span></span><span style="display:flex;"><span>(valueOffset为value在原消息包中的起始偏移量（从0开始，以字节为单位))，即将消息包中的tag与结果数组中的tag进行匹配
</span></span><span style="display:flex;"><span>（可能存在匹配失败的情况，若结果数组中的tag在消息包中找不到，则length和valueOffset都为0)
</span></span><span style="display:flex;"><span>(3)消息包和结果数组中的tag值都按升序排列，且不重复
</span></span><span style="display:flex;"><span>(4)此消息包未被篡改，但尾部可能不完整，不完整的一组TLV请丢弃掉
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一行：一个字符串，代表收到的消息包。字符串长度在10000以内。
</span></span><span style="display:flex;"><span>说明1：字符串使用十六进制文本格式（字母为大写）来展示消息包的数据，如0F04ABABABAB代表一组TLV：
</span></span><span style="display:flex;"><span>前两个字符(0F）代表tag值为15，接下来两个字符（04）代表length值为4字节，接下来8个字符即为4字节的value。
</span></span><span style="display:flex;"><span>说明2：输入字符串中，每一组TLV紧密排列，中间无空格等分隔符
</span></span><span style="display:flex;"><span>第二行：需要匹配的tag数量n (0 ＜ n ＜1000) 。
</span></span><span style="display:flex;"><span>后面n行：需要匹配的n个tag值（十进制表示)，递增排列。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>和需要匹配的n个tag对应的n行匹配结果，每一行由长度和偏移量组成
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：0F04ABABABAB
</span></span><span style="display:flex;"><span>     1
</span></span><span style="display:flex;"><span>     15
</span></span><span style="display:flex;"><span>输出：4 2
</span></span><span style="display:flex;"><span>说明：tag15(十六进制0F)对应数据的长度为4，其value从第三个字节开始，因此偏移量为2
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：0F04ABABABAB1001FF
</span></span><span style="display:flex;"><span>     2
</span></span><span style="display:flex;"><span>     15
</span></span><span style="display:flex;"><span>     17
</span></span><span style="display:flex;"><span>输出：4 2
</span></span><span style="display:flex;"><span>     0 0
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>msg<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">next</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>tags<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[n];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>tags[i]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>sc.<span style="color:#658b00">close</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>getResult(msg,<span style="color:#bbb"> </span>tags);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>(String<span style="color:#bbb"> </span>msg,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>tags)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>HashMap&lt;Integer,<span style="color:#bbb"> </span>Integer[]&gt;<span style="color:#bbb"> </span>tagMap<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>HashMap&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 这里i+3的目的是确保tag，len的截取不会越界</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>3<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>msg.<span style="color:#658b00">length</span>();<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>tag<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">parseInt</span>(msg.<span style="color:#658b00">substring</span>(i,<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>2),<span style="color:#bbb"> </span>16);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>len<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">parseInt</span>(msg.<span style="color:#658b00">substring</span>(i<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>2,<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>4),<span style="color:#bbb"> </span>16);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// valueOffset以字节为单位，故要除以2</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>valueOffset<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>(i<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>5)<span style="color:#bbb"> </span>/<span style="color:#bbb"> </span>2;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 本TLV格式报文段结束位置i</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>i<span style="color:#bbb"> </span>+=<span style="color:#bbb"> </span>3<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>len<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>2;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果结束位置i越界，则当前TLV报文段是一个不完整的，需要丢弃</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(i<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>msg.<span style="color:#658b00">length</span>())<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 题目已经保证tag不会重复</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>tagMap.<span style="color:#658b00">put</span>(tag,<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Integer[]{len,<span style="color:#bbb"> </span>valueOffset});<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>tag<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>tags)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(tagMap.<span style="color:#658b00">containsKey</span>(tag))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>Integer[]<span style="color:#bbb"> </span>tmp<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>tagMap.<span style="color:#658b00">get</span>(tag);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>len<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>tmp[0];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>valueOffset<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>tmp[1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(len<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span><span style="color:#cd5555">&#34; &#34;</span><span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>valueOffset);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(<span style="color:#cd5555">&#34;0 0&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="04-wonderland">
  04. Wonderland
  <a class="anchor" href="#04-wonderland">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>Wonderland是小王居住地一家很受欢迎的游乐园。
</span></span><span style="display:flex;"><span>Wonderland目前有4种售票方式，分别为一日票（1天）、三日票（3天）、周票（7天）和月票（30天）。
</span></span><span style="display:flex;"><span>每种售票方式的价格由一个数组给出，每种票据在票面时限内可以无限制地进行游玩。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>小王计划在接下来一年多次游玩该游乐园。小王计划地游玩日期将由一个数组给出。
</span></span><span style="display:flex;"><span>现在，请您根据给出地售票价格数组和小王计划游玩日期数组，返回游玩计划所需要地最低消费。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>数组1：售票价格数组为costs，costs.length = 4，默认顺序为一日票、三日票、周票和月票。
</span></span><span style="display:flex;"><span>数组2：小王计划游玩日期数组为days，1 ≤ days.length ≤ 365，1 ≤ days[i] ≤ 365，默认顺序为升序。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>完成游玩计划的最低消费。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：5 14 30 100
</span></span><span style="display:flex;"><span>     1 3 5 20 21 200 202 230
</span></span><span style="display:flex;"><span>输出：40
</span></span><span style="display:flex;"><span>说明：根据售票价格数组和游玩日期数组给出的信息，发现每次去玩的时候买一张一日票是最省钱的，
</span></span><span style="display:flex;"><span>     所以小王会卖8张一日票，每张5元，最低花费是40元。
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>costs<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34; &#34;</span>)).<span style="color:#658b00">mapToInt</span>(Integer::parseInt).<span style="color:#658b00">toArray</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>days<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34; &#34;</span>)).<span style="color:#658b00">mapToInt</span>(Integer::parseInt).<span style="color:#658b00">toArray</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>List&lt;Integer&gt;<span style="color:#bbb"> </span>dayList<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>getDays(days);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Cost[]<span style="color:#bbb"> </span>costArr<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>getCosts(costs);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(getResult(costArr,<span style="color:#bbb"> </span>dayList));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">private</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>(Cost[]<span style="color:#bbb"> </span>costs,<span style="color:#bbb"> </span>List&lt;Integer&gt;<span style="color:#bbb"> </span>days)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>day<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>days)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>minCost(costs,<span style="color:#bbb"> </span>0,<span style="color:#bbb"> </span>day);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>sum<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(Cost<span style="color:#bbb"> </span>cost<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>costs)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>sum<span style="color:#bbb"> </span>+=<span style="color:#bbb"> </span>cost.<span style="color:#658b00">totalCost</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>sum;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">// 连续天数(len)内，先使用较便宜的票</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">minCost</span>(Cost[]<span style="color:#bbb"> </span>costs,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>index,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>len)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(index<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>costs.<span style="color:#658b00">length</span><span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>len<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Cost<span style="color:#bbb"> </span>cost<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>costs[index];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>size<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>len<span style="color:#bbb"> </span>/<span style="color:#bbb"> </span>cost.<span style="color:#658b00">day</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(size<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>cost.<span style="color:#658b00">totalCost</span><span style="color:#bbb"> </span>+=<span style="color:#bbb"> </span>cost.<span style="color:#658b00">cost</span><span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>size;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(len<span style="color:#bbb"> </span>%<span style="color:#bbb"> </span>cost.<span style="color:#658b00">day</span><span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>minCost(costs,<span style="color:#bbb"> </span>index<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>len<span style="color:#bbb"> </span>%<span style="color:#bbb"> </span>cost.<span style="color:#658b00">day</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">// 处理成连续天的分段</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span>List&lt;Integer&gt;<span style="color:#bbb"> </span><span style="color:#008b45">getDays</span>(<span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>arr)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>tempArr<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[366];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>arr)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>tempArr[i]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>line<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(tempArr).<span style="color:#658b00">mapToObj</span>(String::valueOf).<span style="color:#658b00">collect</span>(Collectors.<span style="color:#658b00">joining</span>());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>dayStrArr<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>line.<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34;0&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>List&lt;Integer&gt;<span style="color:#bbb"> </span>list<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>ArrayList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(String<span style="color:#bbb"> </span>dayStr<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>dayStrArr)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(dayStr.<span style="color:#658b00">isBlank</span>())<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">continue</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>list.<span style="color:#658b00">add</span>(dayStr.<span style="color:#658b00">length</span>());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>list;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span>Cost[]<span style="color:#bbb"> </span><span style="color:#008b45">getCosts</span>(<span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>arr)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Cost[]<span style="color:#bbb"> </span>costs<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Cost[4];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>costs[0]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Cost(1,<span style="color:#bbb"> </span>arr[0]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>costs[1]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Cost(3,<span style="color:#bbb"> </span>arr[1]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>costs[2]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Cost(7,<span style="color:#bbb"> </span>arr[2]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>costs[3]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Cost(30,<span style="color:#bbb"> </span>arr[3]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Arrays.<span style="color:#658b00">sort</span>(costs,<span style="color:#bbb"> </span>Comparator.<span style="color:#658b00">comparingInt</span>(a<span style="color:#bbb"> </span>-&gt;<span style="color:#bbb"> </span>a.<span style="color:#658b00">sort</span>));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>costs;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">Cost</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>day;<span style="color:#bbb"> </span><span style="color:#228b22">// 天数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>cost;<span style="color:#bbb"> </span><span style="color:#228b22">// 花费</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>sort;<span style="color:#bbb"> </span><span style="color:#228b22">// 排序</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>totalCost;<span style="color:#bbb"> </span><span style="color:#228b22">// 在递归中用于存储总花费</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#008b45">Cost</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>day,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>cost)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">day</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>day;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">cost</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>cost;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">sort</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>cost<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>210<span style="color:#bbb"> </span>/<span style="color:#bbb"> </span>day;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="05-比较两个版本号的大小">
  05. 比较两个版本号的大小
  <a class="anchor" href="#05-%e6%af%94%e8%be%83%e4%b8%a4%e4%b8%aa%e7%89%88%e6%9c%ac%e5%8f%b7%e7%9a%84%e5%a4%a7%e5%b0%8f">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>输入两个版本号 version1 和 version2，每个版本号由多个子版本号组成。
</span></span><span style="display:flex;"><span>子版本号之间由 “.” 隔开，由大小写字母、数字组成，并且至少有一个字符。
</span></span><span style="display:flex;"><span>按从左到右的顺序比较子版本号，比较规则如下：
</span></span><span style="display:flex;"><span>1. 子版本号前面的0不参与比较，比如 001 和 1 是相等的。
</span></span><span style="display:flex;"><span>2. 小写字母 &gt; 大写字母 &gt; 数字
</span></span><span style="display:flex;"><span>3. 空字符和0相等，比如 1 和 1.0 相等
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>比较结果：
</span></span><span style="display:flex;"><span>如果 version1 &gt; version2 ，返回 1
</span></span><span style="display:flex;"><span>如果 version1 ＜ version2 ，返回 -1
</span></span><span style="display:flex;"><span>其他情况返回0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：第一行输入version1，第二行输入version2
</span></span><span style="display:flex;"><span>输出描述：输出version1和version2的比较结果
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：5.2
</span></span><span style="display:flex;"><span>     5.1a
</span></span><span style="display:flex;"><span>输出：1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：5.6.1
</span></span><span style="display:flex;"><span>     5.6.2a
</span></span><span style="display:flex;"><span>输出：-1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：5.6.8.a
</span></span><span style="display:flex;"><span>     5.6.8.0a
</span></span><span style="display:flex;"><span>输出：0
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>v1<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>v2<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(getResult(v1,<span style="color:#bbb"> </span>v2));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>(String<span style="color:#bbb"> </span>v1,<span style="color:#bbb"> </span>String<span style="color:#bbb"> </span>v2)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>arr1<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>convert(v1);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>arr2<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>convert(v2);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Math.<span style="color:#658b00">max</span>(arr1.<span style="color:#658b00">length</span>,<span style="color:#bbb"> </span>arr2.<span style="color:#658b00">length</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>String<span style="color:#bbb"> </span>tmp1<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>arr1.<span style="color:#658b00">length</span><span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>?<span style="color:#bbb"> </span>arr1[i]<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;0&#34;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>String<span style="color:#bbb"> </span>tmp2<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>arr2.<span style="color:#658b00">length</span><span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>?<span style="color:#bbb"> </span>arr2[i]<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;0&#34;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">try</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i1<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">parseInt</span>(tmp1);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i2<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">parseInt</span>(tmp2);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(i1<span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span>i2)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>i1<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>i2<span style="color:#bbb"> </span>?<span style="color:#bbb"> </span>1<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>-1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">catch</span><span style="color:#bbb"> </span>(Exception<span style="color:#bbb"> </span>e)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>res<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>tmp1.<span style="color:#658b00">compareTo</span>(tmp2);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(res<span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>res<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>?<span style="color:#bbb"> </span>1<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>-1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span>String[]<span style="color:#bbb"> </span><span style="color:#008b45">convert</span>(String<span style="color:#bbb"> </span>version)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(version.<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34;\\.&#34;</span>))<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>.<span style="color:#658b00">map</span>(Main::replaceZero).<span style="color:#658b00">toArray</span>(String[]::<span style="color:#8b008b;font-weight:bold">new</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span>String<span style="color:#bbb"> </span><span style="color:#008b45">replaceZero</span>(String<span style="color:#bbb"> </span>str)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 去除前导0</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>s<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>str.<span style="color:#658b00">replaceAll</span>(<span style="color:#cd5555">&#34;^0+&#34;</span>,<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 如果是&#34;0&#34;，去除前导0后就变为了&#34;&#34;，需要做特殊处理</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>s.<span style="color:#658b00">isEmpty</span>()<span style="color:#bbb"> </span>?<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;0&#34;</span><span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>s;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="06-猜密码">
  06. 猜密码
  <a class="anchor" href="#06-%e7%8c%9c%e5%af%86%e7%a0%81">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>小杨申请了一个保密柜，但是他忘记了密码。只记得密码都是数字，而且所有数字都是不重复的。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>请你根据他记住的数字范围和密码的最小数字数量，帮他算下有哪些可能的组合，规则如下：
</span></span><span style="display:flex;"><span>1. 输出的组合都是从可选的数字范围中选取的，且不能重复；
</span></span><span style="display:flex;"><span>2. 输出的密码数字要按照从小到大的顺序排列，密码组合需要按照字母顺序，从小到大的顺序排序。
</span></span><span style="display:flex;"><span>3. 输出的每一个组合的数字的数量要大于等于密码最小数字数量；
</span></span><span style="display:flex;"><span>4. 如果可能的组合为空，则返回“None”
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>输入的第一行是可能的密码数字列表，数字间以半角逗号分隔
</span></span><span style="display:flex;"><span>输入的第二行是密码最小数字数量
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>可能的密码组合，每种组合显示成一行，每个组合内部的数字以半角逗号分隔，从小到大的顺序排列。
</span></span><span style="display:flex;"><span>出的组合间需要按照字典序排序。比如：2,3,4放到2,4的前面
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：2,3,4
</span></span><span style="display:flex;"><span>     2
</span></span><span style="display:flex;"><span>输出：2,3
</span></span><span style="display:flex;"><span>     2,3,4
</span></span><span style="display:flex;"><span>     2,4
</span></span><span style="display:flex;"><span>     3,4
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>nums;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>level;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>nums<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34;,&#34;</span>)).<span style="color:#658b00">mapToInt</span>(Integer::parseInt).<span style="color:#658b00">toArray</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>level<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">parseInt</span>(sc.<span style="color:#658b00">nextLine</span>());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(getResult());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span>String<span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>()<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 按照数值大小升序，这样后续形成的组合的内部就是按照数值大小升序的</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Arrays.<span style="color:#658b00">sort</span>(nums);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 求不重复组合</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>ArrayList&lt;String&gt;<span style="color:#bbb"> </span>res<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>ArrayList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>dfs(0,<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>LinkedList&lt;&gt;(),<span style="color:#bbb"> </span>res);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(!res.<span style="color:#658b00">isEmpty</span>())<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 组合间按照字典序排序</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>res.<span style="color:#658b00">sort</span>(String::compareTo);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>String.<span style="color:#658b00">join</span>(<span style="color:#cd5555">&#34;\n&#34;</span>,<span style="color:#bbb"> </span>res);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#cd5555">&#34;None&#34;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">dfs</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>index,<span style="color:#bbb"> </span>LinkedList&lt;String&gt;<span style="color:#bbb"> </span>path,<span style="color:#bbb"> </span>ArrayList&lt;String&gt;<span style="color:#bbb"> </span>res)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(path.<span style="color:#658b00">size</span>()<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>level)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果path层数到达level层，则记录该组合</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>res.<span style="color:#658b00">add</span>(String.<span style="color:#658b00">join</span>(<span style="color:#cd5555">&#34;,&#34;</span>,<span style="color:#bbb"> </span>path));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>index;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>nums.<span style="color:#658b00">length</span>;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 树层去重</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(i<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>nums[i]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>nums[i<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1])<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">continue</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>path.<span style="color:#658b00">add</span>(nums[i]<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>dfs(i<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>path,<span style="color:#bbb"> </span>res);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>path.<span style="color:#658b00">removeLast</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="07-查找一个有向网络的头节点和尾节点">
  07. 查找一个有向网络的头节点和尾节点
  <a class="anchor" href="#07-%e6%9f%a5%e6%89%be%e4%b8%80%e4%b8%aa%e6%9c%89%e5%90%91%e7%bd%91%e7%bb%9c%e7%9a%84%e5%a4%b4%e8%8a%82%e7%82%b9%e5%92%8c%e5%b0%be%e8%8a%82%e7%82%b9">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>给定一个有向图，图中可能包含有环，图使用二维矩阵表示，
</span></span><span style="display:flex;"><span>每一行的第一列表示起始节点，第二列表示终止节点，如 [0, 1] 表示从 0 到 1 的路径。
</span></span><span style="display:flex;"><span>每个节点用正整数表示。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>求这个数据的首节点与尾节点，
</span></span><span style="display:flex;"><span>题目给的用例会是一个首节点，但可能存在多个尾节点。同时图中可能含有环。如果图中含有环，返回 [-1]。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>说明：入度为0是首节点，出度为0是尾节点。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一行为后续输入的键值对数量N（N ≥ 0）
</span></span><span style="display:flex;"><span>第二行为2N个数字。每两个为一个起点，一个终点
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>输出一行头节点和尾节点。如果有多个尾节点，按从小到大的顺序输出。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>备注：
</span></span><span style="display:flex;"><span>如果图有环，输出为 -1
</span></span><span style="display:flex;"><span>所有输入均合法，不会出现不配对的数据
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：4
</span></span><span style="display:flex;"><span>     0 1 0 2 1 2 2 3
</span></span><span style="display:flex;"><span>输出：0 3
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">boolean</span><span style="color:#bbb"> </span>hasO<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">false</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">Ve</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>val;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span>List&lt;Ve&gt;<span style="color:#bbb"> </span>subList;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#008b45">Ve</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>val)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">val</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>val;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">subList</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>ArrayList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">addSub</span>(Ve<span style="color:#bbb"> </span>subVe)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">subList</span>.<span style="color:#658b00">add</span>(subVe);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">parseInt</span>(sc.<span style="color:#658b00">nextLine</span>());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>ints<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34; &#34;</span>)).<span style="color:#658b00">mapToInt</span>(Integer::parseInt).<span style="color:#658b00">toArray</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Map&lt;Integer,<span style="color:#bbb"> </span>Ve&gt;<span style="color:#bbb"> </span>map<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>HashMap&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>HashSet&lt;Integer&gt;<span style="color:#bbb"> </span>preSet<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>HashSet&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>HashSet&lt;Integer&gt;<span style="color:#bbb"> </span>subSet<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>HashSet&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>pre<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>ints[i<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>2];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>sub<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>ints[i<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>2<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>preSet.<span style="color:#658b00">add</span>(pre);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>subSet.<span style="color:#658b00">add</span>(sub);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>map.<span style="color:#658b00">putIfAbsent</span>(pre,<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Ve(pre));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>map.<span style="color:#658b00">putIfAbsent</span>(sub,<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Ve(sub));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>Ve<span style="color:#bbb"> </span>preVe<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>map.<span style="color:#658b00">get</span>(pre);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>Ve<span style="color:#bbb"> </span>subVe<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>map.<span style="color:#658b00">get</span>(sub);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>preVe.<span style="color:#658b00">addSub</span>(subVe);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>hasO<span style="color:#bbb"> </span>=<span style="color:#8b008b;font-weight:bold">false</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(getResult(map,<span style="color:#bbb"> </span>preSet,<span style="color:#bbb"> </span>subSet));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span>String<span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>(Map&lt;Integer,<span style="color:#bbb"> </span>Ve&gt;<span style="color:#bbb"> </span>map,<span style="color:#bbb"> </span>HashSet&lt;Integer&gt;<span style="color:#bbb"> </span>preSet,<span style="color:#bbb"> </span>HashSet&lt;Integer&gt;<span style="color:#bbb"> </span>subSet)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 有无环</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>pre<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>preSet)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(hasO)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>dp(pre,<span style="color:#bbb"> </span>map.<span style="color:#658b00">get</span>(pre).<span style="color:#658b00">subList</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(hasO)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#cd5555">&#34;-1&#34;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>head<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>-1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>pre<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>preSet)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(subSet.<span style="color:#658b00">contains</span>(pre))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">continue</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>head<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>pre;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>List&lt;Integer&gt;<span style="color:#bbb"> </span>list<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>ArrayList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>sub<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>subSet)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(!preSet.<span style="color:#658b00">contains</span>(sub))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>list.<span style="color:#658b00">add</span>(sub);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>str<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>list.<span style="color:#658b00">stream</span>().<span style="color:#658b00">sorted</span>().<span style="color:#658b00">map</span>(String::valueOf).<span style="color:#658b00">collect</span>(Collectors.<span style="color:#658b00">joining</span>(<span style="color:#cd5555">&#34; &#34;</span>));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>head<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span><span style="color:#cd5555">&#34; &#34;</span><span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>str;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">dp</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>value,<span style="color:#bbb"> </span>List&lt;Ve&gt;<span style="color:#bbb"> </span>subList)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(hasO<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>subList.<span style="color:#658b00">isEmpty</span>())<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(Ve<span style="color:#bbb"> </span>sub<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>subList)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(value<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>sub.<span style="color:#658b00">val</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>hasO<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">true</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">return</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>dp(value,<span style="color:#bbb"> </span>sub.<span style="color:#658b00">subList</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="08-出错的或电路">
  08. 出错的或电路
  <a class="anchor" href="#08-%e5%87%ba%e9%94%99%e7%9a%84%e6%88%96%e7%94%b5%e8%b7%af">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>某生产门电路的厂商发现某一批次的或门电路不稳定，具体现象为计算两个二进制数的或操作时，
</span></span><span style="display:flex;"><span>第一个二进制数中某两个比特位会出现交换，交换的比特位置是随机的，但只交换这两个位，其他位不变。
</span></span><span style="display:flex;"><span>很明显，这个交换可能会影响最终的或结果，也可能不会有影响。
</span></span><span style="display:flex;"><span>为了评估影响和定位出错的根因，工程师需要研究在各种交换的可能下，最终的或结果发生改变的情况有多少种。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一行有一个正整数N; 其中1≤N≤1000000。
</span></span><span style="display:flex;"><span>第二行有一个长为N的二进制数，表示与电路的第一个输入数，即会发生比特交换的输入数。
</span></span><span style="display:flex;"><span>第三行有一个长为N的二进制数，表示与电路的第二个输入数。注意第二个输入数不会发生比特交换。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>输出只有一个整数，表示会影响或结果的交换方案个数。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：6
</span></span><span style="display:flex;"><span>     011011
</span></span><span style="display:flex;"><span>     110110
</span></span><span style="display:flex;"><span>输出：4
</span></span><span style="display:flex;"><span>说明：
</span></span><span style="display:flex;"><span>原本011011和110110的或结果是111111，但是第一个输入数发生如下比特交换会影响最终计算结果：
</span></span><span style="display:flex;"><span>1、交换第1个比特和第3个比特，第一个输入数变为110011，计算结果变为110111
</span></span><span style="display:flex;"><span>2、交换第1个比特和第6个比特，第一个输入数变为111010，计算结果变为111110
</span></span><span style="display:flex;"><span>3、交换第3个比特和第4个比特，第一个输入数变为010111，计算结果变为110111
</span></span><span style="display:flex;"><span>4、交换第4个比特和第6个比特，第一个输入数变为011110，计算结果变为111100
</span></span><span style="display:flex;"><span>其他交换都不会影响计算结果，故输出4.
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>bin1<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">next</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>bin2<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">next</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(getResult(n,<span style="color:#bbb"> </span>bin1,<span style="color:#bbb"> </span>bin2));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">/**
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @param n 二进制长度
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @param bin1 可能产生错误交换的二进制
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @param bin2 不会发生错误的二进制
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @return 产生错误结果的情况有几种
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n,<span style="color:#bbb"> </span>String<span style="color:#bbb"> </span>bin1,<span style="color:#bbb"> </span>String<span style="color:#bbb"> </span>bin2)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 找出bin2值为0的位，并统计对应位上bin1的值为0的有x个</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span>x<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 找出bin2值为0的位，并统计对应位上bin1的值为1的有y个</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span>y<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 统计bin1总共有多少个1</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span>a<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 统计bin1总共有多少个0</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span>b<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(bin1.<span style="color:#658b00">charAt</span>(i)<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;0&#39;</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>b++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(bin2.<span style="color:#658b00">charAt</span>(i)<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;0&#39;</span>)<span style="color:#bbb"> </span>x++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>a++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(bin2.<span style="color:#658b00">charAt</span>(i)<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;0&#39;</span>)<span style="color:#bbb"> </span>y++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>x<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>a<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>y<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>b<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>x<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>y;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="09-打印任务排序">
  09. 打印任务排序
  <a class="anchor" href="#09-%e6%89%93%e5%8d%b0%e4%bb%bb%e5%8a%a1%e6%8e%92%e5%ba%8f">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>某个打印机根据打印队列执行打印任务。
</span></span><span style="display:flex;"><span>打印任务分为九个优先级，分别用数字1-9表示，数字越大优先级越高。打印机每次从队列头部取出第一个任务A，
</span></span><span style="display:flex;"><span>然后检查队列余下任务中有没有比A优先级更高的任务，如果有比A优先级高的任务，则将任务A放到队列尾部，否则就执行任务A的打印。
</span></span><span style="display:flex;"><span>请编写一个程序，根据输入的打印队列，输出实际的打印顺序。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：输入一行，为每个任务的优先级，优先级之间用逗号隔开，优先级取值范围是1~9。
</span></span><span style="display:flex;"><span>输出描述：输出一行，为每个任务的打印顺序，打印顺序从0开始，用逗号隔开
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：1,2,2
</span></span><span style="display:flex;"><span>输出：2,0,1
</span></span><span style="display:flex;"><span>说明：队列头部任务的优先级为1，被移到队列尾部；接着顺序打印两个优先级为2的任务，故其序号分别为0和1；
</span></span><span style="display:flex;"><span>     最后打印剩下的优先级为1的任务，其序号为2
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>split<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34;,&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>nums<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(split).<span style="color:#658b00">mapToInt</span>(Integer::parseInt).<span style="color:#658b00">toArray</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(getResult(nums));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span>String<span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>(<span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>nums)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>nums.<span style="color:#658b00">length</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>LinkedList&lt;<span style="color:#00688b;font-weight:bold">int</span>[]&gt;<span style="color:#bbb"> </span>link<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>LinkedList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>link.<span style="color:#658b00">add</span>(<span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[]{nums[i],<span style="color:#bbb"> </span>i});<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Arrays.<span style="color:#658b00">sort</span>(nums);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>printIdx<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>maxNumIdx<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>arr<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[n];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(!link.<span style="color:#658b00">isEmpty</span>())<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>head<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>link.<span style="color:#658b00">removeFirst</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(head[0]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>nums[maxNumIdx])<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>arr[head[1]]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>printIdx;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>printIdx++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>maxNumIdx--;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>link.<span style="color:#658b00">add</span>(head);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(arr).<span style="color:#658b00">mapToObj</span>(String::valueOf).<span style="color:#658b00">collect</span>(Collectors.<span style="color:#658b00">joining</span>(<span style="color:#cd5555">&#34;,&#34;</span>));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="10-导师请吃火锅">
  10. 导师请吃火锅
  <a class="anchor" href="#10-%e5%af%bc%e5%b8%88%e8%af%b7%e5%90%83%e7%81%ab%e9%94%85">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>火锅里会在不同时间下很多菜，不同食材要煮不同时间，才能变得刚好合适，你希望吃到最多的刚好合适的菜，
</span></span><span style="display:flex;"><span>但是你的手速不够快用m代替手速，每次下手捞菜后至少要过m秒，才能再捞（每次只能捞一个）
</span></span><span style="display:flex;"><span>那么用最合理的策略，最多能吃到多少，刚好合适的菜
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一行两个整数n、m，其中n代表往锅里下菜的个数，m代表手速
</span></span><span style="display:flex;"><span>接下来有n行，每行有两个数x、y，代表第x秒下的菜过y秒才能变得刚好合适（1 ＜ mn ＜ 1000），（1 ＜ xy ＜ 1000）
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>输出一个整数代表用最合理的策略，最多能吃到刚好合适的菜的数量
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：3 2
</span></span><span style="display:flex;"><span>     1 2
</span></span><span style="display:flex;"><span>     2 1
</span></span><span style="display:flex;"><span>     3 2
</span></span><span style="display:flex;"><span>输出：2
</span></span><span style="display:flex;"><span>往锅里下的菜的个数3，手速2；
</span></span><span style="display:flex;"><span>第1秒的时候下入菜品1，2秒后熟了；
</span></span><span style="display:flex;"><span>第2秒的时候下入菜品2，1秒后熟了；
</span></span><span style="display:flex;"><span>第3秒的时候下入菜品3，2秒后熟了；
</span></span><span style="display:flex;"><span>第一种菜品和第二种菜品只能吃到一种，第三种菜品可以吃到；
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#228b22">// 遍历每一种菜，若当前与上一次捞菜的时间差&gt;=m，则当前可以进行捞菜</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>split<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34; &#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">parseInt</span>(split[0]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>m<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">parseInt</span>(split[1]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>arr<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[n];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>String[]<span style="color:#bbb"> </span>tmp<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34; &#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 每种菜刚好合适的时间点</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>arr[i]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">parseInt</span>(tmp[0])<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">parseInt</span>(tmp[1]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Arrays.<span style="color:#658b00">sort</span>(arr);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 第1个合适的菜</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>count<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>pre<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>1;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>arr.<span style="color:#658b00">length</span>;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(arr[i]<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>arr[pre]<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>m)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 当前与上次捞菜的时间差大于等于m，则可以进行捞菜</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>count++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 更新本次捞菜时间点</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>pre<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>i;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(count);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="11-电脑病毒感染">
  11. 电脑病毒感染
  <a class="anchor" href="#11-%e7%94%b5%e8%84%91%e7%97%85%e6%af%92%e6%84%9f%e6%9f%93">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>一个局域网内有很多台电脑，分别标注为 1 ~ N 的数字。相连接的电脑距离不一样，所以感染时间不一样，感染时间用 t 表示。
</span></span><span style="display:flex;"><span>其中网络内一台电脑被病毒感染，求其感染网络内所有的电脑最少需要多长时间。如果最后有电脑不会感染，则返回-1。
</span></span><span style="display:flex;"><span>给定一个数组 times 表示一台电脑把相邻电脑感染所用的时间。
</span></span><span style="display:flex;"><span>如：path[i] = {i, j, t} 表示：电脑 i-&gt;j，电脑 i 上的病毒感染 j，需要时间 t。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：4
</span></span><span style="display:flex;"><span>     3
</span></span><span style="display:flex;"><span>     2 1 1
</span></span><span style="display:flex;"><span>     2 3 1
</span></span><span style="display:flex;"><span>     3 4 1
</span></span><span style="display:flex;"><span>     2
</span></span><span style="display:flex;"><span>输出：2
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>说明：
</span></span><span style="display:flex;"><span>第一个参数：局域网内电脑个数N，1 ≤ N ≤ 200；
</span></span><span style="display:flex;"><span>第二个参数：总共多少条网络连接
</span></span><span style="display:flex;"><span>第三个 2 1 1 表示2-&gt;1时间为1
</span></span><span style="display:flex;"><span>第六行：表示病毒最开始所在电脑号2
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>m<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>List&lt;Edge&gt;<span style="color:#bbb"> </span>edges<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>ArrayList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>m;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>a<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb"> </span><span style="color:#228b22">// 出发点</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>b<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb"> </span><span style="color:#228b22">// 目标点</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>c<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb"> </span><span style="color:#228b22">// 出发点到达目标点的耗时</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>edges.<span style="color:#658b00">add</span>(<span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Edge(a,<span style="color:#bbb"> </span>b,<span style="color:#bbb"> </span>c));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 最短路</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">long</span>[]<span style="color:#bbb"> </span>dist<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">long</span>[n<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 起始先将所有的点标记为「距离为正无穷」</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Arrays.<span style="color:#658b00">fill</span>(dist,<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">MAX_VALUE</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 源点</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>src<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 源点到达源点的耗时为0</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>dist[src]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 迭代 n 次</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>1;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">long</span>[]<span style="color:#bbb"> </span>prev<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>dist.<span style="color:#658b00">clone</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 每次都使用上一次迭代的结果，执行松弛操作</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(Edge<span style="color:#bbb"> </span>edge<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>edges)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>a<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>edge.<span style="color:#658b00">a</span>,<span style="color:#bbb"> </span>b<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>edge.<span style="color:#658b00">b</span>,<span style="color:#bbb"> </span>c<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>edge.<span style="color:#658b00">c</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>dist[b]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Math.<span style="color:#658b00">min</span>(dist[b],<span style="color:#bbb"> </span>prev[a]<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>c);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 遍历答案</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span>ans<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>1;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>ans<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Math.<span style="color:#658b00">max</span>(ans,<span style="color:#bbb"> </span>dist[i]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(ans<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">MAX_VALUE</span><span style="color:#bbb"> </span>?<span style="color:#bbb"> </span>-1<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>ans);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">Edge</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>a,<span style="color:#bbb"> </span>b,<span style="color:#bbb"> </span>c;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Edge(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>a,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>b,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>c)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">a</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>a;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">b</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>b;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">c</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>c;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="12-叠积木">
  12. 叠积木
  <a class="anchor" href="#12-%e5%8f%a0%e7%a7%af%e6%9c%a8">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>有一堆长方体积木，它们的宽度和高度都相同，但长度不一。
</span></span><span style="display:flex;"><span>小橙想把这堆积木叠成一面墙，墙的每层可以放一个积木，也可以将两个积木拼接起来，要求每层的长度相同。
</span></span><span style="display:flex;"><span>若必须用完这些积木，叠成的墙最多为多少层？
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：输入为一行，为各个积木的长度，数字为正整数，并由空格分隔。积木的数量和长度都不超过5000。
</span></span><span style="display:flex;"><span>输出描述：输出一个数字，为墙的最大层数，如果无法按要求叠成每层长度一致的墙，则输出-1。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：3 6 6 3
</span></span><span style="display:flex;"><span>输出：3
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：1 4 2 3 6
</span></span><span style="display:flex;"><span>输出：-1
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>split<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34; &#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Integer[]<span style="color:#bbb"> </span>nums<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(split).<span style="color:#658b00">map</span>(Integer::parseInt).<span style="color:#658b00">toArray</span>(Integer[]::<span style="color:#8b008b;font-weight:bold">new</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(getResult(nums));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>(Integer[]<span style="color:#bbb"> </span>nums)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>nums.<span style="color:#658b00">length</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 如果只有一个积木，那么只能是一层高度</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(n<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 如果有两个积木</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(n<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>2)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果两个积木长度相同，则最大高度为2</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果两个积木长度不同，则最大高度为1</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>nums[0]<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>nums[1]<span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>?<span style="color:#bbb"> </span>1<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>2;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 积木按长度降序</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Arrays.<span style="color:#658b00">sort</span>(nums,<span style="color:#bbb"> </span>(a,<span style="color:#bbb"> </span>b)<span style="color:#bbb"> </span>-&gt;<span style="color:#bbb"> </span>b<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>a);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 一层的最小长度，即最长的积木的长度</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>minLen<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>nums[0];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 一层的最大长度</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>maxLen<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>nums[0]<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>nums[nums.<span style="color:#658b00">length</span><span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 尝试minLen和maxLen中每一个值作为一层长度</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>len<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>minLen;<span style="color:#bbb"> </span>len<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span>maxLen;<span style="color:#bbb"> </span>len++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 对应一层长度限制下的最大高度</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>height<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 通过l,r指针去选择组成一层的一个或两个积木</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>l<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">     </span><span style="color:#228b22">// l指针指向最大长度的积木</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>r<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1;<span style="color:#bbb"> </span><span style="color:#228b22">// r指针指向最小长度的积木</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果最大长度的积木，可以独立一层，则l++，height++</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(l<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>nums[l]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>len)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>l++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>height++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果 l,r积木无法组成一层</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 假设nums[l] + nums[r] &gt; len，则必然nums[l] + nums[r-1] &gt; len，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 因为nums已降序，nums[r-1] &gt;= nums[r]，即必然l积木无法和其他积木组成一层</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 假设nums[l] + nums[r] &lt; len，则必然nums[l+1] + nums[r] &lt; len，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 因为nums已降序，nums[l+1] &lt;= nums[l]，即必然r积木无法和其他积木组成一层</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(l<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>r)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(nums[l]<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>nums[r]<span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span>len)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>l++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>r--;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>height++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果正常结束，则必然l &gt; r，否则就是异常结束</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(l<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span>r)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">continue</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>height;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>-1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="13-二叉树的广度优先遍历">
  13. 二叉树的广度优先遍历
  <a class="anchor" href="#13-%e4%ba%8c%e5%8f%89%e6%a0%91%e7%9a%84%e5%b9%bf%e5%ba%a6%e4%bc%98%e5%85%88%e9%81%8d%e5%8e%86">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>有一棵二叉树，每个节点由一个大写字母标识(最多26个节点）。
</span></span><span style="display:flex;"><span>现有两组字母，分别表示后序遍历（左孩子-&gt;右孩子-&gt;父节点）和中序遍历（左孩子-&gt;父节点-&gt;右孩子）的结果，
</span></span><span style="display:flex;"><span>请你输出层序遍历的结果。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>每个输入文件一行，第一个字符串表示后序遍历结果，第二个字符串表示中序遍历结果。（每串只包含大写字母）
</span></span><span style="display:flex;"><span>中间用单空格分隔。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>输出仅一行，表示前序遍历的结果，结尾换行。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：CBEFDA CBAEDF
</span></span><span style="display:flex;"><span>输出：ABDCEF
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">TreeNode</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">char</span><span style="color:#bbb"> </span>val;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>TreeNode<span style="color:#bbb"> </span>left;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>TreeNode<span style="color:#bbb"> </span>right;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>TreeNode(<span style="color:#00688b;font-weight:bold">char</span><span style="color:#bbb"> </span>val)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">val</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>val;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">preOrder</span>(StringBuilder<span style="color:#bbb"> </span>sb,<span style="color:#bbb"> </span>TreeNode<span style="color:#bbb"> </span>node)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(node<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">null</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>sb.<span style="color:#658b00">append</span>(node.<span style="color:#658b00">val</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>preOrder(sb,<span style="color:#bbb"> </span>node.<span style="color:#658b00">left</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>preOrder(sb,<span style="color:#bbb"> </span>node.<span style="color:#658b00">right</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">private</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span>TreeNode<span style="color:#bbb"> </span><span style="color:#008b45">build</span>(String<span style="color:#bbb"> </span>postOrder,<span style="color:#bbb"> </span>String<span style="color:#bbb"> </span>midOrder)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(postOrder.<span style="color:#658b00">isEmpty</span>())<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">null</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">char</span><span style="color:#bbb"> </span>midVal<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>postOrder.<span style="color:#658b00">charAt</span>(postOrder.<span style="color:#658b00">length</span>()<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>TreeNode<span style="color:#bbb"> </span>root<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>TreeNode(midVal);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(postOrder.<span style="color:#658b00">length</span>()<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>root;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>midIndex<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>midOrder.<span style="color:#658b00">indexOf</span>(midVal);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>postLeft<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>postOrder.<span style="color:#658b00">substring</span>(0,<span style="color:#bbb"> </span>midIndex);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>postRight<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>postOrder.<span style="color:#658b00">substring</span>(midIndex,<span style="color:#bbb"> </span>postOrder.<span style="color:#658b00">length</span>()<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>midLeft<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>midOrder.<span style="color:#658b00">substring</span>(0,<span style="color:#bbb"> </span>midIndex);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>midRight<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>midOrder.<span style="color:#658b00">substring</span>(midIndex<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>root.<span style="color:#658b00">left</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>build(postLeft,<span style="color:#bbb"> </span>midLeft);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>root.<span style="color:#658b00">right</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>build(postRight,<span style="color:#bbb"> </span>midRight);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>root;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>split<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34; &#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>postOrder<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>split[0];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>midOrder<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>split[1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>TreeNode<span style="color:#bbb"> </span>root<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>build(postOrder,<span style="color:#bbb"> </span>midOrder);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>StringBuilder<span style="color:#bbb"> </span>sb<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>StringBuilder();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>preOrder(sb,<span style="color:#bbb"> </span>root);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(sb);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="14-二叉树计算">
  14. 二叉树计算
  <a class="anchor" href="#14-%e4%ba%8c%e5%8f%89%e6%a0%91%e8%ae%a1%e7%ae%97">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>如图，给出一个二叉树，
</span></span><span style="display:flex;"><span>由该二叉树生成一个新的二叉树，它满足其树中的每个节点将包含原始树中的左子树和右子树的和。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：2行整数，第1行表示二叉树的中序遍历，第2行表示二叉树的前序遍历，以空格分割
</span></span><span style="display:flex;"><span>输出描述：1行整数，表示求和树的中序遍历，以空格分割
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：-3 12 6 8 9 -10 -7
</span></span><span style="display:flex;"><span>     8 12 -3 6 -10 9 -7
</span></span><span style="display:flex;"><span>输出：0 3 0 7 0 2 0
</span></span></code></pre></div><img src="/img/2024Q4/img_2024-10-07_182944.png" width="500"/>
</li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">TreeNode</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>num;<span style="color:#bbb"> </span><span style="color:#228b22">// 当前节点的值</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>sum;<span style="color:#bbb"> </span><span style="color:#228b22">// 当前节点的左子树+右子树的和</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>TreeNode<span style="color:#bbb"> </span>left;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>TreeNode<span style="color:#bbb"> </span>right;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#008b45">TreeNode</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>num)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">num</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>num;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">sum</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#008b45">sumChild</span>()<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(<span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">left</span><span style="color:#bbb"> </span>==<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">null</span><span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">right</span><span style="color:#bbb"> </span>==<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">null</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">sum</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>sumL<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(<span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">left</span><span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">null</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>sumL<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>left.<span style="color:#658b00">sumChild</span>()<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>left.<span style="color:#658b00">num</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>sumR<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(<span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">right</span><span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">null</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>sumR<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>right.<span style="color:#658b00">sumChild</span>()<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>right.<span style="color:#658b00">num</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">sum</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sumL<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>sumR;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>sum;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">midOrder</span>(StringBuilder<span style="color:#bbb"> </span>sb,<span style="color:#bbb"> </span>TreeNode<span style="color:#bbb"> </span>node)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(node<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">null</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>midOrder(sb,<span style="color:#bbb"> </span>node.<span style="color:#658b00">left</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>sb.<span style="color:#658b00">append</span>(node.<span style="color:#658b00">sum</span>).<span style="color:#658b00">append</span>(<span style="color:#cd5555">&#34; &#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>midOrder(sb,<span style="color:#bbb"> </span>node.<span style="color:#658b00">right</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">private</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span>TreeNode<span style="color:#bbb"> </span><span style="color:#008b45">build</span>(String<span style="color:#bbb"> </span>preOrder,<span style="color:#bbb"> </span>String<span style="color:#bbb"> </span>midOrder)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(preOrder.<span style="color:#658b00">isEmpty</span>())<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">null</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>preArr<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>preOrder.<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34; &#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>midArr<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>midOrder.<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34; &#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>midVal<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>preArr[0];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>TreeNode<span style="color:#bbb"> </span>root<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>TreeNode(Integer.<span style="color:#658b00">parseInt</span>(midVal));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(preOrder.<span style="color:#658b00">length</span>()<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>root;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>List&lt;Integer&gt;<span style="color:#bbb"> </span>idxList<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>ArrayList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>midArr.<span style="color:#658b00">length</span>;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(midArr[i].<span style="color:#658b00">equals</span>(midVal))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>idxList.<span style="color:#658b00">add</span>(i);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>midIndex<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>-1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>idx<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>idxList)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(isTrueRoot(preArr,<span style="color:#bbb"> </span>midArr,<span style="color:#bbb"> </span>idx))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>midIndex<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>idx;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>preLeft<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">copyOfRange</span>(preArr,<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>midIndex<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>minLeft<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">copyOfRange</span>(midArr,<span style="color:#bbb"> </span>0,<span style="color:#bbb"> </span>midIndex);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>preRight<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">copyOfRange</span>(preArr,<span style="color:#bbb"> </span>midIndex<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>preArr.<span style="color:#658b00">length</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>minRight<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">copyOfRange</span>(midArr,<span style="color:#bbb"> </span>midIndex<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>midArr.<span style="color:#658b00">length</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>root.<span style="color:#658b00">left</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>build(String.<span style="color:#658b00">join</span>(<span style="color:#cd5555">&#34; &#34;</span>,<span style="color:#bbb"> </span>preLeft),<span style="color:#bbb"> </span>String.<span style="color:#658b00">join</span>(<span style="color:#cd5555">&#34; &#34;</span>,<span style="color:#bbb"> </span>minLeft));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>root.<span style="color:#658b00">right</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>build(String.<span style="color:#658b00">join</span>(<span style="color:#cd5555">&#34; &#34;</span>,<span style="color:#bbb"> </span>preRight),<span style="color:#bbb"> </span>String.<span style="color:#658b00">join</span>(<span style="color:#cd5555">&#34; &#34;</span>,<span style="color:#bbb"> </span>minRight));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>root;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">boolean</span><span style="color:#bbb"> </span><span style="color:#008b45">isTrueRoot</span>(String[]<span style="color:#bbb"> </span>preArr,<span style="color:#bbb"> </span>String[]<span style="color:#bbb"> </span>midArr,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>idx)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>preLeft<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">copyOfRange</span>(preArr,<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>idx<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>minLeft<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">copyOfRange</span>(midArr,<span style="color:#bbb"> </span>0,<span style="color:#bbb"> </span>idx);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>preLeftStr<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(preLeft).<span style="color:#658b00">sorted</span>().<span style="color:#658b00">collect</span>(Collectors.<span style="color:#658b00">joining</span>(<span style="color:#cd5555">&#34; &#34;</span>));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>minLeftStr<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(minLeft).<span style="color:#658b00">sorted</span>().<span style="color:#658b00">collect</span>(Collectors.<span style="color:#658b00">joining</span>(<span style="color:#cd5555">&#34; &#34;</span>));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(!preLeftStr.<span style="color:#658b00">equals</span>(minLeftStr))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">false</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>preRight<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">copyOfRange</span>(preArr,<span style="color:#bbb"> </span>idx<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>preArr.<span style="color:#658b00">length</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>minRight<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">copyOfRange</span>(midArr,<span style="color:#bbb"> </span>idx<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>midArr.<span style="color:#658b00">length</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>preRightStr<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(preRight).<span style="color:#658b00">sorted</span>().<span style="color:#658b00">collect</span>(Collectors.<span style="color:#658b00">joining</span>(<span style="color:#cd5555">&#34; &#34;</span>));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>minRightStr<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(minRight).<span style="color:#658b00">sorted</span>().<span style="color:#658b00">collect</span>(Collectors.<span style="color:#658b00">joining</span>(<span style="color:#cd5555">&#34; &#34;</span>));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(!preRightStr.<span style="color:#658b00">equals</span>(minRightStr))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">false</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">true</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>minOrder<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>preOrder<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>TreeNode<span style="color:#bbb"> </span>root<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>build(preOrder,<span style="color:#bbb"> </span>minOrder);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>root.<span style="color:#658b00">sumChild</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>StringBuilder<span style="color:#bbb"> </span>sb<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>StringBuilder();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>midOrder(sb,<span style="color:#bbb"> </span>root);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(sb);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="15-发广播">
  15. 发广播
  <a class="anchor" href="#15-%e5%8f%91%e5%b9%bf%e6%92%ad">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>某地有N个广播站，站点之间有些有连接，有些没有。有连接的站点在接受到广播后会互相发送。
</span></span><span style="display:flex;"><span>给定一个N*N的二维数组matrix,数组的元素都是字符’0’或者’1’。
</span></span><span style="display:flex;"><span>matrix[i][j] = ‘1’, 代表i和j站点之间有连接，matrix[i][j] = ‘0’, 代表没连接，
</span></span><span style="display:flex;"><span>现在要发一条广播，问初始最少给几个广播站发送，才能保证所有的广播站都收到消息。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：从stdin输入，共一行数据，表示二维数组的各行，用逗号分隔行。保证每行字符串所含的字符数一样的。
</span></span><span style="display:flex;"><span>输出描述：返回初始最少需要发送广播站个数
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：110,110,001
</span></span><span style="display:flex;"><span>输出：2
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>matrix<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34;,&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(getResult(matrix));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>(String[]<span style="color:#bbb"> </span>matrix)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>matrix.<span style="color:#658b00">length</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>UnionFindSet<span style="color:#bbb"> </span>ufs<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>UnionFindSet(n);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(matrix[i].<span style="color:#658b00">charAt</span>(j)<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;1&#39;</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>ufs.<span style="color:#658b00">union</span>(i,<span style="color:#bbb"> </span>j);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>ufs.<span style="color:#658b00">count</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">// 并查集实现</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">UnionFindSet</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>fa;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>count;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#008b45">UnionFindSet</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">fa</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[n];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>fa[i]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>i;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">count</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>n;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#008b45">find</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(x<span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">fa</span>[x])<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">fa</span>[x]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">find</span>(<span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">fa</span>[x]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">fa</span>[x];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>x;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">union</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>y)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x_fa<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">find</span>(x);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>y_fa<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">find</span>(y);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(x_fa<span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span>y_fa)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">fa</span>[y_fa]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>x_fa;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">count</span>--;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="16-伐木工">
  16. 伐木工
  <a class="anchor" href="#16-%e4%bc%90%e6%9c%a8%e5%b7%a5">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>一根X米长的树木，伐木工切割成不同长度的木材后进行交易，交易价格为每根木头长度的乘积。规定切割后的每根木头长度都为正整数；也可以不切割，直接拿整根树木进行交易。
</span></span><span style="display:flex;"><span>请问伐木工如何尽量少的切割，才能使收益最大化？
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：木材的长度（X ≤ 50）
</span></span><span style="display:flex;"><span>输出描述：输出最优收益时的各个树木长度，以空格分隔，按升序排列
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：10
</span></span><span style="display:flex;"><span>输出：3 3 4
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">Wood</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 记录木材的最大收益</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>profit;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 记录木材最大收益时对应的切割状态</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>ArrayList&lt;Integer&gt;<span style="color:#bbb"> </span>slices<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>ArrayList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Wood[]<span style="color:#bbb"> </span>dp<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Wood[x<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span>x;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 初始时，将木材不切割的收益作为最大收益</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>dp[i]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Wood();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>dp[i].<span style="color:#658b00">profit</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>i;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>dp[i].<span style="color:#658b00">slices</span>.<span style="color:#658b00">add</span>(i);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 从长度为2的木材开始尝试切割</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>2;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span>x;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>1;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>i;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>profit<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>dp[j].<span style="color:#658b00">profit</span><span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>dp[i<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>j].<span style="color:#658b00">profit</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 如果该切割方案的收益更大，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 或者收益和之前切割方案的收益相同，但是切割数更少，则使用当前切割方案</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(profit<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>dp[i].<span style="color:#658b00">profit</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>||<span style="color:#bbb"> </span>(profit<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>dp[i].<span style="color:#658b00">profit</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>&amp;&amp;<span style="color:#bbb"> </span>dp[i].<span style="color:#658b00">slices</span>.<span style="color:#658b00">size</span>()<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>dp[j].<span style="color:#658b00">slices</span>.<span style="color:#658b00">size</span>()<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>dp[i<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>j].<span style="color:#658b00">slices</span>.<span style="color:#658b00">size</span>()))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>dp[i].<span style="color:#658b00">profit</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>profit;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>dp[i].<span style="color:#658b00">slices</span>.<span style="color:#658b00">clear</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>dp[i].<span style="color:#658b00">slices</span>.<span style="color:#658b00">addAll</span>(dp[j].<span style="color:#658b00">slices</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>dp[i].<span style="color:#658b00">slices</span>.<span style="color:#658b00">addAll</span>(dp[i<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>j].<span style="color:#658b00">slices</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// dp[x].slices记录的是：长度x的木材对应的最大收益的切割方案</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 按题目输出描述要求进行升序</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>dp[x].<span style="color:#658b00">slices</span>.<span style="color:#658b00">sort</span>((a,<span style="color:#bbb"> </span>b)<span style="color:#bbb"> </span>-&gt;<span style="color:#bbb"> </span>a<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>b);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 打印切割方案</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>StringJoiner<span style="color:#bbb"> </span>sj<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>StringJoiner(<span style="color:#cd5555">&#34; &#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>slice<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>dp[x].<span style="color:#658b00">slices</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>sj.<span style="color:#658b00">add</span>(slice<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(sj);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="17-反射计数">
  17. 反射计数
  <a class="anchor" href="#17-%e5%8f%8d%e5%b0%84%e8%ae%a1%e6%95%b0">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>给定一个包含 0 和 1 的二维矩阵。
</span></span><span style="display:flex;"><span>给定一个初始位置和速度，一个物体从给定的初始位置出发，在给定的速度下进行移动，遇到矩阵的边缘则发生镜面发射。
</span></span><span style="display:flex;"><span>无论物体经过 0 还是 1，都不影响其速度。
</span></span><span style="display:flex;"><span>请计算并给出经过 t 时间单位后，物体经过 1 点的次数。
</span></span><span style="display:flex;"><span>矩阵以左上角位置为 [0, 0]（列(x)，行(y)），例如下面A点坐标为 [2, 1]（第二列，第一行）
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>注意：
</span></span><span style="display:flex;"><span>如果初始位置的点是 1，也计算在内
</span></span><span style="display:flex;"><span>时间的最小单位为 1，不考虑小于 1 个时间单位内经过的点
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一行为初始信息&lt;<span style="color:#8b008b;font-weight:bold">w</span>&gt;&lt;<span style="color:#8b008b;font-weight:bold">h</span>&gt;&lt;<span style="color:#8b008b;font-weight:bold">x</span>&gt;&lt;<span style="color:#8b008b;font-weight:bold">y</span>&gt;&lt;<span style="color:#8b008b;font-weight:bold">sx</span>&gt;&lt;<span style="color:#8b008b;font-weight:bold">sy</span>&gt;&lt;<span style="color:#8b008b;font-weight:bold">t</span>&gt;
</span></span><span style="display:flex;"><span>第二行开始一共 h 行，为二维矩阵信息
</span></span><span style="display:flex;"><span>其中：
</span></span><span style="display:flex;"><span>w，h 为矩阵的宽和高，0 ＜ w ＜ 100，0 ＜ h ＜ 100
</span></span><span style="display:flex;"><span>x，y 为起始位置，0 ≤ x ＜ w，0 ≤ y ＜ h
</span></span><span style="display:flex;"><span>sx，sy 为初始速度，-1 ≤ sx ≤ 1，-1 ≤ sy ≤ 1
</span></span><span style="display:flex;"><span>t 为经过的时间，0 ≤ t ＜100
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>经过 1 的个数，注意初始位置也要计算在内
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：12 7 2 1 1 -1 13
</span></span><span style="display:flex;"><span>     001000010000
</span></span><span style="display:flex;"><span>     001000010000
</span></span><span style="display:flex;"><span>     001000010000
</span></span><span style="display:flex;"><span>     001000010000
</span></span><span style="display:flex;"><span>     001000010000
</span></span><span style="display:flex;"><span>     001000010000
</span></span><span style="display:flex;"><span>     001000010000
</span></span><span style="display:flex;"><span>输出：3
</span></span></code></pre></div><img src="/img/2024Q4/img_2024-10-07_211804.png" width="500"/>
</li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>w<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>h<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>y<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>sx<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>sy<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>t<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">char</span>[][]<span style="color:#bbb"> </span>matrix<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">char</span>[h][w];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>h;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>matrix[i]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">next</span>().<span style="color:#658b00">toCharArray</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>ans<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(t<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 注意本题横纵坐标是反的，因此y其实是行号，x是列号</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(matrix[y][x]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;1&#39;</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>ans++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>y<span style="color:#bbb"> </span>+=<span style="color:#bbb"> </span>sy;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>x<span style="color:#bbb"> </span>+=<span style="color:#bbb"> </span>sx;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(x<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>x<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>sx<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>-sx;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(x<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>w)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">//  注意本题横纵坐标是反的，因此x是列号，w是矩阵列数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>x<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>w<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>2;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>sx<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>-sx;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(y<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>y<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>sy<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>-sy;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(y<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>h)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">//  注意本题横纵坐标是反的，因此y是行号，h是矩阵行数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>y<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>h<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>2;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>sy<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>-sy;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>t--;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(ans);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="18-分月饼">
  18. 分月饼
  <a class="anchor" href="#18-%e5%88%86%e6%9c%88%e9%a5%bc">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>中秋节，公司要给员工分月饼。公司有m个员工，买了n个月饼，且m≤n。每个员工至少分到 1 个月饼，但可以分多个。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>要求：
</span></span><span style="display:flex;"><span>单人分到最多的月饼个数为Max1，单人分到第二多的月饼个数为Max2，需要满足Max1−Max2≤3。
</span></span><span style="display:flex;"><span>单人分到倒数第二多的月饼个数为Max(n−1)，单人分到最少的月饼个数为Max(n)，需要满足Max(n−1)−Max(n)≤3。
</span></span><span style="display:flex;"><span>问有多少种分月饼的方法？
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：第一行输入两个整数m和n，表示m个员工和n个月饼，m≤n。
</span></span><span style="display:flex;"><span>输出描述：输出有多少种分月饼的方法。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：3 12
</span></span><span style="display:flex;"><span>输出：6
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>m;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>maxDiff<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>3;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>ans<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>m<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 如果只有一个员工分月饼，那么就只有一种方案</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(m<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(1);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 如果有多个员工分月饼，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 为了保证分月饼的方案不重复，我们这里保证 员工i的月饼数量 &lt;= 员工i+1的月饼数量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 因此对于第0个员工，至少分得1个月饼，至多分得n/m个月饼（均分数量）</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>recursive(0,<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>/<span style="color:#bbb"> </span>m,<span style="color:#bbb"> </span>n);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(ans);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">/**
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @param level  第几个员工
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @param min    当前员工至少分得几个月饼
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @param max    当前员工至多分得几个月饼
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @param remain 分月饼给当前员工前，月饼的剩余数量
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">recursive</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>level,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>min,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>max,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>remain)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(level<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>m<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 分到最后一个员工时，我们应该将剩余月饼都给他</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 因此最后一个员工的月饼数量就是remain，</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 而倒数第二个员工的月饼数量是min（本轮递归的min参数，即上一轮员工分得的月饼数量）</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果二者差距不超过maxDiff，则分月饼方案可行</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(remain<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>min<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span>maxDiff)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>ans++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// i 是当前员工可以分得的月饼数量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>min;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span>max;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 下一个员工至少分得 i 个月饼（当前员工分得的月饼数量），至多分得 i + maxDiff</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 同时下一个员工分得的月饼数量不能超过：均分月饼数量（即剩余月饼总数 / 剩余员工总数），</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 否则破坏去重策略（为了保证分月饼的方案不重复，我们这里保证后面的员工分得月饼数不小于前面员工）</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>remain<span style="color:#bbb"> </span>-=<span style="color:#bbb"> </span>i;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>recursive(level<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>i,<span style="color:#bbb"> </span>Math.<span style="color:#658b00">min</span>(i<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>maxDiff,<span style="color:#bbb"> </span>remain<span style="color:#bbb"> </span>/<span style="color:#bbb"> </span>(m<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>level<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1)),<span style="color:#bbb"> </span>remain);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>remain<span style="color:#bbb"> </span>+=<span style="color:#bbb"> </span>i;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="19-符号运算">
  19. 符号运算
  <a class="anchor" href="#19-%e7%ac%a6%e5%8f%b7%e8%bf%90%e7%ae%97">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>给定一个表达式，求其分数计算结果。用例输入一定合法，不会出现括号匹配的情况
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>表达式的限制如下：
</span></span><span style="display:flex;"><span>1. 所有的输入数字皆为正整数（包括0）
</span></span><span style="display:flex;"><span>2. 仅支持四则运算（+-*/）和括号
</span></span><span style="display:flex;"><span>3. 结果为整数或分数，分数必须化为最简格式（比如6，3/4，7/8，90/7）
</span></span><span style="display:flex;"><span>4. 除数可能为0，如果遇到这种情况，直接输出&#34;ERROR&#34;
</span></span><span style="display:flex;"><span>5. 输入和最终计算结果中的数字都不会超出整型范围
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>字符串格式的表达式，仅支持+-*/，数字可能超过两位，可能带有空格，没有负数
</span></span><span style="display:flex;"><span>长度小于200个字符
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>表达式结果，以最简格式表达
</span></span><span style="display:flex;"><span>1. 如果结果为整数，那么直接输出整数
</span></span><span style="display:flex;"><span>2. 如果结果为负数，那么分子分母不可再约分，可以为假分数，不可表达为带分数
</span></span><span style="display:flex;"><span>3. 结果可能是负数，符号放在前面
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：1 + 5 * 7 / 8
</span></span><span style="display:flex;"><span>输出：43/8
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：1 / (0 - 5)
</span></span><span style="display:flex;"><span>输出：-1/5
</span></span><span style="display:flex;"><span>说明：符号需要提到最前面
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：1 * (3*4/(8-(7+0)))
</span></span><span style="display:flex;"><span>输出：12
</span></span><span style="display:flex;"><span>说明：注意括号可以多重嵌套
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#228b22">// 分数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">Fractions</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>fa;<span style="color:#bbb"> </span><span style="color:#228b22">// 分母</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>ch;<span style="color:#bbb"> </span><span style="color:#228b22">// 分子</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#008b45">Fractions</span>()<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#008b45">Fractions</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>fa,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>ch)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">fa</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>fa;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">ch</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>ch;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(getResult(sc.<span style="color:#658b00">nextLine</span>()));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">// 操作数栈</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span>LinkedList&lt;Fractions&gt;<span style="color:#bbb"> </span>numStack<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>LinkedList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">// 操作符栈</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span>LinkedList&lt;Character&gt;<span style="color:#bbb"> </span>signStack<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>LinkedList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span>String<span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>(String<span style="color:#bbb"> </span>s)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// +,-,*,/ 运算符优先级</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>HashMap&lt;Character,<span style="color:#bbb"> </span>Integer&gt;<span style="color:#bbb"> </span>priority<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>HashMap&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>priority.<span style="color:#658b00">put</span>(<span style="color:#cd5555">&#39;+&#39;</span>,<span style="color:#bbb"> </span>1);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>priority.<span style="color:#658b00">put</span>(<span style="color:#cd5555">&#39;-&#39;</span>,<span style="color:#bbb"> </span>1);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>priority.<span style="color:#658b00">put</span>(<span style="color:#cd5555">&#39;*&#39;</span>,<span style="color:#bbb"> </span>2);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>priority.<span style="color:#658b00">put</span>(<span style="color:#cd5555">&#39;/&#39;</span>,<span style="color:#bbb"> </span>2);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 操作数的字符缓存容器</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>StringBuilder<span style="color:#bbb"> </span>numStr<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>StringBuilder();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>s.<span style="color:#658b00">length</span>())<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">char</span><span style="color:#bbb"> </span>c<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>s.<span style="color:#658b00">charAt</span>(i);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 遇到数字字符</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(c<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;0&#39;</span><span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>c<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;9&#39;</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 则将该数字所在操作数的剩余数字字符一次性探索完</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(c<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;0&#39;</span><span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>c<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;9&#39;</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>numStr.<span style="color:#658b00">append</span>(c);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(i<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>s.<span style="color:#658b00">length</span>())<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>i++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>c<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>s.<span style="color:#658b00">charAt</span>(i);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 探索完后，将操作数缓存容器中记录的字符，变为分数后，压入操作数栈</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>numStack.<span style="color:#658b00">addLast</span>(<span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Fractions(1,<span style="color:#bbb"> </span>Integer.<span style="color:#658b00">parseInt</span>(numStr.<span style="color:#658b00">toString</span>())));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 注意清空操作数缓存容器</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>numStr<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>StringBuilder();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 遇到运算符</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(c<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;+&#39;</span><span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>c<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;-&#39;</span><span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>c<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;*&#39;</span><span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>c<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;/&#39;</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 只要栈顶运算符的优先级 &gt;= 当前运算符，就需要不停出栈运算</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(!signStack.<span style="color:#658b00">isEmpty</span>()<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>signStack.<span style="color:#658b00">getLast</span>()<span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;(&#39;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>&amp;&amp;<span style="color:#bbb"> </span>priority.<span style="color:#658b00">get</span>(c)<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span>priority.<span style="color:#658b00">get</span>(signStack.<span style="color:#658b00">getLast</span>()))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>calc();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>signStack.<span style="color:#658b00">addLast</span>(c);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(c<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;)&#39;</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 遇到&#39;)&#39;, 需要将操作符栈中靠近栈顶的&#39;(&#39;后面的运算都出栈做了</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(signStack.<span style="color:#658b00">getLast</span>()<span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;(&#39;</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>calc();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 最后将&#39;)&#39;对应的&#39;(&#39;出栈</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>signStack.<span style="color:#658b00">removeLast</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(c<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;(&#39;</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 遇到&#39;(&#39;，则直接压到操作符栈</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>signStack.<span style="color:#658b00">add</span>(c);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>i++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// numStack栈中还有2个以上的数，则还需要进行运算</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(numStack.<span style="color:#658b00">size</span>()<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>calc();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// numStack栈中只剩一个数时，该数就是表达式结果</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Fractions<span style="color:#bbb"> </span>result<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>numStack.<span style="color:#658b00">removeLast</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 如果结果的分母为0（除数为0），则不合法</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(result.<span style="color:#658b00">fa</span><span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#cd5555">&#34;ERROR&#34;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 求分子、分母的最大公约数，并进行约份，求得最简格式的分子，分母</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>k<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>getMaxCommonDivisor(result.<span style="color:#658b00">fa</span>,<span style="color:#bbb"> </span>result.<span style="color:#658b00">ch</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>result.<span style="color:#658b00">fa</span><span style="color:#bbb"> </span>/=<span style="color:#bbb"> </span>k;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>result.<span style="color:#658b00">ch</span><span style="color:#bbb"> </span>/=<span style="color:#bbb"> </span>k;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 求计算结果的符号，这里用乘法是为了避免 分母小，分子大，除法结果为0的情况，这样会丢失符号信息</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>sign<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>result.<span style="color:#658b00">fa</span><span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>result.<span style="color:#658b00">ch</span><span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>?<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;-&#34;</span><span style="color:#bbb"> </span>:<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;&#34;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>fa<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Math.<span style="color:#658b00">abs</span>(result.<span style="color:#658b00">fa</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>ch<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Math.<span style="color:#658b00">abs</span>(result.<span style="color:#658b00">ch</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(fa<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果分母为1，则直接输出分子</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>sign<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>ch;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 如果分母不为1，则输出 分子 / 分母</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>sign<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>ch<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;/&#34;</span><span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>fa;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">// 取出numStack栈顶两个操作数进行运算</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">calc</span>()<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 操作数顺序会对运算产生影响</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Fractions<span style="color:#bbb"> </span>b<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>numStack.<span style="color:#658b00">removeLast</span>();<span style="color:#bbb"> </span><span style="color:#228b22">// 栈顶元素是运算符右边的操作数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Fractions<span style="color:#bbb"> </span>a<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>numStack.<span style="color:#658b00">removeLast</span>();<span style="color:#bbb"> </span><span style="color:#228b22">// 栈顶倒数第二个元素是运算符左边的操作数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 运算符</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">char</span><span style="color:#bbb"> </span>op<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>signStack.<span style="color:#658b00">removeLast</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 记录运算结果</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Fractions<span style="color:#bbb"> </span>result<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Fractions();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">switch</span><span style="color:#bbb"> </span>(op)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">case</span><span style="color:#bbb"> </span><span style="color:#cd5555">&#39;+&#39;</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>result.<span style="color:#658b00">fa</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>a.<span style="color:#658b00">fa</span><span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>b.<span style="color:#658b00">fa</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>result.<span style="color:#658b00">ch</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>a.<span style="color:#658b00">ch</span><span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>b.<span style="color:#658b00">fa</span><span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>b.<span style="color:#658b00">ch</span><span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>a.<span style="color:#658b00">fa</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">case</span><span style="color:#bbb"> </span><span style="color:#cd5555">&#39;-&#39;</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>result.<span style="color:#658b00">fa</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>a.<span style="color:#658b00">fa</span><span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>b.<span style="color:#658b00">fa</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>result.<span style="color:#658b00">ch</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>a.<span style="color:#658b00">ch</span><span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>b.<span style="color:#658b00">fa</span><span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>b.<span style="color:#658b00">ch</span><span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>a.<span style="color:#658b00">fa</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">case</span><span style="color:#bbb"> </span><span style="color:#cd5555">&#39;*&#39;</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>result.<span style="color:#658b00">fa</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>a.<span style="color:#658b00">fa</span><span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>b.<span style="color:#658b00">fa</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>result.<span style="color:#658b00">ch</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>a.<span style="color:#658b00">ch</span><span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>b.<span style="color:#658b00">ch</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">case</span><span style="color:#bbb"> </span><span style="color:#cd5555">&#39;/&#39;</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>result.<span style="color:#658b00">fa</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>a.<span style="color:#658b00">fa</span><span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>b.<span style="color:#658b00">ch</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>result.<span style="color:#658b00">ch</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>a.<span style="color:#658b00">ch</span><span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>b.<span style="color:#658b00">fa</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">break</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>numStack.<span style="color:#658b00">add</span>(result);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">// 辗转相除法，求两个数的最大公约数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#008b45">getMaxCommonDivisor</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>y)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(y<span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>tmp<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>y;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>y<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>x<span style="color:#bbb"> </span>%<span style="color:#bbb"> </span>y;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>x<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>tmp;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>x;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="20-高效的任务规划">
  20. 高效的任务规划
  <a class="anchor" href="#20-%e9%ab%98%e6%95%88%e7%9a%84%e4%bb%bb%e5%8a%a1%e8%a7%84%e5%88%92">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>你有 n 台机器编号为 1~n，每台都需要完成完成一项工作，机器经过配置后都能完成独立完成一项工作。
</span></span><span style="display:flex;"><span>假设第 i 台机器你需要花 B 分钟进行设置，然后开始运行，J 分钟后完成任务。
</span></span><span style="display:flex;"><span>现在，你需要选择布置工作的顺序，使得用最短的时间完成所有工作。
</span></span><span style="display:flex;"><span>注意，不能同时对两台进行配置，但配置完成的机器们可以同时执行他们各自的工作。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一行输入代表总共有 M 组任务数据（1＜M≤10）。
</span></span><span style="display:flex;"><span>每组数第一行为一个整数指定机器的数量 N（0＜N≤1000）。
</span></span><span style="display:flex;"><span>随后的 N 行每行两个整数，第一个表示 B（0≤B≤10000），第二个表示 J（0≤J≤10000）。
</span></span><span style="display:flex;"><span>每组数据连续输入，不会用空行分隔。各组任务单独计时。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>对于每组任务，输出最短完成时间，且每组的结果独占一行。例如，两组任务就应该有两行输出。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：2
</span></span><span style="display:flex;"><span>     2
</span></span><span style="display:flex;"><span>     1 1
</span></span><span style="display:flex;"><span>     2 2
</span></span><span style="display:flex;"><span>     3
</span></span><span style="display:flex;"><span>     1 1
</span></span><span style="display:flex;"><span>     2 2
</span></span><span style="display:flex;"><span>     3 3
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出：4
</span></span><span style="display:flex;"><span>     7
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>m<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>m;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>tasks<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[n][2];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>tasks[j][0]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>tasks[j][1]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>getResult(tasks);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>(<span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>tasks)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 将每个任务中的机器工作顺序，按照运行时间降序排序</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Arrays.<span style="color:#658b00">sort</span>(tasks,<span style="color:#bbb"> </span>(a,<span style="color:#bbb"> </span>b)<span style="color:#bbb"> </span>-&gt;<span style="color:#bbb"> </span>b[1]<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>a[1]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>configEndTime<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>ans<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>task<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>tasks)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>configCost<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>task[0];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>runCost<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>task[1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>configEndTime<span style="color:#bbb"> </span>+=<span style="color:#bbb"> </span>configCost;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>ans<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Math.<span style="color:#658b00">max</span>(ans,<span style="color:#bbb"> </span>configEndTime<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>runCost);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(ans);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="21-高效货运">
  21. 高效货运
  <a class="anchor" href="#21-%e9%ab%98%e6%95%88%e8%b4%a7%e8%bf%90">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>老李是货运公司承运人，老李的货车额定载货重量为 wt。现有两种货物：
</span></span><span style="display:flex;"><span>货物 A 单件重量为 wa，单件运费利润为 pa
</span></span><span style="display:flex;"><span>货物 B 单件重量为 wb，单件运费利润为 pb
</span></span><span style="display:flex;"><span>老李每次发车时载货总重量刚好为货车额定的载货重量 wt，车上必须同时有货物 A 和货物 B ，货物A、B不可切割。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>老李单次满载运输可获得的最高利润是多少？
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一列输入为货物 A 的单件重量 wa，0 ＜ wa ＜ 10000
</span></span><span style="display:flex;"><span>第二列输入为货物 B 的单件重量 wb，0 ＜ wb ＜ 10000
</span></span><span style="display:flex;"><span>第三列输入为货车的额定载重 wt，   0 ＜ wt ＜ 100000
</span></span><span style="display:flex;"><span>第四列输入为货物 A 的单件运费利润 pa，0 ＜ pa ＜ 1000
</span></span><span style="display:flex;"><span>第五列输入为货物 B 的单件运费利润 pb，0 ＜ pb ＜ 1000
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>单次满载运输的最高利润
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：10 8 36 15 7
</span></span><span style="display:flex;"><span>输出：44
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：1 1 2 1 1
</span></span><span style="display:flex;"><span>输出：2
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>wa<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>wb<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>wt<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>pa<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>pb<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 装入货车的A货物数量至少1件，至多(wt - wb) / wa件</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>minX<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>maxX<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>(wt<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>wb)<span style="color:#bbb"> </span>/<span style="color:#bbb"> </span>wa;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 记录最大利润</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>ans<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 枚举A货物的可能数量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>minX;<span style="color:#bbb"> </span>x<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span>maxX;<span style="color:#bbb"> </span>x++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// B货物可能的总重量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>remain<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>wt<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>wa<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>x;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(remain<span style="color:#bbb"> </span>%<span style="color:#bbb"> </span>wb<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// B货物的数量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>y<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>remain<span style="color:#bbb"> </span>/<span style="color:#bbb"> </span>wb;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 计算利润，保留最大利润</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>ans<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Math.<span style="color:#658b00">max</span>(ans,<span style="color:#bbb"> </span>pa<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>x<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>pb<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>y);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(ans);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="22-根据ip查找城市">
  22. 根据IP查找城市
  <a class="anchor" href="#22-%e6%a0%b9%e6%8d%aeip%e6%9f%a5%e6%89%be%e5%9f%8e%e5%b8%82">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>某业务需要根据终端的IP地址获取该终端归属的城市，可以根据公开的IP地址池信息查询归属城市。
</span></span><span style="display:flex;"><span>地址池格式：城市名=起始IP,结束IP
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>起始和结束地址用英文逗号分隔，多个地址段采用英文分号分隔。如：
</span></span><span style="display:flex;"><span>City1=1.1.1.1,1.1.1.2;City1=1.1.1.11,1.1.1.16;City2=3.3.3.3,4.4.4.4;City3=2.2.2.2,6.6.6.6
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>一个城市可以有多个IP段，比如City1有2个IP段。
</span></span><span style="display:flex;"><span>城市间也可能存在包含关系，如City3的IP段包含City2的IP段范围。
</span></span><span style="display:flex;"><span>现在要根据输入的IP列表，返回最佳匹配的城市列表。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>注：最佳匹配即包含待查询IP且长度最小的IP段，
</span></span><span style="display:flex;"><span>比如例子中3.4.4.4最佳匹配是City2=3.3.3.3,4.4.4.4，5.5.5.5的最佳匹配是City3=2.2.2.2,6.6.6.6
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一行为城市的IP段列表，多个IP段采用英文分号 &#39;;&#39; 分隔，IP段列表最大不超过500000。
</span></span><span style="display:flex;"><span>城市名称只包含英文字母、数字和下划线。最多不超过100000个。IP段包含关系可能有多层，但不超过100层。
</span></span><span style="display:flex;"><span>第二行为查询的IP列表，多个IP采用英文逗号 &#39;,&#39; 分隔，最多不超过10000条。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>最佳匹配的城市名列表，采用英文逗号分隔，城市列表长度应该跟查询的IP列表长度一致。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>备注：
</span></span><span style="display:flex;"><span>1. 假定用例中的所有输入均合法，IP地址均为合法的ipv4地址，满足 (1~255).(0~255).(0~255).(0~255) 的格式
</span></span><span style="display:flex;"><span>2. 无论是否查到匹配正常都要输出分隔符。
</span></span><span style="display:flex;"><span>举例：假如输入IP列表为IPa,IPb，两个IP均未有匹配城市，此时输出为&#34;,&#34;，即只有一个逗号分隔符，两个城市均为空；
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：City1=1.1.1.1,1.1.1.2;City1=1.1.1.11,1.1.1.16;City2=3.3.3.3,4.4.4.4;City3=2.2.2.2,6.6.6.6
</span></span><span style="display:flex;"><span>     1.1.1.15,3.3.3.5,2.2.2.3
</span></span><span style="display:flex;"><span>输出：City1,City2,City3
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">Range</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>city;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span>startIpDec;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span>endIpDec;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span>ipLen;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#008b45">Range</span>(String<span style="color:#bbb"> </span>city,<span style="color:#bbb"> </span>String<span style="color:#bbb"> </span>startIpStr,<span style="color:#bbb"> </span>String<span style="color:#bbb"> </span>endIpStr)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">city</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>city;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 将IP地址转为整型</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">startIpDec</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>ip2dec(startIpStr);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">endIpDec</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>ip2dec(endIpStr);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">ipLen</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">endIpDec</span><span style="color:#bbb"> </span>-<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">startIpDec</span><span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>ArrayList&lt;Range&gt;<span style="color:#bbb"> </span>ranges<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>ArrayList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 城市IP列表</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>cities<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34;;&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 待查询的IP列表</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>queryIps<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34;,&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 提取各个城市IP列表信息</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(String<span style="color:#bbb"> </span>city<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>cities)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>String[]<span style="color:#bbb"> </span>tmp<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>city.<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34;[=,]&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>ranges.<span style="color:#658b00">add</span>(<span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Range(tmp[0],<span style="color:#bbb"> </span>tmp[1],<span style="color:#bbb"> </span>tmp[2]));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 遍历待查询的IP地址</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>StringJoiner<span style="color:#bbb"> </span>joiner<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>StringJoiner(<span style="color:#cd5555">&#34;,&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(String<span style="color:#bbb"> </span>ip<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>queryIps)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span>ipDec<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>ip2dec(ip);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 记录该目标IP地址的最佳匹配城市</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>String<span style="color:#bbb"> </span>city<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#cd5555">&#34;&#34;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 记录最佳匹配城市IP段的长度</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span>minLen<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Long.<span style="color:#658b00">MAX_VALUE</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 将带查询IP与城市IP段列表逐一匹配</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(Range<span style="color:#bbb"> </span>range<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>ranges)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(ipDec<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>range.<span style="color:#658b00">startIpDec</span><span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>ipDec<span style="color:#bbb"> </span>&lt;=<span style="color:#bbb"> </span>range.<span style="color:#658b00">endIpDec</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>&amp;&amp;<span style="color:#bbb"> </span>minLen<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>range.<span style="color:#658b00">ipLen</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>city<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>range.<span style="color:#658b00">city</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>minLen<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>range.<span style="color:#658b00">ipLen</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>joiner.<span style="color:#658b00">add</span>(city);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(joiner);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">// IP地址转整型</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span><span style="color:#008b45">ip2dec</span>(String<span style="color:#bbb"> </span>ip)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">long</span><span style="color:#bbb"> </span>res<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>blocks<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>ip.<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34;\\.&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(String<span style="color:#bbb"> </span>block<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>blocks)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>res<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>(Integer.<span style="color:#658b00">parseInt</span>(block))<span style="color:#bbb"> </span>|<span style="color:#bbb"> </span>(res<span style="color:#bbb"> </span>&lt;&lt;<span style="color:#bbb"> </span>8);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>res;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="23-欢乐的周末">
  23. 欢乐的周末
  <a class="anchor" href="#23-%e6%ac%a2%e4%b9%90%e7%9a%84%e5%91%a8%e6%9c%ab">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>小华和小为是很要好的朋友，他们约定周末一起吃饭。
</span></span><span style="display:flex;"><span>通过手机交流，他们在地图上选择了多个聚餐地点（由于自然地形等原因，部分聚餐地点不可达），
</span></span><span style="display:flex;"><span>求小华和小为都能到达的聚餐地点有多少个？
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>第一行输入 m 和 n（m 代表地图的长度，n 代表地图的宽度）
</span></span><span style="display:flex;"><span>第二行开始具体输入地图信息，地图信息包含：
</span></span><span style="display:flex;"><span>0 为通畅的道路
</span></span><span style="display:flex;"><span>1 为障碍物（且仅1为障碍物）
</span></span><span style="display:flex;"><span>2 为小华或者小为，地图中必定有且仅有2个 （非障碍物）
</span></span><span style="display:flex;"><span>3 为被选中的聚餐地点（非障碍物）
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>可以被两方都到达的聚餐地点数量，行末无空格。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>备注：
</span></span><span style="display:flex;"><span>地图的长宽为 m 和 n，其中：4 ≤ m ≤ 100，4 ≤ n ≤ 100
</span></span><span style="display:flex;"><span>聚餐的地点数量为 k，1＜ k ≤ 100
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：4 4
</span></span><span style="display:flex;"><span>      2 1 0 3
</span></span><span style="display:flex;"><span>      0 1 2 1
</span></span><span style="display:flex;"><span>      0 3 0 0
</span></span><span style="display:flex;"><span>      0 0 0 0
</span></span><span style="display:flex;"><span>输出：2
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：4 4
</span></span><span style="display:flex;"><span>      2 1 2 3
</span></span><span style="display:flex;"><span>      0 1 0 0
</span></span><span style="display:flex;"><span>      0 1 0 0
</span></span><span style="display:flex;"><span>      0 1 0 0
</span></span><span style="display:flex;"><span>输出：0
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 长度m表示行数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>m<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 宽度n表示列数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>matrix<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[m][n];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>m;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>matrix[i][j]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(getResult(matrix));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>(<span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>matrix)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>rows<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>matrix.<span style="color:#658b00">length</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>cols<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>matrix[0].<span style="color:#658b00">length</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>UnionFindSet<span style="color:#bbb"> </span>ufs<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>UnionFindSet(rows<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>cols);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 记录小华，小为的位置</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>ArrayList&lt;Integer&gt;<span style="color:#bbb"> </span>huawei<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>ArrayList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 记录餐厅的位置</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>ArrayList&lt;Integer&gt;<span style="color:#bbb"> </span>restaurants<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>ArrayList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 上下左右四个方向偏移量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>offsets<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>{{-1,<span style="color:#bbb"> </span>0},<span style="color:#bbb"> </span>{1,<span style="color:#bbb"> </span>0},<span style="color:#bbb"> </span>{0,<span style="color:#bbb"> </span>-1},<span style="color:#bbb"> </span>{0,<span style="color:#bbb"> </span>1}};<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>rows;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>cols;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(matrix[i][j]<span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#228b22">// 二维坐标(i, j) 转为 一维坐标pos</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>pos<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>cols<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>j;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(matrix[i][j]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>2)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#228b22">// 收集小华，小为的位置</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>huawei.<span style="color:#658b00">add</span>(pos);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(matrix[i][j]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>3)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#228b22">// 收集餐厅的位置</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>restaurants.<span style="color:#658b00">add</span>(pos);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>offset<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>offsets)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>newI<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>offset[0];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>newJ<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>offset[1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(newI<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>newI<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>rows<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>newJ<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>newJ<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>cols<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>matrix[newI][newJ]<span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                        </span><span style="color:#228b22">// 如果(i,j)和（newI,newJ）位置都是非1，则合并</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                        </span>ufs.<span style="color:#658b00">union</span>(pos,<span style="color:#bbb"> </span>newI<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>cols<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>newJ);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 小华所在连通分量的根</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>hua_fa<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>ufs.<span style="color:#658b00">find</span>(huawei.<span style="color:#658b00">get</span>(0));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 小为所在连通分量的根</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>wei_fa<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>ufs.<span style="color:#658b00">find</span>(huawei.<span style="color:#658b00">get</span>(1));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 如果小华和小为的不属于同一个连通分量，则二人无法去往相同餐厅</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(hua_fa<span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span>wei_fa)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 找出和小华、小为在同一个连通分量里面的餐厅</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>ans<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(Integer<span style="color:#bbb"> </span>restaurant<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>restaurants)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(ufs.<span style="color:#658b00">find</span>(restaurant)<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>hua_fa)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>ans++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>ans;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">// 并查集实现</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">UnionFindSet</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>fa;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#008b45">UnionFindSet</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>fa<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[n];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>fa[i]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>i;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#008b45">find</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(x<span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">fa</span>[x])<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">fa</span>[x]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">find</span>(<span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">fa</span>[x]);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">fa</span>[x];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>x;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">union</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>y)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x_fa<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">find</span>(x);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>y_fa<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">find</span>(y);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(x_fa<span style="color:#bbb"> </span>!=<span style="color:#bbb"> </span>y_fa)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">this</span>.<span style="color:#658b00">fa</span>[y_fa]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>x_fa;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="24-机器人走迷宫">
  24. 机器人走迷宫
  <a class="anchor" href="#24-%e6%9c%ba%e5%99%a8%e4%ba%ba%e8%b5%b0%e8%bf%b7%e5%ae%ab">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>1、房间有X*Y的方格组成，例如下图为6*4的大小。每一个放个以坐标(x,y)描述。
</span></span><span style="display:flex;"><span>2、机器人固定从方格(0,0)出发，只能向东或者向北前进，出口固定为房间的最东北角，用例保证机器人可以从入口走到出口。
</span></span><span style="display:flex;"><span>3、房间有些方格是墙壁，如(4,1),机器人不能经过那儿。
</span></span><span style="display:flex;"><span>4、有些地方是一旦到达就无法走到出口的，如标记为B的方格，称之为陷阱方格。
</span></span><span style="display:flex;"><span>5、有些地方是机器人无法达到的，如标记为A的方格，称之为不可达方格，不可达方格不包括墙壁所在的位置
</span></span><span style="display:flex;"><span>6、如下实例图中，陷阱方格有2个，不可达方格有3个。
</span></span><span style="display:flex;"><span>请为该机器人实现路径规划功能：给定房间大小，墙壁位置，请计算出陷阱方格与不可达方格分别有多少个
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>1、第一行为房间的x和y(0 ＜ x,y ≤ 1000)
</span></span><span style="display:flex;"><span>2、第二行为房间中墙壁的个数N (0 ≤ N ＜ X*Y)
</span></span><span style="display:flex;"><span>3、接着下面会有N行墙壁的坐标
</span></span><span style="display:flex;"><span>同一行中如果有多个数据以一个空格隔开，用例保证所有的输入数据均合法，(结尾不带回车换行)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>陷阱方格与不可达方格数量，两个信息在一行中输出，以一个空格隔开。(结尾不带回车换行)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：6 4
</span></span><span style="display:flex;"><span>     5
</span></span><span style="display:flex;"><span>     0 2
</span></span><span style="display:flex;"><span>     1 2
</span></span><span style="display:flex;"><span>     2 2
</span></span><span style="display:flex;"><span>     4 1
</span></span><span style="display:flex;"><span>     5 1
</span></span><span style="display:flex;"><span>输出：2 3
</span></span></code></pre></div><img src="/img/2024Q3/img_2024-09-11_230531.png" width="650">
</li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>y;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>poses;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>matrix;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>x<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb"> </span><span style="color:#228b22">// 行数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>y<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb"> </span><span style="color:#228b22">// 列数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb"> </span><span style="color:#228b22">// 墙数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>poses<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[n][2];<span style="color:#bbb"> </span><span style="color:#228b22">// 墙位置</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>poses[i][0]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>poses[i][1]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>getResult();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>()<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>matrix<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[x][y];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>pos<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>poses)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>pos[0];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>pos[1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>matrix[i][j]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>1;<span style="color:#bbb"> </span><span style="color:#228b22">// 墙点值为1，非墙点值为0</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>matrix[x<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1][y<span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>1]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>2;<span style="color:#bbb"> </span><span style="color:#228b22">// 可达点值为2</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>dfs(0,<span style="color:#bbb"> </span>0);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>trap<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span><span style="color:#228b22">// 陷阱数量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>unreach<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span><span style="color:#228b22">// 不可达点数量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>x;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>y;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(matrix[i][j]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>unreach++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(matrix[i][j]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>-1)<span style="color:#bbb"> </span>trap++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(trap<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span><span style="color:#cd5555">&#34; &#34;</span><span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>unreach);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">boolean</span><span style="color:#bbb"> </span><span style="color:#008b45">dfs</span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>cx,<span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>cy)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(cx<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>x<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>cy<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>y)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">false</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(matrix[cx][cy]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">false</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(matrix[cx][cy]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>-1)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">false</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(matrix[cx][cy]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>2)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">true</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(matrix[cx][cy]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">boolean</span><span style="color:#bbb"> </span>east<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>dfs(cx<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>cy);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#00688b;font-weight:bold">boolean</span><span style="color:#bbb"> </span>north<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>dfs(cx,<span style="color:#bbb"> </span>cy<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>1);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(east<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>north)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 如果向东可达或者向北可达，则当前点可达，将值设为2</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>matrix[cx][cy]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>2;<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#228b22">// 如果向东，向北都不可达，则当前前也是不可达点，将值设为-1</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>matrix[cx][cy]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>-1;<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>matrix[cx][cy]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>2;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
<h2 id="25-计算疫情扩散时间">
  25. 计算疫情扩散时间
  <a class="anchor" href="#25-%e8%ae%a1%e7%ae%97%e7%96%ab%e6%83%85%e6%89%a9%e6%95%a3%e6%97%b6%e9%97%b4">#</a>
</h2>
<ul>
<li>
<p>描述</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>在一个地图中(地图由n*n个区域组成），有部分区域被感染病菌。 感染区域每天都会把周围（上下左右）的4个区域感染。 请根据给定的地图计算，多少天以后，全部区域都会被感染。 如果初始地图上所有区域全部都被感染，或者没有被感染区域，返回-1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入描述：
</span></span><span style="display:flex;"><span>一行N*N个数字（只包含0,1，不会有其他数字）表示一个地图，数字间用,分割，0表示未感染区域，1表示已经感染区域 
</span></span><span style="display:flex;"><span>每N个数字表示地图中一行，输入数据共表示N行N列的区域地图。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>例如输入1,0,1,0,0,0,1,0,1，表示地图
</span></span><span style="display:flex;"><span>1,0,1
</span></span><span style="display:flex;"><span>0,0,0
</span></span><span style="display:flex;"><span>1,0,1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输出描述：
</span></span><span style="display:flex;"><span>一个整数，表示经过多少天以后，全部区域都被感染 1≤N＜200
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：1,0,1,0,0,0,1,0,1
</span></span><span style="display:flex;"><span>输出：2
</span></span><span style="display:flex;"><span>说明：1天以后，地图中仅剩余中心点未被感染；2天以后，全部被感染。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：0,0,0,0
</span></span><span style="display:flex;"><span>输出：-1
</span></span><span style="display:flex;"><span>说明：无感染区域
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>输入：1,1,1,1,1,1,1,1,1
</span></span><span style="display:flex;"><span>输出：-1
</span></span><span style="display:flex;"><span>说明：全部都感染
</span></span></code></pre></div></li>
<li>
<p>题解</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#008b45">main</span>(String[]<span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Scanner<span style="color:#bbb"> </span>sc<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#658b00">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String[]<span style="color:#bbb"> </span>split<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>sc.<span style="color:#658b00">nextLine</span>().<span style="color:#658b00">split</span>(<span style="color:#cd5555">&#34;,&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Integer[]<span style="color:#bbb"> </span>arr<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>Arrays.<span style="color:#658b00">stream</span>(split).<span style="color:#658b00">map</span>(Integer::parseInt).<span style="color:#658b00">toArray</span>(Integer[]::<span style="color:#8b008b;font-weight:bold">new</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(getResult(arr));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#008b45">getResult</span>(Integer[]<span style="color:#bbb"> </span>arr)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span>)<span style="color:#bbb"> </span>Math.<span style="color:#658b00">sqrt</span>(arr.<span style="color:#658b00">length</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>matrix<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#00688b;font-weight:bold">int</span>[n][n];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 将矩阵中所有感染区域位置记录到queue中</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>LinkedList&lt;Integer[]&gt;<span style="color:#bbb"> </span>queue<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>LinkedList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>j++)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>matrix[i][j]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>arr[i<span style="color:#bbb"> </span>*<span style="color:#bbb"> </span>n<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>j];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(matrix[i][j]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>queue.<span style="color:#658b00">add</span>(<span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Integer[]{i,<span style="color:#bbb"> </span>j});<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 全是感染区，或全是健康区</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(queue.<span style="color:#658b00">isEmpty</span>()<span style="color:#bbb"> </span>||<span style="color:#bbb"> </span>queue.<span style="color:#658b00">size</span>()<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>arr.<span style="color:#658b00">length</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>-1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 健康区个数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>healthy<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>arr.<span style="color:#658b00">length</span><span style="color:#bbb"> </span>-<span style="color:#bbb"> </span>queue.<span style="color:#658b00">size</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 上下左右偏移量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span>[][]<span style="color:#bbb"> </span>offsets<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>{{-1,<span style="color:#bbb"> </span>0},<span style="color:#bbb"> </span>{1,<span style="color:#bbb"> </span>0},<span style="color:#bbb"> </span>{0,<span style="color:#bbb"> </span>-1},<span style="color:#bbb"> </span>{0,<span style="color:#bbb"> </span>1}};<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// day用于统计感染全部花费的时间</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>day<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#228b22">// 如果健康区个数为0，说明感染完了</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">while</span><span style="color:#bbb"> </span>(!queue.<span style="color:#658b00">isEmpty</span>()<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>healthy<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#228b22">// 遍历完当前queue的所有感染区，即过去一天</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>LinkedList&lt;Integer[]&gt;<span style="color:#bbb"> </span>newQue<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>LinkedList&lt;&gt;();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(Integer[]<span style="color:#bbb"> </span>tmp<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>queue)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>x<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>tmp[0],<span style="color:#bbb"> </span>y<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>tmp[1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#8b008b;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#00688b;font-weight:bold">int</span>[]<span style="color:#bbb"> </span>offset<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>offsets)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>newX<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>x<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>offset[0];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#00688b;font-weight:bold">int</span><span style="color:#bbb"> </span>newY<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>y<span style="color:#bbb"> </span>+<span style="color:#bbb"> </span>offset[1];<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span>(newX<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>newX<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                        </span>&amp;&amp;<span style="color:#bbb"> </span>newY<span style="color:#bbb"> </span>&gt;=<span style="color:#bbb"> </span>0<span style="color:#bbb"> </span>&amp;&amp;<span style="color:#bbb"> </span>newY<span style="color:#bbb"> </span>&lt;<span style="color:#bbb"> </span>n<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                        </span>&amp;&amp;<span style="color:#bbb"> </span>matrix[newX][newY]<span style="color:#bbb"> </span>==<span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>matrix[newX][newY]<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>healthy--;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#228b22">// 新增感染区加到newQue中，不影响queue的当前遍历</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>newQue.<span style="color:#658b00">add</span>(<span style="color:#8b008b;font-weight:bold">new</span><span style="color:#bbb"> </span>Integer[]{newX,<span style="color:#bbb"> </span>newY});<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>day++;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>queue<span style="color:#bbb"> </span>=<span style="color:#bbb"> </span>newQue;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">return</span><span style="color:#bbb"> </span>day;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div></li>
</ul>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        


<div class="flex flex-wrap justify-center">
  
  <div class="copyright">
    <a class="copyright" href="mailto:jianda1024@163.com" target="_blank" title='EmailTo: jianda1024@163.com'>
      Copyright © 2024-2025
    </a>
    <br/>
    <a class="copyright" href="#" onclick="showIData()" title='Jianda'>
      <strong>Jianda</strong>
    </a>
  </div>
</div>
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#01-5g网络建设">01. 5G网络建设</a></li>
    <li><a href="#02-n进制减法">02. N进制减法</a></li>
    <li><a href="#03-tlv解析">03. TLV解析</a></li>
    <li><a href="#04-wonderland">04. Wonderland</a></li>
    <li><a href="#05-比较两个版本号的大小">05. 比较两个版本号的大小</a></li>
    <li><a href="#06-猜密码">06. 猜密码</a></li>
    <li><a href="#07-查找一个有向网络的头节点和尾节点">07. 查找一个有向网络的头节点和尾节点</a></li>
    <li><a href="#08-出错的或电路">08. 出错的或电路</a></li>
    <li><a href="#09-打印任务排序">09. 打印任务排序</a></li>
    <li><a href="#10-导师请吃火锅">10. 导师请吃火锅</a></li>
    <li><a href="#11-电脑病毒感染">11. 电脑病毒感染</a></li>
    <li><a href="#12-叠积木">12. 叠积木</a></li>
    <li><a href="#13-二叉树的广度优先遍历">13. 二叉树的广度优先遍历</a></li>
    <li><a href="#14-二叉树计算">14. 二叉树计算</a></li>
    <li><a href="#15-发广播">15. 发广播</a></li>
    <li><a href="#16-伐木工">16. 伐木工</a></li>
    <li><a href="#17-反射计数">17. 反射计数</a></li>
    <li><a href="#18-分月饼">18. 分月饼</a></li>
    <li><a href="#19-符号运算">19. 符号运算</a></li>
    <li><a href="#20-高效的任务规划">20. 高效的任务规划</a></li>
    <li><a href="#21-高效货运">21. 高效货运</a></li>
    <li><a href="#22-根据ip查找城市">22. 根据IP查找城市</a></li>
    <li><a href="#23-欢乐的周末">23. 欢乐的周末</a></li>
    <li><a href="#24-机器人走迷宫">24. 机器人走迷宫</a></li>
    <li><a href="#25-计算疫情扩散时间">25. 计算疫情扩散时间</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  

</body>
</html>












